2025-12-19 11:13:47,106 - INFO - 訓練期間ベース: 2021-01-01 00:00:00
2025-12-19 11:13:47,106 - INFO - 評価期間ベース: 2023-01-01 00:00:00
2025-12-19 11:13:47,106 - INFO - 生成されたパターン数: 10
2025-12-19 11:13:47,106 - INFO -   0-3m → 0-3m
2025-12-19 11:13:47,106 - INFO -   0-3m → 3-6m
2025-12-19 11:13:47,106 - INFO -   0-3m → 6-9m
2025-12-19 11:13:47,106 - INFO -   0-3m → 9-12m
2025-12-19 11:13:47,106 - INFO -   3-6m → 3-6m
2025-12-19 11:13:47,106 - INFO -   3-6m → 6-9m
2025-12-19 11:13:47,106 - INFO -   3-6m → 9-12m
2025-12-19 11:13:47,106 - INFO -   6-9m → 6-9m
2025-12-19 11:13:47,106 - INFO -   6-9m → 9-12m
2025-12-19 11:13:47,106 - INFO -   9-12m → 9-12m
2025-12-19 11:13:47,106 - INFO - ================================================================================
2025-12-19 11:13:47,106 - INFO - 全10パターンの訓練・評価を開始
2025-12-19 11:13:47,106 - INFO - ================================================================================
2025-12-19 11:13:47,106 - INFO - 
【1/10】パターン実行中...
2025-12-19 11:13:47,107 - INFO - ================================================================================
2025-12-19 11:13:47,107 - INFO - パターン: 0-3m → 0-3m
2025-12-19 11:13:47,107 - INFO - 訓練期間: 2021-01-01 00:00:00 ～ 2021-04-01 00:00:00
2025-12-19 11:13:47,107 - INFO - 評価期間: 2023-01-01 00:00:00 ～ 2023-04-01 00:00:00
2025-12-19 11:13:47,107 - INFO - ================================================================================
2025-12-19 11:13:48,191 - INFO - レビュー依頼データを読み込み: data/android_50proj_2021_2024_feat.csv
2025-12-19 11:13:48,462 - INFO - 総レビュー依頼数: 67806
2025-12-19 11:13:48,463 - INFO - 承諾数: 42829 (63.2%)
2025-12-19 11:13:48,463 - INFO - 拒否数: 24977 (36.8%)
2025-12-19 11:13:48,463 - INFO - 将来窓設定: 0～24ヶ月
2025-12-19 11:13:48,463 - INFO - 訓練用軌跡を抽出...
2025-12-19 11:13:48,463 - INFO - ================================================================================
2025-12-19 11:13:48,463 - INFO - レビュー承諾予測用軌跡抽出を開始（データリークなし版）
2025-12-19 11:13:48,463 - INFO - 訓練期間全体: 2021-01-01 00:00:00 ～ 2021-04-01 00:00:00
2025-12-19 11:13:48,463 - INFO - 将来窓: 0～24ヶ月
2025-12-19 11:13:48,463 - INFO - 拡張ラベル期間: 0～12ヶ月
2025-12-19 11:13:48,463 - INFO - プロジェクト: 全プロジェクト
2025-12-19 11:13:48,463 - INFO - ラベル定義: この期間で承諾=1、この期間で拒否=0、依頼なし→拡張期間チェック、訓練時は拡張期間にも依頼なしで除外
2025-12-19 11:13:48,463 - INFO - データリーク防止: 訓練期間内でラベル計算
2025-12-19 11:13:48,463 - INFO - ================================================================================
2025-12-19 11:13:48,463 - INFO - 特徴量計算期間（訓練全体）: 2021-01-01 00:00:00 ～ 2021-04-01 00:00:00
2025-12-19 11:13:48,463 - INFO - 全体ラベル期間（train_end時点から）: 2021-04-01 00:00:00 ～ 2023-04-01 00:00:00
2025-12-19 11:13:48,469 - INFO - 特徴量計算期間内のレビュアー数: 243
2025-12-19 11:13:50,086 - INFO - ================================================================================
2025-12-19 11:13:50,086 - INFO - 軌跡抽出完了: 196サンプル（レビュアー）
2025-12-19 11:13:50,086 - INFO -   スキップ（最小依頼数未満）: 0
2025-12-19 11:13:50,086 - INFO -   スキップ（訓練期間末尾まで依頼なし）: 47
2025-12-19 11:13:50,086 - INFO -   正例（この期間で承諾あり）: 175 (89.3%)
2025-12-19 11:13:50,086 - INFO -   負例（この期間で承諾なし）: 21 (10.7%)
2025-12-19 11:13:50,086 - INFO -     - 依頼あり→拒否（重み=1.0）: 21
2025-12-19 11:13:50,087 - INFO -   総ステップ数: 392
2025-12-19 11:13:50,087 - INFO -   継続ステップ率: 54.6% (214/392)
2025-12-19 11:13:50,087 - INFO - ================================================================================
/Users/kazuki-h/research/multiproject_research/.venv/lib/python3.13/site-packages/torch/nn/modules/rnn.py:123: UserWarning: dropout option adds dropout after all but last recurrent layer, so non-zero dropout expects num_layers greater than 1, but got dropout=0.2 and num_layers=1
  warnings.warn(
2025-12-19 11:13:50,540 - INFO - 継続予測IRLシステムを初期化しました
2025-12-19 11:13:50,540 - INFO - 訓練データ正例率: 89.3% (175/196)
2025-12-19 11:13:50,541 - INFO - Focal Loss パラメータ更新: alpha=0.400, gamma=1.000
2025-12-19 11:13:50,541 - INFO - 正例率 89.3% に基づき自動調整: バランス重視（正例率≥60%・軽い正例優先)
2025-12-19 11:13:50,541 - INFO - IRLモデルを訓練...
2025-12-19 11:13:50,541 - INFO - ============================================================
2025-12-19 11:13:50,541 - INFO - 時系列IRL訓練開始
2025-12-19 11:13:50,541 - INFO - 軌跡数: 196
2025-12-19 11:13:50,541 - INFO - エポック数: 20
2025-12-19 11:13:50,541 - INFO - ============================================================
2025-12-19 11:13:50,974 - INFO - エポック 0: 平均損失 = 1.1657
2025-12-19 11:13:54,611 - INFO - エポック 10: 平均損失 = 0.8743
2025-12-19 11:13:57,771 - INFO - 時系列IRL訓練完了
2025-12-19 11:13:57,771 - INFO - 訓練データ上で最適閾値を決定...
2025-12-19 11:13:58,234 - INFO - 最適閾値: 0.1144
2025-12-19 11:13:58,234 - INFO - 訓練データ性能: Precision=0.893, Recall=1.000, F1=0.943
2025-12-19 11:13:58,236 - INFO - モデルを保存: outputs/android_50projects_irl/train_0-3m/irl_model.pt
2025-12-19 11:13:58,236 - INFO - 最適閾値を保存: outputs/android_50projects_irl/train_0-3m/optimal_threshold.json
2025-12-19 11:13:58,236 - INFO - 評価用軌跡を抽出...
2025-12-19 11:13:58,237 - INFO - ================================================================================
2025-12-19 11:13:58,237 - INFO - 評価用軌跡抽出を開始（スナップショット特徴量用）
2025-12-19 11:13:58,237 - INFO - Cutoff日: 2021-04-01 00:00:00
2025-12-19 11:13:58,237 - INFO - 履歴ウィンドウ: 3ヶ月
2025-12-19 11:13:58,237 - INFO - 将来窓: 21～24ヶ月
2025-12-19 11:13:58,237 - INFO - 拡張ラベル期間: 21～12ヶ月
2025-12-19 11:13:58,237 - INFO - プロジェクト: 全プロジェクト
2025-12-19 11:13:58,237 - INFO - 継続判定: この期間で承諾=1、この期間で拒否=0、依頼なし→拡張期間チェック、評価時は拡張期間にも依頼なしで除外（予測の母集団に入れない）
2025-12-19 11:13:58,237 - INFO - ================================================================================
2025-12-19 11:13:58,237 - INFO - 履歴期間: 2021-01-01 00:00:00 ～ 2021-04-01 00:00:00
2025-12-19 11:13:58,237 - INFO - 評価期間: 2023-01-01 00:00:00 ～ 2023-04-01 00:00:00
2025-12-19 11:13:58,239 - INFO - 履歴期間内のレビュアー数: 243
2025-12-19 11:13:58,504 - INFO - ================================================================================
2025-12-19 11:13:58,504 - INFO - 評価用軌跡抽出完了: 143サンプル
2025-12-19 11:13:58,504 - INFO -   スキップ（最小依頼数未満）: 0
2025-12-19 11:13:58,504 - INFO -   スキップ（訓練期間末尾まで依頼なし）: 100
2025-12-19 11:13:58,504 - INFO -   正例（この期間で承諾あり）: 124 (86.7%)
2025-12-19 11:13:58,504 - INFO -   負例（この期間で承諾なし）: 19 (13.3%)
2025-12-19 11:13:58,504 - INFO -     - 依頼あり→拒否（重み=1.0）: 19
2025-12-19 11:13:58,504 - INFO - ================================================================================
2025-12-19 11:13:58,505 - INFO - 予測を実行...
2025-12-19 11:13:58,894 - INFO - ================================================================================
2025-12-19 11:13:58,894 - INFO - 評価結果 (0-3m → 0-3m):
2025-12-19 11:13:58,894 - INFO -   AUC-ROC: 0.4160
2025-12-19 11:13:58,894 - INFO -   AUC-PR: 0.8667
2025-12-19 11:13:58,894 - INFO -   Precision: 0.8671
2025-12-19 11:13:58,894 - INFO -   Recall: 1.0000
2025-12-19 11:13:58,894 - INFO -   F1 Score: 0.9288
2025-12-19 11:13:58,894 - INFO - ================================================================================
2025-12-19 11:13:58,896 - INFO - 結果を保存: outputs/android_50projects_irl/train_0-3m/eval_0-3m
2025-12-19 11:13:58,900 - INFO - 
【2/10】パターン実行中...
2025-12-19 11:13:58,900 - INFO - ================================================================================
2025-12-19 11:13:58,900 - INFO - パターン: 0-3m → 3-6m
2025-12-19 11:13:58,900 - INFO - 訓練期間: 2021-01-01 00:00:00 ～ 2021-04-01 00:00:00
2025-12-19 11:13:58,900 - INFO - 評価期間: 2023-04-01 00:00:00 ～ 2023-07-01 00:00:00
2025-12-19 11:13:58,900 - INFO - ================================================================================
2025-12-19 11:13:58,900 - INFO - レビュー依頼データを読み込み: data/android_50proj_2021_2024_feat.csv
2025-12-19 11:13:59,178 - INFO - 総レビュー依頼数: 67806
2025-12-19 11:13:59,178 - INFO - 承諾数: 42829 (63.2%)
2025-12-19 11:13:59,179 - INFO - 拒否数: 24977 (36.8%)
2025-12-19 11:13:59,179 - INFO - 将来窓設定: 0～27ヶ月
2025-12-19 11:13:59,179 - INFO - 訓練用軌跡を抽出...
2025-12-19 11:13:59,179 - INFO - ================================================================================
2025-12-19 11:13:59,179 - INFO - レビュー承諾予測用軌跡抽出を開始（データリークなし版）
2025-12-19 11:13:59,179 - INFO - 訓練期間全体: 2021-01-01 00:00:00 ～ 2021-04-01 00:00:00
2025-12-19 11:13:59,179 - INFO - 将来窓: 0～27ヶ月
2025-12-19 11:13:59,179 - INFO - 拡張ラベル期間: 0～12ヶ月
2025-12-19 11:13:59,179 - INFO - プロジェクト: 全プロジェクト
2025-12-19 11:13:59,179 - INFO - ラベル定義: この期間で承諾=1、この期間で拒否=0、依頼なし→拡張期間チェック、訓練時は拡張期間にも依頼なしで除外
2025-12-19 11:13:59,179 - INFO - データリーク防止: 訓練期間内でラベル計算
2025-12-19 11:13:59,179 - INFO - ================================================================================
2025-12-19 11:13:59,179 - INFO - 特徴量計算期間（訓練全体）: 2021-01-01 00:00:00 ～ 2021-04-01 00:00:00
2025-12-19 11:13:59,179 - INFO - 全体ラベル期間（train_end時点から）: 2021-04-01 00:00:00 ～ 2023-07-01 00:00:00
2025-12-19 11:13:59,184 - INFO - 特徴量計算期間内のレビュアー数: 243
2025-12-19 11:14:00,527 - INFO - ================================================================================
2025-12-19 11:14:00,527 - INFO - 軌跡抽出完了: 197サンプル（レビュアー）
2025-12-19 11:14:00,527 - INFO -   スキップ（最小依頼数未満）: 0
2025-12-19 11:14:00,527 - INFO -   スキップ（訓練期間末尾まで依頼なし）: 46
2025-12-19 11:14:00,527 - INFO -   正例（この期間で承諾あり）: 177 (89.8%)
2025-12-19 11:14:00,527 - INFO -   負例（この期間で承諾なし）: 20 (10.2%)
2025-12-19 11:14:00,527 - INFO -     - 依頼あり→拒否（重み=1.0）: 20
2025-12-19 11:14:00,527 - INFO -   総ステップ数: 394
2025-12-19 11:14:00,527 - INFO -   継続ステップ率: 54.3% (214/394)
2025-12-19 11:14:00,527 - INFO - ================================================================================
/Users/kazuki-h/research/multiproject_research/.venv/lib/python3.13/site-packages/torch/nn/modules/rnn.py:123: UserWarning: dropout option adds dropout after all but last recurrent layer, so non-zero dropout expects num_layers greater than 1, but got dropout=0.2 and num_layers=1
  warnings.warn(
2025-12-19 11:14:00,529 - INFO - 継続予測IRLシステムを初期化しました
2025-12-19 11:14:00,529 - INFO - 訓練データ正例率: 89.8% (177/197)
2025-12-19 11:14:00,529 - INFO - Focal Loss パラメータ更新: alpha=0.400, gamma=1.000
2025-12-19 11:14:00,530 - INFO - 正例率 89.8% に基づき自動調整: バランス重視（正例率≥60%・軽い正例優先)
2025-12-19 11:14:00,530 - INFO - IRLモデルを訓練...
2025-12-19 11:14:00,530 - INFO - ============================================================
2025-12-19 11:14:00,530 - INFO - 時系列IRL訓練開始
2025-12-19 11:14:00,530 - INFO - 軌跡数: 197
2025-12-19 11:14:00,530 - INFO - エポック数: 20
2025-12-19 11:14:00,530 - INFO - ============================================================
2025-12-19 11:14:00,887 - INFO - エポック 0: 平均損失 = 1.1690
2025-12-19 11:14:04,501 - INFO - エポック 10: 平均損失 = 0.9058
2025-12-19 11:14:07,720 - INFO - 時系列IRL訓練完了
2025-12-19 11:14:07,720 - INFO - 訓練データ上で最適閾値を決定...
2025-12-19 11:14:08,183 - INFO - 最適閾値: 0.0491
2025-12-19 11:14:08,183 - INFO - 訓練データ性能: Precision=0.898, Recall=1.000, F1=0.947
2025-12-19 11:14:08,184 - INFO - モデルを保存: outputs/android_50projects_irl/train_0-3m/irl_model.pt
2025-12-19 11:14:08,184 - INFO - 最適閾値を保存: outputs/android_50projects_irl/train_0-3m/optimal_threshold.json
2025-12-19 11:14:08,184 - INFO - 評価用軌跡を抽出...
2025-12-19 11:14:08,184 - INFO - ================================================================================
2025-12-19 11:14:08,184 - INFO - 評価用軌跡抽出を開始（スナップショット特徴量用）
2025-12-19 11:14:08,184 - INFO - Cutoff日: 2021-04-01 00:00:00
2025-12-19 11:14:08,184 - INFO - 履歴ウィンドウ: 3ヶ月
2025-12-19 11:14:08,184 - INFO - 将来窓: 24～27ヶ月
2025-12-19 11:14:08,184 - INFO - 拡張ラベル期間: 24～12ヶ月
2025-12-19 11:14:08,184 - INFO - プロジェクト: 全プロジェクト
2025-12-19 11:14:08,184 - INFO - 継続判定: この期間で承諾=1、この期間で拒否=0、依頼なし→拡張期間チェック、評価時は拡張期間にも依頼なしで除外（予測の母集団に入れない）
2025-12-19 11:14:08,184 - INFO - ================================================================================
2025-12-19 11:14:08,184 - INFO - 履歴期間: 2021-01-01 00:00:00 ～ 2021-04-01 00:00:00
2025-12-19 11:14:08,184 - INFO - 評価期間: 2023-04-01 00:00:00 ～ 2023-07-01 00:00:00
2025-12-19 11:14:08,187 - INFO - 履歴期間内のレビュアー数: 243
2025-12-19 11:14:08,442 - INFO - ================================================================================
2025-12-19 11:14:08,443 - INFO - 評価用軌跡抽出完了: 128サンプル
2025-12-19 11:14:08,443 - INFO -   スキップ（最小依頼数未満）: 0
2025-12-19 11:14:08,443 - INFO -   スキップ（訓練期間末尾まで依頼なし）: 115
2025-12-19 11:14:08,443 - INFO -   正例（この期間で承諾あり）: 111 (86.7%)
2025-12-19 11:14:08,443 - INFO -   負例（この期間で承諾なし）: 17 (13.3%)
2025-12-19 11:14:08,443 - INFO -     - 依頼あり→拒否（重み=1.0）: 17
2025-12-19 11:14:08,443 - INFO - ================================================================================
2025-12-19 11:14:08,443 - INFO - 予測を実行...
2025-12-19 11:14:08,809 - INFO - ================================================================================
2025-12-19 11:14:08,810 - INFO - 評価結果 (0-3m → 3-6m):
2025-12-19 11:14:08,810 - INFO -   AUC-ROC: 0.5647
2025-12-19 11:14:08,810 - INFO -   AUC-PR: 0.9132
2025-12-19 11:14:08,810 - INFO -   Precision: 0.8672
2025-12-19 11:14:08,810 - INFO -   Recall: 1.0000
2025-12-19 11:14:08,810 - INFO -   F1 Score: 0.9289
2025-12-19 11:14:08,810 - INFO - ================================================================================
2025-12-19 11:14:08,811 - INFO - 結果を保存: outputs/android_50projects_irl/train_0-3m/eval_3-6m
2025-12-19 11:14:08,815 - INFO - 
【3/10】パターン実行中...
2025-12-19 11:14:08,815 - INFO - ================================================================================
2025-12-19 11:14:08,815 - INFO - パターン: 0-3m → 6-9m
2025-12-19 11:14:08,815 - INFO - 訓練期間: 2021-01-01 00:00:00 ～ 2021-04-01 00:00:00
2025-12-19 11:14:08,815 - INFO - 評価期間: 2023-07-01 00:00:00 ～ 2023-10-01 00:00:00
2025-12-19 11:14:08,815 - INFO - ================================================================================
2025-12-19 11:14:08,815 - INFO - レビュー依頼データを読み込み: data/android_50proj_2021_2024_feat.csv
2025-12-19 11:14:09,087 - INFO - 総レビュー依頼数: 67806
2025-12-19 11:14:09,087 - INFO - 承諾数: 42829 (63.2%)
2025-12-19 11:14:09,087 - INFO - 拒否数: 24977 (36.8%)
2025-12-19 11:14:09,087 - INFO - 将来窓設定: 0～30ヶ月
2025-12-19 11:14:09,087 - INFO - 訓練用軌跡を抽出...
2025-12-19 11:14:09,087 - INFO - ================================================================================
2025-12-19 11:14:09,087 - INFO - レビュー承諾予測用軌跡抽出を開始（データリークなし版）
2025-12-19 11:14:09,087 - INFO - 訓練期間全体: 2021-01-01 00:00:00 ～ 2021-04-01 00:00:00
2025-12-19 11:14:09,087 - INFO - 将来窓: 0～30ヶ月
2025-12-19 11:14:09,087 - INFO - 拡張ラベル期間: 0～12ヶ月
2025-12-19 11:14:09,087 - INFO - プロジェクト: 全プロジェクト
2025-12-19 11:14:09,087 - INFO - ラベル定義: この期間で承諾=1、この期間で拒否=0、依頼なし→拡張期間チェック、訓練時は拡張期間にも依頼なしで除外
2025-12-19 11:14:09,087 - INFO - データリーク防止: 訓練期間内でラベル計算
2025-12-19 11:14:09,087 - INFO - ================================================================================
2025-12-19 11:14:09,087 - INFO - 特徴量計算期間（訓練全体）: 2021-01-01 00:00:00 ～ 2021-04-01 00:00:00
2025-12-19 11:14:09,087 - INFO - 全体ラベル期間（train_end時点から）: 2021-04-01 00:00:00 ～ 2023-10-01 00:00:00
2025-12-19 11:14:09,094 - INFO - 特徴量計算期間内のレビュアー数: 243
2025-12-19 11:14:10,546 - INFO - ================================================================================
2025-12-19 11:14:10,546 - INFO - 軌跡抽出完了: 198サンプル（レビュアー）
2025-12-19 11:14:10,546 - INFO -   スキップ（最小依頼数未満）: 0
2025-12-19 11:14:10,546 - INFO -   スキップ（訓練期間末尾まで依頼なし）: 45
2025-12-19 11:14:10,546 - INFO -   正例（この期間で承諾あり）: 180 (90.9%)
2025-12-19 11:14:10,546 - INFO -   負例（この期間で承諾なし）: 18 (9.1%)
2025-12-19 11:14:10,546 - INFO -     - 依頼あり→拒否（重み=1.0）: 18
2025-12-19 11:14:10,546 - INFO -   総ステップ数: 396
2025-12-19 11:14:10,546 - INFO -   継続ステップ率: 54.0% (214/396)
2025-12-19 11:14:10,546 - INFO - ================================================================================
/Users/kazuki-h/research/multiproject_research/.venv/lib/python3.13/site-packages/torch/nn/modules/rnn.py:123: UserWarning: dropout option adds dropout after all but last recurrent layer, so non-zero dropout expects num_layers greater than 1, but got dropout=0.2 and num_layers=1
  warnings.warn(
2025-12-19 11:14:10,549 - INFO - 継続予測IRLシステムを初期化しました
2025-12-19 11:14:10,549 - INFO - 訓練データ正例率: 90.9% (180/198)
2025-12-19 11:14:10,549 - INFO - Focal Loss パラメータ更新: alpha=0.400, gamma=1.000
2025-12-19 11:14:10,549 - INFO - 正例率 90.9% に基づき自動調整: バランス重視（正例率≥60%・軽い正例優先)
2025-12-19 11:14:10,549 - INFO - IRLモデルを訓練...
2025-12-19 11:14:10,549 - INFO - ============================================================
2025-12-19 11:14:10,549 - INFO - 時系列IRL訓練開始
2025-12-19 11:14:10,549 - INFO - 軌跡数: 198
2025-12-19 11:14:10,549 - INFO - エポック数: 20
2025-12-19 11:14:10,549 - INFO - ============================================================
2025-12-19 11:14:10,904 - INFO - エポック 0: 平均損失 = 1.1647
2025-12-19 11:14:14,545 - INFO - エポック 10: 平均損失 = 0.8791
2025-12-19 11:14:17,323 - INFO - 時系列IRL訓練完了
2025-12-19 11:14:17,323 - INFO - 訓練データ上で最適閾値を決定...
2025-12-19 11:14:17,759 - INFO - 最適閾値: 0.0866
2025-12-19 11:14:17,760 - INFO - 訓練データ性能: Precision=0.909, Recall=1.000, F1=0.952
2025-12-19 11:14:17,761 - INFO - モデルを保存: outputs/android_50projects_irl/train_0-3m/irl_model.pt
2025-12-19 11:14:17,761 - INFO - 最適閾値を保存: outputs/android_50projects_irl/train_0-3m/optimal_threshold.json
2025-12-19 11:14:17,761 - INFO - 評価用軌跡を抽出...
2025-12-19 11:14:17,761 - INFO - ================================================================================
2025-12-19 11:14:17,761 - INFO - 評価用軌跡抽出を開始（スナップショット特徴量用）
2025-12-19 11:14:17,761 - INFO - Cutoff日: 2021-04-01 00:00:00
2025-12-19 11:14:17,761 - INFO - 履歴ウィンドウ: 3ヶ月
2025-12-19 11:14:17,761 - INFO - 将来窓: 27～30ヶ月
2025-12-19 11:14:17,761 - INFO - 拡張ラベル期間: 27～12ヶ月
2025-12-19 11:14:17,761 - INFO - プロジェクト: 全プロジェクト
2025-12-19 11:14:17,761 - INFO - 継続判定: この期間で承諾=1、この期間で拒否=0、依頼なし→拡張期間チェック、評価時は拡張期間にも依頼なしで除外（予測の母集団に入れない）
2025-12-19 11:14:17,761 - INFO - ================================================================================
2025-12-19 11:14:17,761 - INFO - 履歴期間: 2021-01-01 00:00:00 ～ 2021-04-01 00:00:00
2025-12-19 11:14:17,761 - INFO - 評価期間: 2023-07-01 00:00:00 ～ 2023-10-01 00:00:00
2025-12-19 11:14:17,763 - INFO - 履歴期間内のレビュアー数: 243
2025-12-19 11:14:18,004 - INFO - ================================================================================
2025-12-19 11:14:18,004 - INFO - 評価用軌跡抽出完了: 123サンプル
2025-12-19 11:14:18,004 - INFO -   スキップ（最小依頼数未満）: 0
2025-12-19 11:14:18,004 - INFO -   スキップ（訓練期間末尾まで依頼なし）: 120
2025-12-19 11:14:18,004 - INFO -   正例（この期間で承諾あり）: 106 (86.2%)
2025-12-19 11:14:18,004 - INFO -   負例（この期間で承諾なし）: 17 (13.8%)
2025-12-19 11:14:18,004 - INFO -     - 依頼あり→拒否（重み=1.0）: 17
2025-12-19 11:14:18,004 - INFO - ================================================================================
2025-12-19 11:14:18,004 - INFO - 予測を実行...
2025-12-19 11:14:18,348 - INFO - ================================================================================
2025-12-19 11:14:18,348 - INFO - 評価結果 (0-3m → 6-9m):
2025-12-19 11:14:18,349 - INFO -   AUC-ROC: 0.4645
2025-12-19 11:14:18,349 - INFO -   AUC-PR: 0.8737
2025-12-19 11:14:18,349 - INFO -   Precision: 0.8618
2025-12-19 11:14:18,349 - INFO -   Recall: 1.0000
2025-12-19 11:14:18,349 - INFO -   F1 Score: 0.9258
2025-12-19 11:14:18,349 - INFO - ================================================================================
2025-12-19 11:14:18,350 - INFO - 結果を保存: outputs/android_50projects_irl/train_0-3m/eval_6-9m
2025-12-19 11:14:18,353 - INFO - 
【4/10】パターン実行中...
2025-12-19 11:14:18,354 - INFO - ================================================================================
2025-12-19 11:14:18,354 - INFO - パターン: 0-3m → 9-12m
2025-12-19 11:14:18,354 - INFO - 訓練期間: 2021-01-01 00:00:00 ～ 2021-04-01 00:00:00
2025-12-19 11:14:18,354 - INFO - 評価期間: 2023-10-01 00:00:00 ～ 2024-01-01 00:00:00
2025-12-19 11:14:18,354 - INFO - ================================================================================
2025-12-19 11:14:18,354 - INFO - レビュー依頼データを読み込み: data/android_50proj_2021_2024_feat.csv
2025-12-19 11:14:18,595 - INFO - 総レビュー依頼数: 67806
2025-12-19 11:14:18,596 - INFO - 承諾数: 42829 (63.2%)
2025-12-19 11:14:18,596 - INFO - 拒否数: 24977 (36.8%)
2025-12-19 11:14:18,596 - INFO - 将来窓設定: 0～33ヶ月
2025-12-19 11:14:18,596 - INFO - 訓練用軌跡を抽出...
2025-12-19 11:14:18,596 - INFO - ================================================================================
2025-12-19 11:14:18,596 - INFO - レビュー承諾予測用軌跡抽出を開始（データリークなし版）
2025-12-19 11:14:18,596 - INFO - 訓練期間全体: 2021-01-01 00:00:00 ～ 2021-04-01 00:00:00
2025-12-19 11:14:18,596 - INFO - 将来窓: 0～33ヶ月
2025-12-19 11:14:18,596 - INFO - 拡張ラベル期間: 0～12ヶ月
2025-12-19 11:14:18,596 - INFO - プロジェクト: 全プロジェクト
2025-12-19 11:14:18,596 - INFO - ラベル定義: この期間で承諾=1、この期間で拒否=0、依頼なし→拡張期間チェック、訓練時は拡張期間にも依頼なしで除外
2025-12-19 11:14:18,596 - INFO - データリーク防止: 訓練期間内でラベル計算
2025-12-19 11:14:18,596 - INFO - ================================================================================
2025-12-19 11:14:18,596 - INFO - 特徴量計算期間（訓練全体）: 2021-01-01 00:00:00 ～ 2021-04-01 00:00:00
2025-12-19 11:14:18,596 - INFO - 全体ラベル期間（train_end時点から）: 2021-04-01 00:00:00 ～ 2024-01-01 00:00:00
2025-12-19 11:14:18,603 - INFO - 特徴量計算期間内のレビュアー数: 243
2025-12-19 11:14:19,982 - INFO - ================================================================================
2025-12-19 11:14:19,982 - INFO - 軌跡抽出完了: 198サンプル（レビュアー）
2025-12-19 11:14:19,982 - INFO -   スキップ（最小依頼数未満）: 0
2025-12-19 11:14:19,982 - INFO -   スキップ（訓練期間末尾まで依頼なし）: 45
2025-12-19 11:14:19,982 - INFO -   正例（この期間で承諾あり）: 180 (90.9%)
2025-12-19 11:14:19,982 - INFO -   負例（この期間で承諾なし）: 18 (9.1%)
2025-12-19 11:14:19,982 - INFO -     - 依頼あり→拒否（重み=1.0）: 18
2025-12-19 11:14:19,982 - INFO -   総ステップ数: 396
2025-12-19 11:14:19,982 - INFO -   継続ステップ率: 54.0% (214/396)
2025-12-19 11:14:19,982 - INFO - ================================================================================
/Users/kazuki-h/research/multiproject_research/.venv/lib/python3.13/site-packages/torch/nn/modules/rnn.py:123: UserWarning: dropout option adds dropout after all but last recurrent layer, so non-zero dropout expects num_layers greater than 1, but got dropout=0.2 and num_layers=1
  warnings.warn(
2025-12-19 11:14:19,985 - INFO - 継続予測IRLシステムを初期化しました
2025-12-19 11:14:19,985 - INFO - 訓練データ正例率: 90.9% (180/198)
2025-12-19 11:14:19,985 - INFO - Focal Loss パラメータ更新: alpha=0.400, gamma=1.000
2025-12-19 11:14:19,985 - INFO - 正例率 90.9% に基づき自動調整: バランス重視（正例率≥60%・軽い正例優先)
2025-12-19 11:14:19,985 - INFO - IRLモデルを訓練...
2025-12-19 11:14:19,985 - INFO - ============================================================
2025-12-19 11:14:19,985 - INFO - 時系列IRL訓練開始
2025-12-19 11:14:19,985 - INFO - 軌跡数: 198
2025-12-19 11:14:19,985 - INFO - エポック数: 20
2025-12-19 11:14:19,985 - INFO - ============================================================
2025-12-19 11:14:20,295 - INFO - エポック 0: 平均損失 = 1.1817
2025-12-19 11:14:23,626 - INFO - エポック 10: 平均損失 = 0.8793
2025-12-19 11:14:26,613 - INFO - 時系列IRL訓練完了
2025-12-19 11:14:26,613 - INFO - 訓練データ上で最適閾値を決定...
2025-12-19 11:14:27,050 - INFO - 最適閾値: 0.1538
2025-12-19 11:14:27,050 - INFO - 訓練データ性能: Precision=0.909, Recall=1.000, F1=0.952
2025-12-19 11:14:27,051 - INFO - モデルを保存: outputs/android_50projects_irl/train_0-3m/irl_model.pt
2025-12-19 11:14:27,051 - INFO - 最適閾値を保存: outputs/android_50projects_irl/train_0-3m/optimal_threshold.json
2025-12-19 11:14:27,051 - INFO - 評価用軌跡を抽出...
2025-12-19 11:14:27,051 - INFO - ================================================================================
2025-12-19 11:14:27,051 - INFO - 評価用軌跡抽出を開始（スナップショット特徴量用）
2025-12-19 11:14:27,051 - INFO - Cutoff日: 2021-04-01 00:00:00
2025-12-19 11:14:27,051 - INFO - 履歴ウィンドウ: 3ヶ月
2025-12-19 11:14:27,051 - INFO - 将来窓: 30～33ヶ月
2025-12-19 11:14:27,051 - INFO - 拡張ラベル期間: 30～12ヶ月
2025-12-19 11:14:27,051 - INFO - プロジェクト: 全プロジェクト
2025-12-19 11:14:27,051 - INFO - 継続判定: この期間で承諾=1、この期間で拒否=0、依頼なし→拡張期間チェック、評価時は拡張期間にも依頼なしで除外（予測の母集団に入れない）
2025-12-19 11:14:27,051 - INFO - ================================================================================
2025-12-19 11:14:27,051 - INFO - 履歴期間: 2021-01-01 00:00:00 ～ 2021-04-01 00:00:00
2025-12-19 11:14:27,051 - INFO - 評価期間: 2023-10-01 00:00:00 ～ 2024-01-01 00:00:00
2025-12-19 11:14:27,053 - INFO - 履歴期間内のレビュアー数: 243
2025-12-19 11:14:27,293 - INFO - ================================================================================
2025-12-19 11:14:27,293 - INFO - 評価用軌跡抽出完了: 109サンプル
2025-12-19 11:14:27,293 - INFO -   スキップ（最小依頼数未満）: 0
2025-12-19 11:14:27,293 - INFO -   スキップ（訓練期間末尾まで依頼なし）: 134
2025-12-19 11:14:27,293 - INFO -   正例（この期間で承諾あり）: 93 (85.3%)
2025-12-19 11:14:27,293 - INFO -   負例（この期間で承諾なし）: 16 (14.7%)
2025-12-19 11:14:27,293 - INFO -     - 依頼あり→拒否（重み=1.0）: 16
2025-12-19 11:14:27,293 - INFO - ================================================================================
2025-12-19 11:14:27,294 - INFO - 予測を実行...
2025-12-19 11:14:27,636 - INFO - ================================================================================
2025-12-19 11:14:27,636 - INFO - 評価結果 (0-3m → 9-12m):
2025-12-19 11:14:27,636 - INFO -   AUC-ROC: 0.5548
2025-12-19 11:14:27,636 - INFO -   AUC-PR: 0.9060
2025-12-19 11:14:27,636 - INFO -   Precision: 0.8532
2025-12-19 11:14:27,636 - INFO -   Recall: 1.0000
2025-12-19 11:14:27,636 - INFO -   F1 Score: 0.9208
2025-12-19 11:14:27,636 - INFO - ================================================================================
2025-12-19 11:14:27,638 - INFO - 結果を保存: outputs/android_50projects_irl/train_0-3m/eval_9-12m
2025-12-19 11:14:27,642 - INFO - 
【5/10】パターン実行中...
2025-12-19 11:14:27,642 - INFO - ================================================================================
2025-12-19 11:14:27,642 - INFO - パターン: 3-6m → 3-6m
2025-12-19 11:14:27,642 - INFO - 訓練期間: 2021-04-01 00:00:00 ～ 2021-07-01 00:00:00
2025-12-19 11:14:27,642 - INFO - 評価期間: 2023-04-01 00:00:00 ～ 2023-07-01 00:00:00
2025-12-19 11:14:27,642 - INFO - ================================================================================
2025-12-19 11:14:27,642 - INFO - レビュー依頼データを読み込み: data/android_50proj_2021_2024_feat.csv
2025-12-19 11:14:27,914 - INFO - 総レビュー依頼数: 67806
2025-12-19 11:14:27,914 - INFO - 承諾数: 42829 (63.2%)
2025-12-19 11:14:27,914 - INFO - 拒否数: 24977 (36.8%)
2025-12-19 11:14:27,914 - INFO - 将来窓設定: 0～24ヶ月
2025-12-19 11:14:27,914 - INFO - 訓練用軌跡を抽出...
2025-12-19 11:14:27,914 - INFO - ================================================================================
2025-12-19 11:14:27,914 - INFO - レビュー承諾予測用軌跡抽出を開始（データリークなし版）
2025-12-19 11:14:27,914 - INFO - 訓練期間全体: 2021-04-01 00:00:00 ～ 2021-07-01 00:00:00
2025-12-19 11:14:27,914 - INFO - 将来窓: 0～24ヶ月
2025-12-19 11:14:27,914 - INFO - 拡張ラベル期間: 0～12ヶ月
2025-12-19 11:14:27,914 - INFO - プロジェクト: 全プロジェクト
2025-12-19 11:14:27,914 - INFO - ラベル定義: この期間で承諾=1、この期間で拒否=0、依頼なし→拡張期間チェック、訓練時は拡張期間にも依頼なしで除外
2025-12-19 11:14:27,914 - INFO - データリーク防止: 訓練期間内でラベル計算
2025-12-19 11:14:27,914 - INFO - ================================================================================
2025-12-19 11:14:27,914 - INFO - 特徴量計算期間（訓練全体）: 2021-04-01 00:00:00 ～ 2021-07-01 00:00:00
2025-12-19 11:14:27,914 - INFO - 全体ラベル期間（train_end時点から）: 2021-07-01 00:00:00 ～ 2023-07-01 00:00:00
2025-12-19 11:14:27,919 - INFO - 特徴量計算期間内のレビュアー数: 249
2025-12-19 11:14:29,191 - INFO - ================================================================================
2025-12-19 11:14:29,191 - INFO - 軌跡抽出完了: 196サンプル（レビュアー）
2025-12-19 11:14:29,191 - INFO -   スキップ（最小依頼数未満）: 0
2025-12-19 11:14:29,191 - INFO -   スキップ（訓練期間末尾まで依頼なし）: 53
2025-12-19 11:14:29,191 - INFO -   正例（この期間で承諾あり）: 172 (87.8%)
2025-12-19 11:14:29,191 - INFO -   負例（この期間で承諾なし）: 24 (12.2%)
2025-12-19 11:14:29,191 - INFO -     - 依頼あり→拒否（重み=1.0）: 24
2025-12-19 11:14:29,191 - INFO -   総ステップ数: 392
2025-12-19 11:14:29,191 - INFO -   継続ステップ率: 48.0% (188/392)
2025-12-19 11:14:29,191 - INFO - ================================================================================
/Users/kazuki-h/research/multiproject_research/.venv/lib/python3.13/site-packages/torch/nn/modules/rnn.py:123: UserWarning: dropout option adds dropout after all but last recurrent layer, so non-zero dropout expects num_layers greater than 1, but got dropout=0.2 and num_layers=1
  warnings.warn(
2025-12-19 11:14:29,193 - INFO - 継続予測IRLシステムを初期化しました
2025-12-19 11:14:29,193 - INFO - 訓練データ正例率: 87.8% (172/196)
2025-12-19 11:14:29,193 - INFO - Focal Loss パラメータ更新: alpha=0.400, gamma=1.000
2025-12-19 11:14:29,193 - INFO - 正例率 87.8% に基づき自動調整: バランス重視（正例率≥60%・軽い正例優先)
2025-12-19 11:14:29,193 - INFO - IRLモデルを訓練...
2025-12-19 11:14:29,193 - INFO - ============================================================
2025-12-19 11:14:29,193 - INFO - 時系列IRL訓練開始
2025-12-19 11:14:29,193 - INFO - 軌跡数: 196
2025-12-19 11:14:29,193 - INFO - エポック数: 20
2025-12-19 11:14:29,193 - INFO - ============================================================
2025-12-19 11:14:29,520 - INFO - エポック 0: 平均損失 = 1.2152
2025-12-19 11:14:33,111 - INFO - エポック 10: 平均損失 = 0.7490
2025-12-19 11:14:36,386 - INFO - 時系列IRL訓練完了
2025-12-19 11:14:36,386 - INFO - 訓練データ上で最適閾値を決定...
2025-12-19 11:14:36,777 - INFO - 最適閾値: 0.1273
2025-12-19 11:14:36,777 - INFO - 訓練データ性能: Precision=0.878, Recall=1.000, F1=0.935
2025-12-19 11:14:36,779 - INFO - モデルを保存: outputs/android_50projects_irl/train_3-6m/irl_model.pt
2025-12-19 11:14:36,779 - INFO - 最適閾値を保存: outputs/android_50projects_irl/train_3-6m/optimal_threshold.json
2025-12-19 11:14:36,779 - INFO - 評価用軌跡を抽出...
2025-12-19 11:14:36,779 - INFO - ================================================================================
2025-12-19 11:14:36,779 - INFO - 評価用軌跡抽出を開始（スナップショット特徴量用）
2025-12-19 11:14:36,779 - INFO - Cutoff日: 2021-07-01 00:00:00
2025-12-19 11:14:36,779 - INFO - 履歴ウィンドウ: 3ヶ月
2025-12-19 11:14:36,779 - INFO - 将来窓: 21～24ヶ月
2025-12-19 11:14:36,779 - INFO - 拡張ラベル期間: 21～12ヶ月
2025-12-19 11:14:36,779 - INFO - プロジェクト: 全プロジェクト
2025-12-19 11:14:36,779 - INFO - 継続判定: この期間で承諾=1、この期間で拒否=0、依頼なし→拡張期間チェック、評価時は拡張期間にも依頼なしで除外（予測の母集団に入れない）
2025-12-19 11:14:36,779 - INFO - ================================================================================
2025-12-19 11:14:36,779 - INFO - 履歴期間: 2021-04-01 00:00:00 ～ 2021-07-01 00:00:00
2025-12-19 11:14:36,779 - INFO - 評価期間: 2023-04-01 00:00:00 ～ 2023-07-01 00:00:00
2025-12-19 11:14:36,781 - INFO - 履歴期間内のレビュアー数: 249
2025-12-19 11:14:37,018 - INFO - ================================================================================
2025-12-19 11:14:37,018 - INFO - 評価用軌跡抽出完了: 129サンプル
2025-12-19 11:14:37,018 - INFO -   スキップ（最小依頼数未満）: 0
2025-12-19 11:14:37,018 - INFO -   スキップ（訓練期間末尾まで依頼なし）: 120
2025-12-19 11:14:37,018 - INFO -   正例（この期間で承諾あり）: 112 (86.8%)
2025-12-19 11:14:37,018 - INFO -   負例（この期間で承諾なし）: 17 (13.2%)
2025-12-19 11:14:37,018 - INFO -     - 依頼あり→拒否（重み=1.0）: 17
2025-12-19 11:14:37,018 - INFO - ================================================================================
2025-12-19 11:14:37,018 - INFO - 予測を実行...
2025-12-19 11:14:37,317 - INFO - ================================================================================
2025-12-19 11:14:37,317 - INFO - 評価結果 (3-6m → 3-6m):
2025-12-19 11:14:37,317 - INFO -   AUC-ROC: 0.6723
2025-12-19 11:14:37,317 - INFO -   AUC-PR: 0.9359
2025-12-19 11:14:37,317 - INFO -   Precision: 0.8682
2025-12-19 11:14:37,317 - INFO -   Recall: 1.0000
2025-12-19 11:14:37,317 - INFO -   F1 Score: 0.9295
2025-12-19 11:14:37,317 - INFO - ================================================================================
2025-12-19 11:14:37,318 - INFO - 結果を保存: outputs/android_50projects_irl/train_3-6m/eval_3-6m
2025-12-19 11:14:37,322 - INFO - 
【6/10】パターン実行中...
2025-12-19 11:14:37,322 - INFO - ================================================================================
2025-12-19 11:14:37,322 - INFO - パターン: 3-6m → 6-9m
2025-12-19 11:14:37,322 - INFO - 訓練期間: 2021-04-01 00:00:00 ～ 2021-07-01 00:00:00
2025-12-19 11:14:37,322 - INFO - 評価期間: 2023-07-01 00:00:00 ～ 2023-10-01 00:00:00
2025-12-19 11:14:37,322 - INFO - ================================================================================
2025-12-19 11:14:37,322 - INFO - レビュー依頼データを読み込み: data/android_50proj_2021_2024_feat.csv
2025-12-19 11:14:37,579 - INFO - 総レビュー依頼数: 67806
2025-12-19 11:14:37,579 - INFO - 承諾数: 42829 (63.2%)
2025-12-19 11:14:37,580 - INFO - 拒否数: 24977 (36.8%)
2025-12-19 11:14:37,580 - INFO - 将来窓設定: 0～27ヶ月
2025-12-19 11:14:37,580 - INFO - 訓練用軌跡を抽出...
2025-12-19 11:14:37,580 - INFO - ================================================================================
2025-12-19 11:14:37,580 - INFO - レビュー承諾予測用軌跡抽出を開始（データリークなし版）
2025-12-19 11:14:37,580 - INFO - 訓練期間全体: 2021-04-01 00:00:00 ～ 2021-07-01 00:00:00
2025-12-19 11:14:37,580 - INFO - 将来窓: 0～27ヶ月
2025-12-19 11:14:37,580 - INFO - 拡張ラベル期間: 0～12ヶ月
2025-12-19 11:14:37,580 - INFO - プロジェクト: 全プロジェクト
2025-12-19 11:14:37,580 - INFO - ラベル定義: この期間で承諾=1、この期間で拒否=0、依頼なし→拡張期間チェック、訓練時は拡張期間にも依頼なしで除外
2025-12-19 11:14:37,580 - INFO - データリーク防止: 訓練期間内でラベル計算
2025-12-19 11:14:37,580 - INFO - ================================================================================
2025-12-19 11:14:37,580 - INFO - 特徴量計算期間（訓練全体）: 2021-04-01 00:00:00 ～ 2021-07-01 00:00:00
2025-12-19 11:14:37,580 - INFO - 全体ラベル期間（train_end時点から）: 2021-07-01 00:00:00 ～ 2023-10-01 00:00:00
2025-12-19 11:14:37,586 - INFO - 特徴量計算期間内のレビュアー数: 249
2025-12-19 11:14:38,941 - INFO - ================================================================================
2025-12-19 11:14:38,941 - INFO - 軌跡抽出完了: 199サンプル（レビュアー）
2025-12-19 11:14:38,941 - INFO -   スキップ（最小依頼数未満）: 0
2025-12-19 11:14:38,941 - INFO -   スキップ（訓練期間末尾まで依頼なし）: 50
2025-12-19 11:14:38,941 - INFO -   正例（この期間で承諾あり）: 175 (87.9%)
2025-12-19 11:14:38,941 - INFO -   負例（この期間で承諾なし）: 24 (12.1%)
2025-12-19 11:14:38,941 - INFO -     - 依頼あり→拒否（重み=1.0）: 24
2025-12-19 11:14:38,941 - INFO -   総ステップ数: 398
2025-12-19 11:14:38,941 - INFO -   継続ステップ率: 47.2% (188/398)
2025-12-19 11:14:38,941 - INFO - ================================================================================
/Users/kazuki-h/research/multiproject_research/.venv/lib/python3.13/site-packages/torch/nn/modules/rnn.py:123: UserWarning: dropout option adds dropout after all but last recurrent layer, so non-zero dropout expects num_layers greater than 1, but got dropout=0.2 and num_layers=1
  warnings.warn(
2025-12-19 11:14:38,943 - INFO - 継続予測IRLシステムを初期化しました
2025-12-19 11:14:38,943 - INFO - 訓練データ正例率: 87.9% (175/199)
2025-12-19 11:14:38,943 - INFO - Focal Loss パラメータ更新: alpha=0.400, gamma=1.000
2025-12-19 11:14:38,943 - INFO - 正例率 87.9% に基づき自動調整: バランス重視（正例率≥60%・軽い正例優先)
2025-12-19 11:14:38,943 - INFO - IRLモデルを訓練...
2025-12-19 11:14:38,943 - INFO - ============================================================
2025-12-19 11:14:38,943 - INFO - 時系列IRL訓練開始
2025-12-19 11:14:38,943 - INFO - 軌跡数: 199
2025-12-19 11:14:38,943 - INFO - エポック数: 20
2025-12-19 11:14:38,943 - INFO - ============================================================
2025-12-19 11:14:39,279 - INFO - エポック 0: 平均損失 = 1.1751
2025-12-19 11:14:42,925 - INFO - エポック 10: 平均損失 = 0.7374
2025-12-19 11:14:46,206 - INFO - 時系列IRL訓練完了
2025-12-19 11:14:46,206 - INFO - 訓練データ上で最適閾値を決定...
2025-12-19 11:14:46,592 - INFO - 最適閾値: 0.1458
2025-12-19 11:14:46,592 - INFO - 訓練データ性能: Precision=0.879, Recall=1.000, F1=0.936
2025-12-19 11:14:46,593 - INFO - モデルを保存: outputs/android_50projects_irl/train_3-6m/irl_model.pt
2025-12-19 11:14:46,593 - INFO - 最適閾値を保存: outputs/android_50projects_irl/train_3-6m/optimal_threshold.json
2025-12-19 11:14:46,593 - INFO - 評価用軌跡を抽出...
2025-12-19 11:14:46,593 - INFO - ================================================================================
2025-12-19 11:14:46,593 - INFO - 評価用軌跡抽出を開始（スナップショット特徴量用）
2025-12-19 11:14:46,593 - INFO - Cutoff日: 2021-07-01 00:00:00
2025-12-19 11:14:46,593 - INFO - 履歴ウィンドウ: 3ヶ月
2025-12-19 11:14:46,593 - INFO - 将来窓: 24～27ヶ月
2025-12-19 11:14:46,593 - INFO - 拡張ラベル期間: 24～12ヶ月
2025-12-19 11:14:46,593 - INFO - プロジェクト: 全プロジェクト
2025-12-19 11:14:46,593 - INFO - 継続判定: この期間で承諾=1、この期間で拒否=0、依頼なし→拡張期間チェック、評価時は拡張期間にも依頼なしで除外（予測の母集団に入れない）
2025-12-19 11:14:46,593 - INFO - ================================================================================
2025-12-19 11:14:46,593 - INFO - 履歴期間: 2021-04-01 00:00:00 ～ 2021-07-01 00:00:00
2025-12-19 11:14:46,593 - INFO - 評価期間: 2023-07-01 00:00:00 ～ 2023-10-01 00:00:00
2025-12-19 11:14:46,595 - INFO - 履歴期間内のレビュアー数: 249
2025-12-19 11:14:46,872 - INFO - ================================================================================
2025-12-19 11:14:46,872 - INFO - 評価用軌跡抽出完了: 127サンプル
2025-12-19 11:14:46,872 - INFO -   スキップ（最小依頼数未満）: 0
2025-12-19 11:14:46,872 - INFO -   スキップ（訓練期間末尾まで依頼なし）: 122
2025-12-19 11:14:46,872 - INFO -   正例（この期間で承諾あり）: 109 (85.8%)
2025-12-19 11:14:46,872 - INFO -   負例（この期間で承諾なし）: 18 (14.2%)
2025-12-19 11:14:46,872 - INFO -     - 依頼あり→拒否（重み=1.0）: 18
2025-12-19 11:14:46,872 - INFO - ================================================================================
2025-12-19 11:14:46,873 - INFO - 予測を実行...
2025-12-19 11:14:47,180 - INFO - ================================================================================
2025-12-19 11:14:47,180 - INFO - 評価結果 (3-6m → 6-9m):
2025-12-19 11:14:47,180 - INFO -   AUC-ROC: 0.5991
2025-12-19 11:14:47,180 - INFO -   AUC-PR: 0.8991
2025-12-19 11:14:47,180 - INFO -   Precision: 0.8583
2025-12-19 11:14:47,180 - INFO -   Recall: 1.0000
2025-12-19 11:14:47,180 - INFO -   F1 Score: 0.9237
2025-12-19 11:14:47,180 - INFO - ================================================================================
2025-12-19 11:14:47,181 - INFO - 結果を保存: outputs/android_50projects_irl/train_3-6m/eval_6-9m
2025-12-19 11:14:47,185 - INFO - 
【7/10】パターン実行中...
2025-12-19 11:14:47,185 - INFO - ================================================================================
2025-12-19 11:14:47,185 - INFO - パターン: 3-6m → 9-12m
2025-12-19 11:14:47,185 - INFO - 訓練期間: 2021-04-01 00:00:00 ～ 2021-07-01 00:00:00
2025-12-19 11:14:47,185 - INFO - 評価期間: 2023-10-01 00:00:00 ～ 2024-01-01 00:00:00
2025-12-19 11:14:47,185 - INFO - ================================================================================
2025-12-19 11:14:47,185 - INFO - レビュー依頼データを読み込み: data/android_50proj_2021_2024_feat.csv
2025-12-19 11:14:47,436 - INFO - 総レビュー依頼数: 67806
2025-12-19 11:14:47,437 - INFO - 承諾数: 42829 (63.2%)
2025-12-19 11:14:47,437 - INFO - 拒否数: 24977 (36.8%)
2025-12-19 11:14:47,437 - INFO - 将来窓設定: 0～30ヶ月
2025-12-19 11:14:47,437 - INFO - 訓練用軌跡を抽出...
2025-12-19 11:14:47,437 - INFO - ================================================================================
2025-12-19 11:14:47,437 - INFO - レビュー承諾予測用軌跡抽出を開始（データリークなし版）
2025-12-19 11:14:47,437 - INFO - 訓練期間全体: 2021-04-01 00:00:00 ～ 2021-07-01 00:00:00
2025-12-19 11:14:47,437 - INFO - 将来窓: 0～30ヶ月
2025-12-19 11:14:47,437 - INFO - 拡張ラベル期間: 0～12ヶ月
2025-12-19 11:14:47,437 - INFO - プロジェクト: 全プロジェクト
2025-12-19 11:14:47,437 - INFO - ラベル定義: この期間で承諾=1、この期間で拒否=0、依頼なし→拡張期間チェック、訓練時は拡張期間にも依頼なしで除外
2025-12-19 11:14:47,437 - INFO - データリーク防止: 訓練期間内でラベル計算
2025-12-19 11:14:47,437 - INFO - ================================================================================
2025-12-19 11:14:47,437 - INFO - 特徴量計算期間（訓練全体）: 2021-04-01 00:00:00 ～ 2021-07-01 00:00:00
2025-12-19 11:14:47,437 - INFO - 全体ラベル期間（train_end時点から）: 2021-07-01 00:00:00 ～ 2024-01-01 00:00:00
2025-12-19 11:14:47,444 - INFO - 特徴量計算期間内のレビュアー数: 249
2025-12-19 11:14:48,874 - INFO - ================================================================================
2025-12-19 11:14:48,874 - INFO - 軌跡抽出完了: 201サンプル（レビュアー）
2025-12-19 11:14:48,874 - INFO -   スキップ（最小依頼数未満）: 0
2025-12-19 11:14:48,874 - INFO -   スキップ（訓練期間末尾まで依頼なし）: 48
2025-12-19 11:14:48,874 - INFO -   正例（この期間で承諾あり）: 178 (88.6%)
2025-12-19 11:14:48,874 - INFO -   負例（この期間で承諾なし）: 23 (11.4%)
2025-12-19 11:14:48,874 - INFO -     - 依頼あり→拒否（重み=1.0）: 23
2025-12-19 11:14:48,874 - INFO -   総ステップ数: 402
2025-12-19 11:14:48,874 - INFO -   継続ステップ率: 47.0% (189/402)
2025-12-19 11:14:48,874 - INFO - ================================================================================
/Users/kazuki-h/research/multiproject_research/.venv/lib/python3.13/site-packages/torch/nn/modules/rnn.py:123: UserWarning: dropout option adds dropout after all but last recurrent layer, so non-zero dropout expects num_layers greater than 1, but got dropout=0.2 and num_layers=1
  warnings.warn(
2025-12-19 11:14:48,877 - INFO - 継続予測IRLシステムを初期化しました
2025-12-19 11:14:48,877 - INFO - 訓練データ正例率: 88.6% (178/201)
2025-12-19 11:14:48,877 - INFO - Focal Loss パラメータ更新: alpha=0.400, gamma=1.000
2025-12-19 11:14:48,877 - INFO - 正例率 88.6% に基づき自動調整: バランス重視（正例率≥60%・軽い正例優先)
2025-12-19 11:14:48,877 - INFO - IRLモデルを訓練...
2025-12-19 11:14:48,877 - INFO - ============================================================
2025-12-19 11:14:48,877 - INFO - 時系列IRL訓練開始
2025-12-19 11:14:48,877 - INFO - 軌跡数: 201
2025-12-19 11:14:48,877 - INFO - エポック数: 20
2025-12-19 11:14:48,877 - INFO - ============================================================
2025-12-19 11:14:49,229 - INFO - エポック 0: 平均損失 = 1.1802
2025-12-19 11:14:53,014 - INFO - エポック 10: 平均損失 = 0.7100
2025-12-19 11:14:56,055 - INFO - 時系列IRL訓練完了
2025-12-19 11:14:56,055 - INFO - 訓練データ上で最適閾値を決定...
2025-12-19 11:14:56,446 - INFO - 最適閾値: 0.1375
2025-12-19 11:14:56,446 - INFO - 訓練データ性能: Precision=0.886, Recall=1.000, F1=0.939
2025-12-19 11:14:56,447 - INFO - モデルを保存: outputs/android_50projects_irl/train_3-6m/irl_model.pt
2025-12-19 11:14:56,447 - INFO - 最適閾値を保存: outputs/android_50projects_irl/train_3-6m/optimal_threshold.json
2025-12-19 11:14:56,447 - INFO - 評価用軌跡を抽出...
2025-12-19 11:14:56,447 - INFO - ================================================================================
2025-12-19 11:14:56,447 - INFO - 評価用軌跡抽出を開始（スナップショット特徴量用）
2025-12-19 11:14:56,447 - INFO - Cutoff日: 2021-07-01 00:00:00
2025-12-19 11:14:56,447 - INFO - 履歴ウィンドウ: 3ヶ月
2025-12-19 11:14:56,447 - INFO - 将来窓: 27～30ヶ月
2025-12-19 11:14:56,447 - INFO - 拡張ラベル期間: 27～12ヶ月
2025-12-19 11:14:56,447 - INFO - プロジェクト: 全プロジェクト
2025-12-19 11:14:56,447 - INFO - 継続判定: この期間で承諾=1、この期間で拒否=0、依頼なし→拡張期間チェック、評価時は拡張期間にも依頼なしで除外（予測の母集団に入れない）
2025-12-19 11:14:56,447 - INFO - ================================================================================
2025-12-19 11:14:56,447 - INFO - 履歴期間: 2021-04-01 00:00:00 ～ 2021-07-01 00:00:00
2025-12-19 11:14:56,447 - INFO - 評価期間: 2023-10-01 00:00:00 ～ 2024-01-01 00:00:00
2025-12-19 11:14:56,449 - INFO - 履歴期間内のレビュアー数: 249
2025-12-19 11:14:56,697 - INFO - ================================================================================
2025-12-19 11:14:56,697 - INFO - 評価用軌跡抽出完了: 116サンプル
2025-12-19 11:14:56,697 - INFO -   スキップ（最小依頼数未満）: 0
2025-12-19 11:14:56,697 - INFO -   スキップ（訓練期間末尾まで依頼なし）: 133
2025-12-19 11:14:56,697 - INFO -   正例（この期間で承諾あり）: 102 (87.9%)
2025-12-19 11:14:56,697 - INFO -   負例（この期間で承諾なし）: 14 (12.1%)
2025-12-19 11:14:56,697 - INFO -     - 依頼あり→拒否（重み=1.0）: 14
2025-12-19 11:14:56,697 - INFO - ================================================================================
2025-12-19 11:14:56,697 - INFO - 予測を実行...
2025-12-19 11:14:56,992 - INFO - ================================================================================
2025-12-19 11:14:56,993 - INFO - 評価結果 (3-6m → 9-12m):
2025-12-19 11:14:56,993 - INFO -   AUC-ROC: 0.6754
2025-12-19 11:14:56,993 - INFO -   AUC-PR: 0.9409
2025-12-19 11:14:56,993 - INFO -   Precision: 0.8793
2025-12-19 11:14:56,993 - INFO -   Recall: 1.0000
2025-12-19 11:14:56,993 - INFO -   F1 Score: 0.9358
2025-12-19 11:14:56,993 - INFO - ================================================================================
2025-12-19 11:14:56,994 - INFO - 結果を保存: outputs/android_50projects_irl/train_3-6m/eval_9-12m
2025-12-19 11:14:56,998 - INFO - 
【8/10】パターン実行中...
2025-12-19 11:14:56,998 - INFO - ================================================================================
2025-12-19 11:14:56,998 - INFO - パターン: 6-9m → 6-9m
2025-12-19 11:14:56,998 - INFO - 訓練期間: 2021-07-01 00:00:00 ～ 2021-10-01 00:00:00
2025-12-19 11:14:56,998 - INFO - 評価期間: 2023-07-01 00:00:00 ～ 2023-10-01 00:00:00
2025-12-19 11:14:56,998 - INFO - ================================================================================
2025-12-19 11:14:56,998 - INFO - レビュー依頼データを読み込み: data/android_50proj_2021_2024_feat.csv
2025-12-19 11:14:57,252 - INFO - 総レビュー依頼数: 67806
2025-12-19 11:14:57,252 - INFO - 承諾数: 42829 (63.2%)
2025-12-19 11:14:57,252 - INFO - 拒否数: 24977 (36.8%)
2025-12-19 11:14:57,252 - INFO - 将来窓設定: 0～24ヶ月
2025-12-19 11:14:57,252 - INFO - 訓練用軌跡を抽出...
2025-12-19 11:14:57,252 - INFO - ================================================================================
2025-12-19 11:14:57,252 - INFO - レビュー承諾予測用軌跡抽出を開始（データリークなし版）
2025-12-19 11:14:57,252 - INFO - 訓練期間全体: 2021-07-01 00:00:00 ～ 2021-10-01 00:00:00
2025-12-19 11:14:57,252 - INFO - 将来窓: 0～24ヶ月
2025-12-19 11:14:57,252 - INFO - 拡張ラベル期間: 0～12ヶ月
2025-12-19 11:14:57,252 - INFO - プロジェクト: 全プロジェクト
2025-12-19 11:14:57,252 - INFO - ラベル定義: この期間で承諾=1、この期間で拒否=0、依頼なし→拡張期間チェック、訓練時は拡張期間にも依頼なしで除外
2025-12-19 11:14:57,252 - INFO - データリーク防止: 訓練期間内でラベル計算
2025-12-19 11:14:57,252 - INFO - ================================================================================
2025-12-19 11:14:57,252 - INFO - 特徴量計算期間（訓練全体）: 2021-07-01 00:00:00 ～ 2021-10-01 00:00:00
2025-12-19 11:14:57,253 - INFO - 全体ラベル期間（train_end時点から）: 2021-10-01 00:00:00 ～ 2023-10-01 00:00:00
2025-12-19 11:14:57,258 - INFO - 特徴量計算期間内のレビュアー数: 218
2025-12-19 11:14:58,427 - INFO - ================================================================================
2025-12-19 11:14:58,427 - INFO - 軌跡抽出完了: 179サンプル（レビュアー）
2025-12-19 11:14:58,427 - INFO -   スキップ（最小依頼数未満）: 0
2025-12-19 11:14:58,427 - INFO -   スキップ（訓練期間末尾まで依頼なし）: 39
2025-12-19 11:14:58,427 - INFO -   正例（この期間で承諾あり）: 166 (92.7%)
2025-12-19 11:14:58,427 - INFO -   負例（この期間で承諾なし）: 13 (7.3%)
2025-12-19 11:14:58,427 - INFO -     - 依頼あり→拒否（重み=1.0）: 13
2025-12-19 11:14:58,427 - INFO -   総ステップ数: 358
2025-12-19 11:14:58,427 - INFO -   継続ステップ率: 55.9% (200/358)
2025-12-19 11:14:58,427 - INFO - ================================================================================
/Users/kazuki-h/research/multiproject_research/.venv/lib/python3.13/site-packages/torch/nn/modules/rnn.py:123: UserWarning: dropout option adds dropout after all but last recurrent layer, so non-zero dropout expects num_layers greater than 1, but got dropout=0.2 and num_layers=1
  warnings.warn(
2025-12-19 11:14:58,429 - INFO - 継続予測IRLシステムを初期化しました
2025-12-19 11:14:58,429 - INFO - 訓練データ正例率: 92.7% (166/179)
2025-12-19 11:14:58,429 - INFO - Focal Loss パラメータ更新: alpha=0.400, gamma=1.000
2025-12-19 11:14:58,429 - INFO - 正例率 92.7% に基づき自動調整: バランス重視（正例率≥60%・軽い正例優先)
2025-12-19 11:14:58,429 - INFO - IRLモデルを訓練...
2025-12-19 11:14:58,429 - INFO - ============================================================
2025-12-19 11:14:58,429 - INFO - 時系列IRL訓練開始
2025-12-19 11:14:58,429 - INFO - 軌跡数: 179
2025-12-19 11:14:58,429 - INFO - エポック数: 20
2025-12-19 11:14:58,430 - INFO - ============================================================
2025-12-19 11:14:58,705 - INFO - エポック 0: 平均損失 = 1.1797
2025-12-19 11:15:01,622 - INFO - エポック 10: 平均損失 = 0.9309
2025-12-19 11:15:04,228 - INFO - 時系列IRL訓練完了
2025-12-19 11:15:04,228 - INFO - 訓練データ上で最適閾値を決定...
2025-12-19 11:15:04,601 - INFO - 最適閾値: 0.1711
2025-12-19 11:15:04,601 - INFO - 訓練データ性能: Precision=0.927, Recall=1.000, F1=0.962
2025-12-19 11:15:04,603 - INFO - モデルを保存: outputs/android_50projects_irl/train_6-9m/irl_model.pt
2025-12-19 11:15:04,603 - INFO - 最適閾値を保存: outputs/android_50projects_irl/train_6-9m/optimal_threshold.json
2025-12-19 11:15:04,603 - INFO - 評価用軌跡を抽出...
2025-12-19 11:15:04,603 - INFO - ================================================================================
2025-12-19 11:15:04,603 - INFO - 評価用軌跡抽出を開始（スナップショット特徴量用）
2025-12-19 11:15:04,603 - INFO - Cutoff日: 2021-10-01 00:00:00
2025-12-19 11:15:04,603 - INFO - 履歴ウィンドウ: 3ヶ月
2025-12-19 11:15:04,603 - INFO - 将来窓: 21～24ヶ月
2025-12-19 11:15:04,603 - INFO - 拡張ラベル期間: 21～12ヶ月
2025-12-19 11:15:04,603 - INFO - プロジェクト: 全プロジェクト
2025-12-19 11:15:04,603 - INFO - 継続判定: この期間で承諾=1、この期間で拒否=0、依頼なし→拡張期間チェック、評価時は拡張期間にも依頼なしで除外（予測の母集団に入れない）
2025-12-19 11:15:04,603 - INFO - ================================================================================
2025-12-19 11:15:04,603 - INFO - 履歴期間: 2021-07-01 00:00:00 ～ 2021-10-01 00:00:00
2025-12-19 11:15:04,603 - INFO - 評価期間: 2023-07-01 00:00:00 ～ 2023-10-01 00:00:00
2025-12-19 11:15:04,606 - INFO - 履歴期間内のレビュアー数: 218
2025-12-19 11:15:04,882 - INFO - ================================================================================
2025-12-19 11:15:04,882 - INFO - 評価用軌跡抽出完了: 132サンプル
2025-12-19 11:15:04,882 - INFO -   スキップ（最小依頼数未満）: 0
2025-12-19 11:15:04,882 - INFO -   スキップ（訓練期間末尾まで依頼なし）: 86
2025-12-19 11:15:04,882 - INFO -   正例（この期間で承諾あり）: 119 (90.2%)
2025-12-19 11:15:04,882 - INFO -   負例（この期間で承諾なし）: 13 (9.8%)
2025-12-19 11:15:04,882 - INFO -     - 依頼あり→拒否（重み=1.0）: 13
2025-12-19 11:15:04,882 - INFO - ================================================================================
2025-12-19 11:15:04,882 - INFO - 予測を実行...
2025-12-19 11:15:05,135 - INFO - ================================================================================
2025-12-19 11:15:05,135 - INFO - 評価結果 (6-9m → 6-9m):
2025-12-19 11:15:05,135 - INFO -   AUC-ROC: 0.6315
2025-12-19 11:15:05,135 - INFO -   AUC-PR: 0.9481
2025-12-19 11:15:05,135 - INFO -   Precision: 0.9015
2025-12-19 11:15:05,135 - INFO -   Recall: 1.0000
2025-12-19 11:15:05,135 - INFO -   F1 Score: 0.9482
2025-12-19 11:15:05,135 - INFO - ================================================================================
2025-12-19 11:15:05,136 - INFO - 結果を保存: outputs/android_50projects_irl/train_6-9m/eval_6-9m
2025-12-19 11:15:05,140 - INFO - 
【9/10】パターン実行中...
2025-12-19 11:15:05,140 - INFO - ================================================================================
2025-12-19 11:15:05,140 - INFO - パターン: 6-9m → 9-12m
2025-12-19 11:15:05,140 - INFO - 訓練期間: 2021-07-01 00:00:00 ～ 2021-10-01 00:00:00
2025-12-19 11:15:05,140 - INFO - 評価期間: 2023-10-01 00:00:00 ～ 2024-01-01 00:00:00
2025-12-19 11:15:05,140 - INFO - ================================================================================
2025-12-19 11:15:05,140 - INFO - レビュー依頼データを読み込み: data/android_50proj_2021_2024_feat.csv
2025-12-19 11:15:05,418 - INFO - 総レビュー依頼数: 67806
2025-12-19 11:15:05,418 - INFO - 承諾数: 42829 (63.2%)
2025-12-19 11:15:05,418 - INFO - 拒否数: 24977 (36.8%)
2025-12-19 11:15:05,418 - INFO - 将来窓設定: 0～27ヶ月
2025-12-19 11:15:05,418 - INFO - 訓練用軌跡を抽出...
2025-12-19 11:15:05,418 - INFO - ================================================================================
2025-12-19 11:15:05,418 - INFO - レビュー承諾予測用軌跡抽出を開始（データリークなし版）
2025-12-19 11:15:05,418 - INFO - 訓練期間全体: 2021-07-01 00:00:00 ～ 2021-10-01 00:00:00
2025-12-19 11:15:05,418 - INFO - 将来窓: 0～27ヶ月
2025-12-19 11:15:05,418 - INFO - 拡張ラベル期間: 0～12ヶ月
2025-12-19 11:15:05,418 - INFO - プロジェクト: 全プロジェクト
2025-12-19 11:15:05,418 - INFO - ラベル定義: この期間で承諾=1、この期間で拒否=0、依頼なし→拡張期間チェック、訓練時は拡張期間にも依頼なしで除外
2025-12-19 11:15:05,418 - INFO - データリーク防止: 訓練期間内でラベル計算
2025-12-19 11:15:05,418 - INFO - ================================================================================
2025-12-19 11:15:05,418 - INFO - 特徴量計算期間（訓練全体）: 2021-07-01 00:00:00 ～ 2021-10-01 00:00:00
2025-12-19 11:15:05,418 - INFO - 全体ラベル期間（train_end時点から）: 2021-10-01 00:00:00 ～ 2024-01-01 00:00:00
2025-12-19 11:15:05,425 - INFO - 特徴量計算期間内のレビュアー数: 218
2025-12-19 11:15:06,696 - INFO - ================================================================================
2025-12-19 11:15:06,696 - INFO - 軌跡抽出完了: 179サンプル（レビュアー）
2025-12-19 11:15:06,696 - INFO -   スキップ（最小依頼数未満）: 0
2025-12-19 11:15:06,696 - INFO -   スキップ（訓練期間末尾まで依頼なし）: 39
2025-12-19 11:15:06,696 - INFO -   正例（この期間で承諾あり）: 167 (93.3%)
2025-12-19 11:15:06,696 - INFO -   負例（この期間で承諾なし）: 12 (6.7%)
2025-12-19 11:15:06,696 - INFO -     - 依頼あり→拒否（重み=1.0）: 12
2025-12-19 11:15:06,696 - INFO -   総ステップ数: 358
2025-12-19 11:15:06,696 - INFO -   継続ステップ率: 55.9% (200/358)
2025-12-19 11:15:06,696 - INFO - ================================================================================
/Users/kazuki-h/research/multiproject_research/.venv/lib/python3.13/site-packages/torch/nn/modules/rnn.py:123: UserWarning: dropout option adds dropout after all but last recurrent layer, so non-zero dropout expects num_layers greater than 1, but got dropout=0.2 and num_layers=1
  warnings.warn(
2025-12-19 11:15:06,699 - INFO - 継続予測IRLシステムを初期化しました
2025-12-19 11:15:06,699 - INFO - 訓練データ正例率: 93.3% (167/179)
2025-12-19 11:15:06,699 - INFO - Focal Loss パラメータ更新: alpha=0.400, gamma=1.000
2025-12-19 11:15:06,699 - INFO - 正例率 93.3% に基づき自動調整: バランス重視（正例率≥60%・軽い正例優先)
2025-12-19 11:15:06,699 - INFO - IRLモデルを訓練...
2025-12-19 11:15:06,699 - INFO - ============================================================
2025-12-19 11:15:06,699 - INFO - 時系列IRL訓練開始
2025-12-19 11:15:06,699 - INFO - 軌跡数: 179
2025-12-19 11:15:06,699 - INFO - エポック数: 20
2025-12-19 11:15:06,699 - INFO - ============================================================
2025-12-19 11:15:07,002 - INFO - エポック 0: 平均損失 = 1.1916
2025-12-19 11:15:10,230 - INFO - エポック 10: 平均損失 = 0.9221
2025-12-19 11:15:13,279 - INFO - 時系列IRL訓練完了
2025-12-19 11:15:13,279 - INFO - 訓練データ上で最適閾値を決定...
2025-12-19 11:15:13,555 - INFO - 最適閾値: 0.1727
2025-12-19 11:15:13,555 - INFO - 訓練データ性能: Precision=0.933, Recall=1.000, F1=0.965
2025-12-19 11:15:13,556 - INFO - モデルを保存: outputs/android_50projects_irl/train_6-9m/irl_model.pt
2025-12-19 11:15:13,556 - INFO - 最適閾値を保存: outputs/android_50projects_irl/train_6-9m/optimal_threshold.json
2025-12-19 11:15:13,556 - INFO - 評価用軌跡を抽出...
2025-12-19 11:15:13,556 - INFO - ================================================================================
2025-12-19 11:15:13,556 - INFO - 評価用軌跡抽出を開始（スナップショット特徴量用）
2025-12-19 11:15:13,556 - INFO - Cutoff日: 2021-10-01 00:00:00
2025-12-19 11:15:13,556 - INFO - 履歴ウィンドウ: 3ヶ月
2025-12-19 11:15:13,556 - INFO - 将来窓: 24～27ヶ月
2025-12-19 11:15:13,556 - INFO - 拡張ラベル期間: 24～12ヶ月
2025-12-19 11:15:13,556 - INFO - プロジェクト: 全プロジェクト
2025-12-19 11:15:13,556 - INFO - 継続判定: この期間で承諾=1、この期間で拒否=0、依頼なし→拡張期間チェック、評価時は拡張期間にも依頼なしで除外（予測の母集団に入れない）
2025-12-19 11:15:13,556 - INFO - ================================================================================
2025-12-19 11:15:13,556 - INFO - 履歴期間: 2021-07-01 00:00:00 ～ 2021-10-01 00:00:00
2025-12-19 11:15:13,556 - INFO - 評価期間: 2023-10-01 00:00:00 ～ 2024-01-01 00:00:00
2025-12-19 11:15:13,558 - INFO - 履歴期間内のレビュアー数: 218
2025-12-19 11:15:13,786 - INFO - ================================================================================
2025-12-19 11:15:13,786 - INFO - 評価用軌跡抽出完了: 117サンプル
2025-12-19 11:15:13,786 - INFO -   スキップ（最小依頼数未満）: 0
2025-12-19 11:15:13,786 - INFO -   スキップ（訓練期間末尾まで依頼なし）: 101
2025-12-19 11:15:13,786 - INFO -   正例（この期間で承諾あり）: 107 (91.5%)
2025-12-19 11:15:13,786 - INFO -   負例（この期間で承諾なし）: 10 (8.5%)
2025-12-19 11:15:13,786 - INFO -     - 依頼あり→拒否（重み=1.0）: 10
2025-12-19 11:15:13,786 - INFO - ================================================================================
2025-12-19 11:15:13,787 - INFO - 予測を実行...
2025-12-19 11:15:13,999 - INFO - ================================================================================
2025-12-19 11:15:13,999 - INFO - 評価結果 (6-9m → 9-12m):
2025-12-19 11:15:13,999 - INFO -   AUC-ROC: 0.6280
2025-12-19 11:15:13,999 - INFO -   AUC-PR: 0.9550
2025-12-19 11:15:13,999 - INFO -   Precision: 0.9145
2025-12-19 11:15:13,999 - INFO -   Recall: 1.0000
2025-12-19 11:15:13,999 - INFO -   F1 Score: 0.9554
2025-12-19 11:15:13,999 - INFO - ================================================================================
2025-12-19 11:15:14,000 - INFO - 結果を保存: outputs/android_50projects_irl/train_6-9m/eval_9-12m
2025-12-19 11:15:14,004 - INFO - 
【10/10】パターン実行中...
2025-12-19 11:15:14,004 - INFO - ================================================================================
2025-12-19 11:15:14,004 - INFO - パターン: 9-12m → 9-12m
2025-12-19 11:15:14,004 - INFO - 訓練期間: 2021-10-01 00:00:00 ～ 2022-01-01 00:00:00
2025-12-19 11:15:14,004 - INFO - 評価期間: 2023-10-01 00:00:00 ～ 2024-01-01 00:00:00
2025-12-19 11:15:14,004 - INFO - ================================================================================
2025-12-19 11:15:14,004 - INFO - レビュー依頼データを読み込み: data/android_50proj_2021_2024_feat.csv
2025-12-19 11:15:14,257 - INFO - 総レビュー依頼数: 67806
2025-12-19 11:15:14,257 - INFO - 承諾数: 42829 (63.2%)
2025-12-19 11:15:14,257 - INFO - 拒否数: 24977 (36.8%)
2025-12-19 11:15:14,257 - INFO - 将来窓設定: 0～24ヶ月
2025-12-19 11:15:14,257 - INFO - 訓練用軌跡を抽出...
2025-12-19 11:15:14,257 - INFO - ================================================================================
2025-12-19 11:15:14,257 - INFO - レビュー承諾予測用軌跡抽出を開始（データリークなし版）
2025-12-19 11:15:14,257 - INFO - 訓練期間全体: 2021-10-01 00:00:00 ～ 2022-01-01 00:00:00
2025-12-19 11:15:14,257 - INFO - 将来窓: 0～24ヶ月
2025-12-19 11:15:14,257 - INFO - 拡張ラベル期間: 0～12ヶ月
2025-12-19 11:15:14,257 - INFO - プロジェクト: 全プロジェクト
2025-12-19 11:15:14,257 - INFO - ラベル定義: この期間で承諾=1、この期間で拒否=0、依頼なし→拡張期間チェック、訓練時は拡張期間にも依頼なしで除外
2025-12-19 11:15:14,257 - INFO - データリーク防止: 訓練期間内でラベル計算
2025-12-19 11:15:14,257 - INFO - ================================================================================
2025-12-19 11:15:14,258 - INFO - 特徴量計算期間（訓練全体）: 2021-10-01 00:00:00 ～ 2022-01-01 00:00:00
2025-12-19 11:15:14,258 - INFO - 全体ラベル期間（train_end時点から）: 2022-01-01 00:00:00 ～ 2024-01-01 00:00:00
2025-12-19 11:15:14,266 - INFO - 特徴量計算期間内のレビュアー数: 334
2025-12-19 11:15:16,211 - INFO - ================================================================================
2025-12-19 11:15:16,211 - INFO - 軌跡抽出完了: 275サンプル（レビュアー）
2025-12-19 11:15:16,211 - INFO -   スキップ（最小依頼数未満）: 0
2025-12-19 11:15:16,211 - INFO -   スキップ（訓練期間末尾まで依頼なし）: 59
2025-12-19 11:15:16,211 - INFO -   正例（この期間で承諾あり）: 237 (86.2%)
2025-12-19 11:15:16,211 - INFO -   負例（この期間で承諾なし）: 38 (13.8%)
2025-12-19 11:15:16,211 - INFO -     - 依頼あり→拒否（重み=1.0）: 38
2025-12-19 11:15:16,212 - INFO -   総ステップ数: 550
2025-12-19 11:15:16,212 - INFO -   継続ステップ率: 39.8% (219/550)
2025-12-19 11:15:16,212 - INFO - ================================================================================
/Users/kazuki-h/research/multiproject_research/.venv/lib/python3.13/site-packages/torch/nn/modules/rnn.py:123: UserWarning: dropout option adds dropout after all but last recurrent layer, so non-zero dropout expects num_layers greater than 1, but got dropout=0.2 and num_layers=1
  warnings.warn(
2025-12-19 11:15:16,215 - INFO - 継続予測IRLシステムを初期化しました
2025-12-19 11:15:16,215 - INFO - 訓練データ正例率: 86.2% (237/275)
2025-12-19 11:15:16,216 - INFO - Focal Loss パラメータ更新: alpha=0.400, gamma=1.000
2025-12-19 11:15:16,216 - INFO - 正例率 86.2% に基づき自動調整: バランス重視（正例率≥60%・軽い正例優先)
2025-12-19 11:15:16,216 - INFO - IRLモデルを訓練...
2025-12-19 11:15:16,216 - INFO - ============================================================
2025-12-19 11:15:16,216 - INFO - 時系列IRL訓練開始
2025-12-19 11:15:16,216 - INFO - 軌跡数: 275
2025-12-19 11:15:16,216 - INFO - エポック数: 20
2025-12-19 11:15:16,216 - INFO - ============================================================
2025-12-19 11:15:16,676 - INFO - エポック 0: 平均損失 = 1.1589
2025-12-19 11:15:21,595 - INFO - エポック 10: 平均損失 = 0.7998
2025-12-19 11:15:25,798 - INFO - 時系列IRL訓練完了
2025-12-19 11:15:25,798 - INFO - 訓練データ上で最適閾値を決定...
2025-12-19 11:15:26,293 - INFO - 最適閾値: 0.1548
2025-12-19 11:15:26,293 - INFO - 訓練データ性能: Precision=0.862, Recall=1.000, F1=0.926
2025-12-19 11:15:26,295 - INFO - モデルを保存: outputs/android_50projects_irl/train_9-12m/irl_model.pt
2025-12-19 11:15:26,295 - INFO - 最適閾値を保存: outputs/android_50projects_irl/train_9-12m/optimal_threshold.json
2025-12-19 11:15:26,295 - INFO - 評価用軌跡を抽出...
2025-12-19 11:15:26,295 - INFO - ================================================================================
2025-12-19 11:15:26,295 - INFO - 評価用軌跡抽出を開始（スナップショット特徴量用）
2025-12-19 11:15:26,295 - INFO - Cutoff日: 2022-01-01 00:00:00
2025-12-19 11:15:26,295 - INFO - 履歴ウィンドウ: 3ヶ月
2025-12-19 11:15:26,295 - INFO - 将来窓: 21～24ヶ月
2025-12-19 11:15:26,295 - INFO - 拡張ラベル期間: 21～12ヶ月
2025-12-19 11:15:26,295 - INFO - プロジェクト: 全プロジェクト
2025-12-19 11:15:26,295 - INFO - 継続判定: この期間で承諾=1、この期間で拒否=0、依頼なし→拡張期間チェック、評価時は拡張期間にも依頼なしで除外（予測の母集団に入れない）
2025-12-19 11:15:26,295 - INFO - ================================================================================
2025-12-19 11:15:26,295 - INFO - 履歴期間: 2021-10-01 00:00:00 ～ 2022-01-01 00:00:00
2025-12-19 11:15:26,295 - INFO - 評価期間: 2023-10-01 00:00:00 ～ 2024-01-01 00:00:00
2025-12-19 11:15:26,297 - INFO - 履歴期間内のレビュアー数: 334
2025-12-19 11:15:26,642 - INFO - ================================================================================
2025-12-19 11:15:26,642 - INFO - 評価用軌跡抽出完了: 163サンプル
2025-12-19 11:15:26,642 - INFO -   スキップ（最小依頼数未満）: 0
2025-12-19 11:15:26,642 - INFO -   スキップ（訓練期間末尾まで依頼なし）: 171
2025-12-19 11:15:26,642 - INFO -   正例（この期間で承諾あり）: 138 (84.7%)
2025-12-19 11:15:26,642 - INFO -   負例（この期間で承諾なし）: 25 (15.3%)
2025-12-19 11:15:26,642 - INFO -     - 依頼あり→拒否（重み=1.0）: 25
2025-12-19 11:15:26,642 - INFO - ================================================================================
2025-12-19 11:15:26,642 - INFO - 予測を実行...
2025-12-19 11:15:27,047 - INFO - ================================================================================
2025-12-19 11:15:27,047 - INFO - 評価結果 (9-12m → 9-12m):
2025-12-19 11:15:27,047 - INFO -   AUC-ROC: 0.6603
2025-12-19 11:15:27,047 - INFO -   AUC-PR: 0.9299
2025-12-19 11:15:27,047 - INFO -   Precision: 0.8466
2025-12-19 11:15:27,047 - INFO -   Recall: 1.0000
2025-12-19 11:15:27,047 - INFO -   F1 Score: 0.9169
2025-12-19 11:15:27,047 - INFO - ================================================================================
2025-12-19 11:15:27,048 - INFO - 結果を保存: outputs/android_50projects_irl/train_9-12m/eval_9-12m
2025-12-19 11:15:27,052 - INFO - ================================================================================
2025-12-19 11:15:27,052 - INFO - メトリクスマトリクスを作成中...
2025-12-19 11:15:27,053 - INFO - ================================================================================
2025-12-19 11:15:27,057 - INFO - 保存: outputs/android_50projects_irl/matrix_AUC_ROC.csv
2025-12-19 11:15:27,059 - INFO - 
           0-3m      3-6m      6-9m     9-12m
0-3m   0.415959  0.564653  0.464484  0.554772
3-6m        NaN  0.672269  0.599134  0.675420
6-9m        NaN       NaN  0.631545  0.628037
9-12m       NaN       NaN       NaN  0.660290
2025-12-19 11:15:27,059 - INFO - 保存: outputs/android_50projects_irl/matrix_AUC_PR.csv
2025-12-19 11:15:27,060 - INFO - 
           0-3m      3-6m      6-9m     9-12m
0-3m   0.866664  0.913153  0.873701  0.905966
3-6m        NaN  0.935925  0.899135  0.940892
6-9m        NaN       NaN  0.948077  0.955046
9-12m       NaN       NaN       NaN  0.929946
2025-12-19 11:15:27,060 - INFO - 保存: outputs/android_50projects_irl/matrix_PRECISION.csv
2025-12-19 11:15:27,061 - INFO - 
           0-3m      3-6m      6-9m     9-12m
0-3m   0.867133  0.867188  0.861789  0.853211
3-6m        NaN  0.868217  0.858268  0.879310
6-9m        NaN       NaN  0.901515  0.914530
9-12m       NaN       NaN       NaN  0.846626
2025-12-19 11:15:27,061 - INFO - 保存: outputs/android_50projects_irl/matrix_RECALL.csv
2025-12-19 11:15:27,063 - INFO - 
       0-3m  3-6m  6-9m  9-12m
0-3m    1.0   1.0   1.0    1.0
3-6m    NaN   1.0   1.0    1.0
6-9m    NaN   NaN   1.0    1.0
9-12m   NaN   NaN   NaN    1.0
2025-12-19 11:15:27,063 - INFO - 保存: outputs/android_50projects_irl/matrix_f1_score.csv
2025-12-19 11:15:27,064 - INFO - 
           0-3m      3-6m      6-9m     9-12m
0-3m   0.928839  0.928870  0.925764  0.920792
3-6m        NaN  0.929461  0.923729  0.935780
6-9m        NaN       NaN  0.948207  0.955357
9-12m       NaN       NaN       NaN  0.916944
2025-12-19 11:15:27,064 - INFO - ================================================================================
2025-12-19 11:15:27,064 - INFO - マトリクス作成完了
2025-12-19 11:15:27,064 - INFO - ================================================================================
2025-12-19 11:15:27,064 - INFO - ================================================================================
2025-12-19 11:15:27,064 - INFO - 全パターンの訓練・評価が完了しました
2025-12-19 11:15:27,064 - INFO - 結果: outputs/android_50projects_irl
2025-12-19 11:15:27,064 - INFO - ================================================================================
