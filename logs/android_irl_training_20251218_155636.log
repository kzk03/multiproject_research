2025-12-18 15:56:36,346 - INFO - 訓練期間ベース: 2021-01-01 00:00:00
2025-12-18 15:56:36,346 - INFO - 評価期間ベース: 2023-01-01 00:00:00
2025-12-18 15:56:36,346 - INFO - 生成されたパターン数: 10
2025-12-18 15:56:36,346 - INFO -   0-3m → 0-3m
2025-12-18 15:56:36,346 - INFO -   0-3m → 3-6m
2025-12-18 15:56:36,346 - INFO -   0-3m → 6-9m
2025-12-18 15:56:36,346 - INFO -   0-3m → 9-12m
2025-12-18 15:56:36,346 - INFO -   3-6m → 3-6m
2025-12-18 15:56:36,346 - INFO -   3-6m → 6-9m
2025-12-18 15:56:36,346 - INFO -   3-6m → 9-12m
2025-12-18 15:56:36,346 - INFO -   6-9m → 6-9m
2025-12-18 15:56:36,346 - INFO -   6-9m → 9-12m
2025-12-18 15:56:36,346 - INFO -   9-12m → 9-12m
2025-12-18 15:56:36,346 - INFO - ================================================================================
2025-12-18 15:56:36,346 - INFO - 全10パターンの訓練・評価を開始
2025-12-18 15:56:36,346 - INFO - ================================================================================
2025-12-18 15:56:36,346 - INFO - 
【1/10】パターン実行中...
2025-12-18 15:56:36,346 - INFO - ================================================================================
2025-12-18 15:56:36,346 - INFO - パターン: 0-3m → 0-3m
2025-12-18 15:56:36,346 - INFO - 訓練期間: 2021-01-01 00:00:00 ～ 2021-04-01 00:00:00
2025-12-18 15:56:36,346 - INFO - 評価期間: 2023-01-01 00:00:00 ～ 2023-04-01 00:00:00
2025-12-18 15:56:36,346 - INFO - ================================================================================
2025-12-18 15:56:38,467 - INFO - レビュー依頼データを読み込み: data/android_50proj_2021_2024_feat.csv
2025-12-18 15:56:38,504 - INFO - 総レビュー依頼数: 7155
2025-12-18 15:56:38,504 - INFO - 承諾数: 4798 (67.1%)
2025-12-18 15:56:38,504 - INFO - 拒否数: 2357 (32.9%)
2025-12-18 15:56:38,504 - INFO - 将来窓設定: 0～24ヶ月
2025-12-18 15:56:38,504 - INFO - 訓練用軌跡を抽出...
2025-12-18 15:56:38,504 - INFO - ================================================================================
2025-12-18 15:56:38,504 - INFO - レビュー承諾予測用軌跡抽出を開始（データリークなし版）
2025-12-18 15:56:38,504 - INFO - 訓練期間全体: 2021-01-01 00:00:00 ～ 2021-04-01 00:00:00
2025-12-18 15:56:38,504 - INFO - 将来窓: 0～24ヶ月
2025-12-18 15:56:38,504 - INFO - 拡張ラベル期間: 0～12ヶ月
2025-12-18 15:56:38,504 - INFO - プロジェクト: 全プロジェクト
2025-12-18 15:56:38,504 - INFO - ラベル定義: この期間で承諾=1、この期間で拒否=0、依頼なし→拡張期間チェック、訓練時は拡張期間にも依頼なしで除外
2025-12-18 15:56:38,504 - INFO - データリーク防止: 訓練期間内でラベル計算
2025-12-18 15:56:38,504 - INFO - ================================================================================
2025-12-18 15:56:38,504 - INFO - 特徴量計算期間（訓練全体）: 2021-01-01 00:00:00 ～ 2021-04-01 00:00:00
2025-12-18 15:56:38,504 - INFO - 全体ラベル期間（train_end時点から）: 2021-04-01 00:00:00 ～ 2023-04-01 00:00:00
2025-12-18 15:56:38,506 - INFO - 特徴量計算期間内のレビュアー数: 52
2025-12-18 15:56:38,600 - INFO - ================================================================================
2025-12-18 15:56:38,600 - INFO - 軌跡抽出完了: 35サンプル（レビュアー）
2025-12-18 15:56:38,600 - INFO -   スキップ（最小依頼数未満）: 0
2025-12-18 15:56:38,600 - INFO -   スキップ（訓練期間末尾まで依頼なし）: 17
2025-12-18 15:56:38,600 - INFO -   正例（この期間で承諾あり）: 29 (82.9%)
2025-12-18 15:56:38,600 - INFO -   負例（この期間で承諾なし）: 6 (17.1%)
2025-12-18 15:56:38,600 - INFO -     - 依頼あり→拒否（重み=1.0）: 6
2025-12-18 15:56:38,600 - INFO -   総ステップ数: 70
2025-12-18 15:56:38,600 - INFO -   継続ステップ率: 58.6% (41/70)
2025-12-18 15:56:38,600 - INFO - ================================================================================
/Users/kazuki-h/research/multiproject_research/.venv/lib/python3.13/site-packages/torch/nn/modules/rnn.py:123: UserWarning: dropout option adds dropout after all but last recurrent layer, so non-zero dropout expects num_layers greater than 1, but got dropout=0.2 and num_layers=1
  warnings.warn(
2025-12-18 15:56:39,078 - INFO - 継続予測IRLシステムを初期化しました
2025-12-18 15:56:39,078 - INFO - 訓練データ正例率: 82.9% (29/35)
2025-12-18 15:56:39,078 - INFO - Focal Loss パラメータ更新: alpha=0.400, gamma=1.000
2025-12-18 15:56:39,078 - INFO - 正例率 82.9% に基づき自動調整: バランス重視（正例率≥60%・軽い正例優先)
2025-12-18 15:56:39,078 - INFO - IRLモデルを訓練...
2025-12-18 15:56:39,078 - INFO - ============================================================
2025-12-18 15:56:39,078 - INFO - 時系列IRL訓練開始
2025-12-18 15:56:39,078 - INFO - 軌跡数: 35
2025-12-18 15:56:39,078 - INFO - エポック数: 20
2025-12-18 15:56:39,078 - INFO - ============================================================
2025-12-18 15:56:39,170 - INFO - エポック 0: 平均損失 = 1.1647
2025-12-18 15:56:39,748 - INFO - エポック 10: 平均損失 = 1.1293
2025-12-18 15:56:40,277 - INFO - 時系列IRL訓練完了
2025-12-18 15:56:40,277 - INFO - 訓練データ上で最適閾値を決定...
2025-12-18 15:56:40,303 - INFO - 最適閾値: 0.3975
2025-12-18 15:56:40,303 - INFO - 訓練データ性能: Precision=0.829, Recall=1.000, F1=0.906
2025-12-18 15:56:40,305 - INFO - モデルを保存: outputs/android_50projects_irl/train_0-3m/irl_model.pt
2025-12-18 15:56:40,305 - INFO - 最適閾値を保存: outputs/android_50projects_irl/train_0-3m/optimal_threshold.json
2025-12-18 15:56:40,305 - INFO - 評価用軌跡を抽出...
2025-12-18 15:56:40,305 - INFO - ================================================================================
2025-12-18 15:56:40,305 - INFO - 評価用軌跡抽出を開始（スナップショット特徴量用）
2025-12-18 15:56:40,305 - INFO - Cutoff日: 2021-04-01 00:00:00
2025-12-18 15:56:40,305 - INFO - 履歴ウィンドウ: 3ヶ月
2025-12-18 15:56:40,305 - INFO - 将来窓: 21～24ヶ月
2025-12-18 15:56:40,305 - INFO - 拡張ラベル期間: 21～12ヶ月
2025-12-18 15:56:40,305 - INFO - プロジェクト: 全プロジェクト
2025-12-18 15:56:40,305 - INFO - 継続判定: この期間で承諾=1、この期間で拒否=0、依頼なし→拡張期間チェック、評価時は拡張期間にも依頼なしで除外（予測の母集団に入れない）
2025-12-18 15:56:40,305 - INFO - ================================================================================
2025-12-18 15:56:40,305 - INFO - 履歴期間: 2021-01-01 00:00:00 ～ 2021-04-01 00:00:00
2025-12-18 15:56:40,305 - INFO - 評価期間: 2023-01-01 00:00:00 ～ 2023-04-01 00:00:00
2025-12-18 15:56:40,306 - INFO - 履歴期間内のレビュアー数: 52
2025-12-18 15:56:40,340 - INFO - ================================================================================
2025-12-18 15:56:40,340 - INFO - 評価用軌跡抽出完了: 21サンプル
2025-12-18 15:56:40,340 - INFO -   スキップ（最小依頼数未満）: 0
2025-12-18 15:56:40,340 - INFO -   スキップ（訓練期間末尾まで依頼なし）: 31
2025-12-18 15:56:40,340 - INFO -   正例（この期間で承諾あり）: 15 (71.4%)
2025-12-18 15:56:40,340 - INFO -   負例（この期間で承諾なし）: 6 (28.6%)
2025-12-18 15:56:40,340 - INFO -     - 依頼あり→拒否（重み=1.0）: 6
2025-12-18 15:56:40,340 - INFO - ================================================================================
2025-12-18 15:56:40,340 - INFO - 予測を実行...
2025-12-18 15:56:40,357 - INFO - ================================================================================
2025-12-18 15:56:40,357 - INFO - 評価結果 (0-3m → 0-3m):
2025-12-18 15:56:40,357 - INFO -   AUC-ROC: 0.5000
2025-12-18 15:56:40,357 - INFO -   AUC-PR: 0.8114
2025-12-18 15:56:40,357 - INFO -   Precision: 0.7143
2025-12-18 15:56:40,357 - INFO -   Recall: 1.0000
2025-12-18 15:56:40,357 - INFO -   F1 Score: 0.8333
2025-12-18 15:56:40,357 - INFO - ================================================================================
2025-12-18 15:56:40,358 - INFO - 結果を保存: outputs/android_50projects_irl/train_0-3m/eval_0-3m
2025-12-18 15:56:40,359 - INFO - 
【2/10】パターン実行中...
2025-12-18 15:56:40,359 - INFO - ================================================================================
2025-12-18 15:56:40,359 - INFO - パターン: 0-3m → 3-6m
2025-12-18 15:56:40,359 - INFO - 訓練期間: 2021-01-01 00:00:00 ～ 2021-04-01 00:00:00
2025-12-18 15:56:40,359 - INFO - 評価期間: 2023-04-01 00:00:00 ～ 2023-07-01 00:00:00
2025-12-18 15:56:40,359 - INFO - ================================================================================
2025-12-18 15:56:40,359 - INFO - レビュー依頼データを読み込み: data/android_50proj_2021_2024_feat.csv
2025-12-18 15:56:40,392 - INFO - 総レビュー依頼数: 7155
2025-12-18 15:56:40,392 - INFO - 承諾数: 4798 (67.1%)
2025-12-18 15:56:40,392 - INFO - 拒否数: 2357 (32.9%)
2025-12-18 15:56:40,392 - INFO - 将来窓設定: 0～27ヶ月
2025-12-18 15:56:40,392 - INFO - 訓練用軌跡を抽出...
2025-12-18 15:56:40,392 - INFO - ================================================================================
2025-12-18 15:56:40,392 - INFO - レビュー承諾予測用軌跡抽出を開始（データリークなし版）
2025-12-18 15:56:40,392 - INFO - 訓練期間全体: 2021-01-01 00:00:00 ～ 2021-04-01 00:00:00
2025-12-18 15:56:40,392 - INFO - 将来窓: 0～27ヶ月
2025-12-18 15:56:40,392 - INFO - 拡張ラベル期間: 0～12ヶ月
2025-12-18 15:56:40,392 - INFO - プロジェクト: 全プロジェクト
2025-12-18 15:56:40,392 - INFO - ラベル定義: この期間で承諾=1、この期間で拒否=0、依頼なし→拡張期間チェック、訓練時は拡張期間にも依頼なしで除外
2025-12-18 15:56:40,392 - INFO - データリーク防止: 訓練期間内でラベル計算
2025-12-18 15:56:40,392 - INFO - ================================================================================
2025-12-18 15:56:40,392 - INFO - 特徴量計算期間（訓練全体）: 2021-01-01 00:00:00 ～ 2021-04-01 00:00:00
2025-12-18 15:56:40,392 - INFO - 全体ラベル期間（train_end時点から）: 2021-04-01 00:00:00 ～ 2023-07-01 00:00:00
2025-12-18 15:56:40,394 - INFO - 特徴量計算期間内のレビュアー数: 52
2025-12-18 15:56:40,495 - INFO - ================================================================================
2025-12-18 15:56:40,495 - INFO - 軌跡抽出完了: 35サンプル（レビュアー）
2025-12-18 15:56:40,495 - INFO -   スキップ（最小依頼数未満）: 0
2025-12-18 15:56:40,495 - INFO -   スキップ（訓練期間末尾まで依頼なし）: 17
2025-12-18 15:56:40,495 - INFO -   正例（この期間で承諾あり）: 29 (82.9%)
2025-12-18 15:56:40,495 - INFO -   負例（この期間で承諾なし）: 6 (17.1%)
2025-12-18 15:56:40,495 - INFO -     - 依頼あり→拒否（重み=1.0）: 6
2025-12-18 15:56:40,495 - INFO -   総ステップ数: 70
2025-12-18 15:56:40,495 - INFO -   継続ステップ率: 58.6% (41/70)
2025-12-18 15:56:40,495 - INFO - ================================================================================
/Users/kazuki-h/research/multiproject_research/.venv/lib/python3.13/site-packages/torch/nn/modules/rnn.py:123: UserWarning: dropout option adds dropout after all but last recurrent layer, so non-zero dropout expects num_layers greater than 1, but got dropout=0.2 and num_layers=1
  warnings.warn(
2025-12-18 15:56:40,496 - INFO - 継続予測IRLシステムを初期化しました
2025-12-18 15:56:40,496 - INFO - 訓練データ正例率: 82.9% (29/35)
2025-12-18 15:56:40,496 - INFO - Focal Loss パラメータ更新: alpha=0.400, gamma=1.000
2025-12-18 15:56:40,496 - INFO - 正例率 82.9% に基づき自動調整: バランス重視（正例率≥60%・軽い正例優先)
2025-12-18 15:56:40,496 - INFO - IRLモデルを訓練...
2025-12-18 15:56:40,496 - INFO - ============================================================
2025-12-18 15:56:40,496 - INFO - 時系列IRL訓練開始
2025-12-18 15:56:40,496 - INFO - 軌跡数: 35
2025-12-18 15:56:40,496 - INFO - エポック数: 20
2025-12-18 15:56:40,496 - INFO - ============================================================
2025-12-18 15:56:40,551 - INFO - エポック 0: 平均損失 = 1.1928
2025-12-18 15:56:41,140 - INFO - エポック 10: 平均損失 = 1.1409
2025-12-18 15:56:41,589 - INFO - 時系列IRL訓練完了
2025-12-18 15:56:41,589 - INFO - 訓練データ上で最適閾値を決定...
2025-12-18 15:56:41,613 - INFO - 最適閾値: 0.4858
2025-12-18 15:56:41,613 - INFO - 訓練データ性能: Precision=0.829, Recall=1.000, F1=0.906
2025-12-18 15:56:41,614 - INFO - モデルを保存: outputs/android_50projects_irl/train_0-3m/irl_model.pt
2025-12-18 15:56:41,614 - INFO - 最適閾値を保存: outputs/android_50projects_irl/train_0-3m/optimal_threshold.json
2025-12-18 15:56:41,614 - INFO - 評価用軌跡を抽出...
2025-12-18 15:56:41,614 - INFO - ================================================================================
2025-12-18 15:56:41,614 - INFO - 評価用軌跡抽出を開始（スナップショット特徴量用）
2025-12-18 15:56:41,614 - INFO - Cutoff日: 2021-04-01 00:00:00
2025-12-18 15:56:41,614 - INFO - 履歴ウィンドウ: 3ヶ月
2025-12-18 15:56:41,614 - INFO - 将来窓: 24～27ヶ月
2025-12-18 15:56:41,614 - INFO - 拡張ラベル期間: 24～12ヶ月
2025-12-18 15:56:41,614 - INFO - プロジェクト: 全プロジェクト
2025-12-18 15:56:41,614 - INFO - 継続判定: この期間で承諾=1、この期間で拒否=0、依頼なし→拡張期間チェック、評価時は拡張期間にも依頼なしで除外（予測の母集団に入れない）
2025-12-18 15:56:41,614 - INFO - ================================================================================
2025-12-18 15:56:41,614 - INFO - 履歴期間: 2021-01-01 00:00:00 ～ 2021-04-01 00:00:00
2025-12-18 15:56:41,614 - INFO - 評価期間: 2023-04-01 00:00:00 ～ 2023-07-01 00:00:00
2025-12-18 15:56:41,615 - INFO - 履歴期間内のレビュアー数: 52
2025-12-18 15:56:41,648 - INFO - ================================================================================
2025-12-18 15:56:41,648 - INFO - 評価用軌跡抽出完了: 19サンプル
2025-12-18 15:56:41,648 - INFO -   スキップ（最小依頼数未満）: 0
2025-12-18 15:56:41,648 - INFO -   スキップ（訓練期間末尾まで依頼なし）: 33
2025-12-18 15:56:41,648 - INFO -   正例（この期間で承諾あり）: 14 (73.7%)
2025-12-18 15:56:41,648 - INFO -   負例（この期間で承諾なし）: 5 (26.3%)
2025-12-18 15:56:41,648 - INFO -     - 依頼あり→拒否（重み=1.0）: 5
2025-12-18 15:56:41,648 - INFO - ================================================================================
2025-12-18 15:56:41,648 - INFO - 予測を実行...
2025-12-18 15:56:41,665 - INFO - ================================================================================
2025-12-18 15:56:41,665 - INFO - 評価結果 (0-3m → 3-6m):
2025-12-18 15:56:41,665 - INFO -   AUC-ROC: 0.6286
2025-12-18 15:56:41,665 - INFO -   AUC-PR: 0.8833
2025-12-18 15:56:41,665 - INFO -   Precision: 0.7368
2025-12-18 15:56:41,665 - INFO -   Recall: 1.0000
2025-12-18 15:56:41,665 - INFO -   F1 Score: 0.8485
2025-12-18 15:56:41,665 - INFO - ================================================================================
2025-12-18 15:56:41,666 - INFO - 結果を保存: outputs/android_50projects_irl/train_0-3m/eval_3-6m
2025-12-18 15:56:41,667 - INFO - 
【3/10】パターン実行中...
2025-12-18 15:56:41,667 - INFO - ================================================================================
2025-12-18 15:56:41,667 - INFO - パターン: 0-3m → 6-9m
2025-12-18 15:56:41,667 - INFO - 訓練期間: 2021-01-01 00:00:00 ～ 2021-04-01 00:00:00
2025-12-18 15:56:41,667 - INFO - 評価期間: 2023-07-01 00:00:00 ～ 2023-10-01 00:00:00
2025-12-18 15:56:41,667 - INFO - ================================================================================
2025-12-18 15:56:41,667 - INFO - レビュー依頼データを読み込み: data/android_50proj_2021_2024_feat.csv
2025-12-18 15:56:41,699 - INFO - 総レビュー依頼数: 7155
2025-12-18 15:56:41,699 - INFO - 承諾数: 4798 (67.1%)
2025-12-18 15:56:41,699 - INFO - 拒否数: 2357 (32.9%)
2025-12-18 15:56:41,699 - INFO - 将来窓設定: 0～30ヶ月
2025-12-18 15:56:41,699 - INFO - 訓練用軌跡を抽出...
2025-12-18 15:56:41,699 - INFO - ================================================================================
2025-12-18 15:56:41,699 - INFO - レビュー承諾予測用軌跡抽出を開始（データリークなし版）
2025-12-18 15:56:41,699 - INFO - 訓練期間全体: 2021-01-01 00:00:00 ～ 2021-04-01 00:00:00
2025-12-18 15:56:41,699 - INFO - 将来窓: 0～30ヶ月
2025-12-18 15:56:41,699 - INFO - 拡張ラベル期間: 0～12ヶ月
2025-12-18 15:56:41,699 - INFO - プロジェクト: 全プロジェクト
2025-12-18 15:56:41,699 - INFO - ラベル定義: この期間で承諾=1、この期間で拒否=0、依頼なし→拡張期間チェック、訓練時は拡張期間にも依頼なしで除外
2025-12-18 15:56:41,699 - INFO - データリーク防止: 訓練期間内でラベル計算
2025-12-18 15:56:41,699 - INFO - ================================================================================
2025-12-18 15:56:41,699 - INFO - 特徴量計算期間（訓練全体）: 2021-01-01 00:00:00 ～ 2021-04-01 00:00:00
2025-12-18 15:56:41,699 - INFO - 全体ラベル期間（train_end時点から）: 2021-04-01 00:00:00 ～ 2023-10-01 00:00:00
2025-12-18 15:56:41,701 - INFO - 特徴量計算期間内のレビュアー数: 52
2025-12-18 15:56:41,801 - INFO - ================================================================================
2025-12-18 15:56:41,801 - INFO - 軌跡抽出完了: 35サンプル（レビュアー）
2025-12-18 15:56:41,801 - INFO -   スキップ（最小依頼数未満）: 0
2025-12-18 15:56:41,801 - INFO -   スキップ（訓練期間末尾まで依頼なし）: 17
2025-12-18 15:56:41,801 - INFO -   正例（この期間で承諾あり）: 30 (85.7%)
2025-12-18 15:56:41,801 - INFO -   負例（この期間で承諾なし）: 5 (14.3%)
2025-12-18 15:56:41,801 - INFO -     - 依頼あり→拒否（重み=1.0）: 5
2025-12-18 15:56:41,801 - INFO -   総ステップ数: 70
2025-12-18 15:56:41,801 - INFO -   継続ステップ率: 58.6% (41/70)
2025-12-18 15:56:41,801 - INFO - ================================================================================
/Users/kazuki-h/research/multiproject_research/.venv/lib/python3.13/site-packages/torch/nn/modules/rnn.py:123: UserWarning: dropout option adds dropout after all but last recurrent layer, so non-zero dropout expects num_layers greater than 1, but got dropout=0.2 and num_layers=1
  warnings.warn(
2025-12-18 15:56:41,802 - INFO - 継続予測IRLシステムを初期化しました
2025-12-18 15:56:41,802 - INFO - 訓練データ正例率: 85.7% (30/35)
2025-12-18 15:56:41,802 - INFO - Focal Loss パラメータ更新: alpha=0.400, gamma=1.000
2025-12-18 15:56:41,802 - INFO - 正例率 85.7% に基づき自動調整: バランス重視（正例率≥60%・軽い正例優先)
2025-12-18 15:56:41,802 - INFO - IRLモデルを訓練...
2025-12-18 15:56:41,802 - INFO - ============================================================
2025-12-18 15:56:41,802 - INFO - 時系列IRL訓練開始
2025-12-18 15:56:41,802 - INFO - 軌跡数: 35
2025-12-18 15:56:41,802 - INFO - エポック数: 20
2025-12-18 15:56:41,802 - INFO - ============================================================
2025-12-18 15:56:41,856 - INFO - エポック 0: 平均損失 = 1.1467
2025-12-18 15:56:42,368 - INFO - エポック 10: 平均損失 = 1.1153
2025-12-18 15:56:42,849 - INFO - 時系列IRL訓練完了
2025-12-18 15:56:42,849 - INFO - 訓練データ上で最適閾値を決定...
2025-12-18 15:56:42,872 - INFO - 最適閾値: 0.3619
2025-12-18 15:56:42,872 - INFO - 訓練データ性能: Precision=0.857, Recall=1.000, F1=0.923
2025-12-18 15:56:42,873 - INFO - モデルを保存: outputs/android_50projects_irl/train_0-3m/irl_model.pt
2025-12-18 15:56:42,873 - INFO - 最適閾値を保存: outputs/android_50projects_irl/train_0-3m/optimal_threshold.json
2025-12-18 15:56:42,873 - INFO - 評価用軌跡を抽出...
2025-12-18 15:56:42,873 - INFO - ================================================================================
2025-12-18 15:56:42,873 - INFO - 評価用軌跡抽出を開始（スナップショット特徴量用）
2025-12-18 15:56:42,873 - INFO - Cutoff日: 2021-04-01 00:00:00
2025-12-18 15:56:42,873 - INFO - 履歴ウィンドウ: 3ヶ月
2025-12-18 15:56:42,873 - INFO - 将来窓: 27～30ヶ月
2025-12-18 15:56:42,873 - INFO - 拡張ラベル期間: 27～12ヶ月
2025-12-18 15:56:42,873 - INFO - プロジェクト: 全プロジェクト
2025-12-18 15:56:42,873 - INFO - 継続判定: この期間で承諾=1、この期間で拒否=0、依頼なし→拡張期間チェック、評価時は拡張期間にも依頼なしで除外（予測の母集団に入れない）
2025-12-18 15:56:42,873 - INFO - ================================================================================
2025-12-18 15:56:42,873 - INFO - 履歴期間: 2021-01-01 00:00:00 ～ 2021-04-01 00:00:00
2025-12-18 15:56:42,873 - INFO - 評価期間: 2023-07-01 00:00:00 ～ 2023-10-01 00:00:00
2025-12-18 15:56:42,874 - INFO - 履歴期間内のレビュアー数: 52
2025-12-18 15:56:42,904 - INFO - ================================================================================
2025-12-18 15:56:42,904 - INFO - 評価用軌跡抽出完了: 16サンプル
2025-12-18 15:56:42,904 - INFO -   スキップ（最小依頼数未満）: 0
2025-12-18 15:56:42,904 - INFO -   スキップ（訓練期間末尾まで依頼なし）: 36
2025-12-18 15:56:42,904 - INFO -   正例（この期間で承諾あり）: 15 (93.8%)
2025-12-18 15:56:42,904 - INFO -   負例（この期間で承諾なし）: 1 (6.2%)
2025-12-18 15:56:42,904 - INFO -     - 依頼あり→拒否（重み=1.0）: 1
2025-12-18 15:56:42,904 - INFO - ================================================================================
2025-12-18 15:56:42,904 - INFO - 予測を実行...
2025-12-18 15:56:42,921 - INFO - ================================================================================
2025-12-18 15:56:42,921 - INFO - 評価結果 (0-3m → 6-9m):
2025-12-18 15:56:42,921 - INFO -   AUC-ROC: 0.4000
2025-12-18 15:56:42,921 - INFO -   AUC-PR: 0.9447
2025-12-18 15:56:42,921 - INFO -   Precision: 0.9375
2025-12-18 15:56:42,921 - INFO -   Recall: 1.0000
2025-12-18 15:56:42,921 - INFO -   F1 Score: 0.9677
2025-12-18 15:56:42,921 - INFO - ================================================================================
2025-12-18 15:56:42,922 - INFO - 結果を保存: outputs/android_50projects_irl/train_0-3m/eval_6-9m
2025-12-18 15:56:42,922 - INFO - 
【4/10】パターン実行中...
2025-12-18 15:56:42,922 - INFO - ================================================================================
2025-12-18 15:56:42,922 - INFO - パターン: 0-3m → 9-12m
2025-12-18 15:56:42,922 - INFO - 訓練期間: 2021-01-01 00:00:00 ～ 2021-04-01 00:00:00
2025-12-18 15:56:42,922 - INFO - 評価期間: 2023-10-01 00:00:00 ～ 2024-01-01 00:00:00
2025-12-18 15:56:42,922 - INFO - ================================================================================
2025-12-18 15:56:42,922 - INFO - レビュー依頼データを読み込み: data/android_50proj_2021_2024_feat.csv
2025-12-18 15:56:42,955 - INFO - 総レビュー依頼数: 7155
2025-12-18 15:56:42,955 - INFO - 承諾数: 4798 (67.1%)
2025-12-18 15:56:42,955 - INFO - 拒否数: 2357 (32.9%)
2025-12-18 15:56:42,955 - INFO - 将来窓設定: 0～33ヶ月
2025-12-18 15:56:42,955 - INFO - 訓練用軌跡を抽出...
2025-12-18 15:56:42,955 - INFO - ================================================================================
2025-12-18 15:56:42,955 - INFO - レビュー承諾予測用軌跡抽出を開始（データリークなし版）
2025-12-18 15:56:42,955 - INFO - 訓練期間全体: 2021-01-01 00:00:00 ～ 2021-04-01 00:00:00
2025-12-18 15:56:42,955 - INFO - 将来窓: 0～33ヶ月
2025-12-18 15:56:42,955 - INFO - 拡張ラベル期間: 0～12ヶ月
2025-12-18 15:56:42,955 - INFO - プロジェクト: 全プロジェクト
2025-12-18 15:56:42,955 - INFO - ラベル定義: この期間で承諾=1、この期間で拒否=0、依頼なし→拡張期間チェック、訓練時は拡張期間にも依頼なしで除外
2025-12-18 15:56:42,955 - INFO - データリーク防止: 訓練期間内でラベル計算
2025-12-18 15:56:42,955 - INFO - ================================================================================
2025-12-18 15:56:42,955 - INFO - 特徴量計算期間（訓練全体）: 2021-01-01 00:00:00 ～ 2021-04-01 00:00:00
2025-12-18 15:56:42,955 - INFO - 全体ラベル期間（train_end時点から）: 2021-04-01 00:00:00 ～ 2024-01-01 00:00:00
2025-12-18 15:56:42,956 - INFO - 特徴量計算期間内のレビュアー数: 52
2025-12-18 15:56:43,057 - INFO - ================================================================================
2025-12-18 15:56:43,057 - INFO - 軌跡抽出完了: 35サンプル（レビュアー）
2025-12-18 15:56:43,057 - INFO -   スキップ（最小依頼数未満）: 0
2025-12-18 15:56:43,057 - INFO -   スキップ（訓練期間末尾まで依頼なし）: 17
2025-12-18 15:56:43,057 - INFO -   正例（この期間で承諾あり）: 30 (85.7%)
2025-12-18 15:56:43,057 - INFO -   負例（この期間で承諾なし）: 5 (14.3%)
2025-12-18 15:56:43,057 - INFO -     - 依頼あり→拒否（重み=1.0）: 5
2025-12-18 15:56:43,057 - INFO -   総ステップ数: 70
2025-12-18 15:56:43,057 - INFO -   継続ステップ率: 58.6% (41/70)
2025-12-18 15:56:43,057 - INFO - ================================================================================
/Users/kazuki-h/research/multiproject_research/.venv/lib/python3.13/site-packages/torch/nn/modules/rnn.py:123: UserWarning: dropout option adds dropout after all but last recurrent layer, so non-zero dropout expects num_layers greater than 1, but got dropout=0.2 and num_layers=1
  warnings.warn(
2025-12-18 15:56:43,058 - INFO - 継続予測IRLシステムを初期化しました
2025-12-18 15:56:43,058 - INFO - 訓練データ正例率: 85.7% (30/35)
2025-12-18 15:56:43,058 - INFO - Focal Loss パラメータ更新: alpha=0.400, gamma=1.000
2025-12-18 15:56:43,058 - INFO - 正例率 85.7% に基づき自動調整: バランス重視（正例率≥60%・軽い正例優先)
2025-12-18 15:56:43,058 - INFO - IRLモデルを訓練...
2025-12-18 15:56:43,058 - INFO - ============================================================
2025-12-18 15:56:43,058 - INFO - 時系列IRL訓練開始
2025-12-18 15:56:43,058 - INFO - 軌跡数: 35
2025-12-18 15:56:43,058 - INFO - エポック数: 20
2025-12-18 15:56:43,058 - INFO - ============================================================
2025-12-18 15:56:43,109 - INFO - エポック 0: 平均損失 = 1.1731
2025-12-18 15:56:43,625 - INFO - エポック 10: 平均損失 = 1.1403
2025-12-18 15:56:44,093 - INFO - 時系列IRL訓練完了
2025-12-18 15:56:44,093 - INFO - 訓練データ上で最適閾値を決定...
2025-12-18 15:56:44,115 - INFO - 最適閾値: 0.4516
2025-12-18 15:56:44,115 - INFO - 訓練データ性能: Precision=0.857, Recall=1.000, F1=0.923
2025-12-18 15:56:44,116 - INFO - モデルを保存: outputs/android_50projects_irl/train_0-3m/irl_model.pt
2025-12-18 15:56:44,116 - INFO - 最適閾値を保存: outputs/android_50projects_irl/train_0-3m/optimal_threshold.json
2025-12-18 15:56:44,116 - INFO - 評価用軌跡を抽出...
2025-12-18 15:56:44,117 - INFO - ================================================================================
2025-12-18 15:56:44,117 - INFO - 評価用軌跡抽出を開始（スナップショット特徴量用）
2025-12-18 15:56:44,117 - INFO - Cutoff日: 2021-04-01 00:00:00
2025-12-18 15:56:44,117 - INFO - 履歴ウィンドウ: 3ヶ月
2025-12-18 15:56:44,117 - INFO - 将来窓: 30～33ヶ月
2025-12-18 15:56:44,117 - INFO - 拡張ラベル期間: 30～12ヶ月
2025-12-18 15:56:44,117 - INFO - プロジェクト: 全プロジェクト
2025-12-18 15:56:44,117 - INFO - 継続判定: この期間で承諾=1、この期間で拒否=0、依頼なし→拡張期間チェック、評価時は拡張期間にも依頼なしで除外（予測の母集団に入れない）
2025-12-18 15:56:44,117 - INFO - ================================================================================
2025-12-18 15:56:44,117 - INFO - 履歴期間: 2021-01-01 00:00:00 ～ 2021-04-01 00:00:00
2025-12-18 15:56:44,117 - INFO - 評価期間: 2023-10-01 00:00:00 ～ 2024-01-01 00:00:00
2025-12-18 15:56:44,118 - INFO - 履歴期間内のレビュアー数: 52
2025-12-18 15:56:44,149 - INFO - ================================================================================
2025-12-18 15:56:44,149 - INFO - 評価用軌跡抽出完了: 17サンプル
2025-12-18 15:56:44,149 - INFO -   スキップ（最小依頼数未満）: 0
2025-12-18 15:56:44,149 - INFO -   スキップ（訓練期間末尾まで依頼なし）: 35
2025-12-18 15:56:44,149 - INFO -   正例（この期間で承諾あり）: 15 (88.2%)
2025-12-18 15:56:44,149 - INFO -   負例（この期間で承諾なし）: 2 (11.8%)
2025-12-18 15:56:44,149 - INFO -     - 依頼あり→拒否（重み=1.0）: 2
2025-12-18 15:56:44,149 - INFO - ================================================================================
2025-12-18 15:56:44,149 - INFO - 予測を実行...
2025-12-18 15:56:44,166 - INFO - ================================================================================
2025-12-18 15:56:44,166 - INFO - 評価結果 (0-3m → 9-12m):
2025-12-18 15:56:44,166 - INFO -   AUC-ROC: 0.7333
2025-12-18 15:56:44,166 - INFO -   AUC-PR: 0.9642
2025-12-18 15:56:44,166 - INFO -   Precision: 0.8824
2025-12-18 15:56:44,166 - INFO -   Recall: 1.0000
2025-12-18 15:56:44,166 - INFO -   F1 Score: 0.9375
2025-12-18 15:56:44,166 - INFO - ================================================================================
2025-12-18 15:56:44,167 - INFO - 結果を保存: outputs/android_50projects_irl/train_0-3m/eval_9-12m
2025-12-18 15:56:44,168 - INFO - 
【5/10】パターン実行中...
2025-12-18 15:56:44,168 - INFO - ================================================================================
2025-12-18 15:56:44,168 - INFO - パターン: 3-6m → 3-6m
2025-12-18 15:56:44,168 - INFO - 訓練期間: 2021-04-01 00:00:00 ～ 2021-07-01 00:00:00
2025-12-18 15:56:44,168 - INFO - 評価期間: 2023-04-01 00:00:00 ～ 2023-07-01 00:00:00
2025-12-18 15:56:44,168 - INFO - ================================================================================
2025-12-18 15:56:44,168 - INFO - レビュー依頼データを読み込み: data/android_50proj_2021_2024_feat.csv
2025-12-18 15:56:44,199 - INFO - 総レビュー依頼数: 7155
2025-12-18 15:56:44,199 - INFO - 承諾数: 4798 (67.1%)
2025-12-18 15:56:44,200 - INFO - 拒否数: 2357 (32.9%)
2025-12-18 15:56:44,200 - INFO - 将来窓設定: 0～24ヶ月
2025-12-18 15:56:44,200 - INFO - 訓練用軌跡を抽出...
2025-12-18 15:56:44,200 - INFO - ================================================================================
2025-12-18 15:56:44,200 - INFO - レビュー承諾予測用軌跡抽出を開始（データリークなし版）
2025-12-18 15:56:44,200 - INFO - 訓練期間全体: 2021-04-01 00:00:00 ～ 2021-07-01 00:00:00
2025-12-18 15:56:44,200 - INFO - 将来窓: 0～24ヶ月
2025-12-18 15:56:44,200 - INFO - 拡張ラベル期間: 0～12ヶ月
2025-12-18 15:56:44,200 - INFO - プロジェクト: 全プロジェクト
2025-12-18 15:56:44,200 - INFO - ラベル定義: この期間で承諾=1、この期間で拒否=0、依頼なし→拡張期間チェック、訓練時は拡張期間にも依頼なしで除外
2025-12-18 15:56:44,200 - INFO - データリーク防止: 訓練期間内でラベル計算
2025-12-18 15:56:44,200 - INFO - ================================================================================
2025-12-18 15:56:44,200 - INFO - 特徴量計算期間（訓練全体）: 2021-04-01 00:00:00 ～ 2021-07-01 00:00:00
2025-12-18 15:56:44,200 - INFO - 全体ラベル期間（train_end時点から）: 2021-07-01 00:00:00 ～ 2023-07-01 00:00:00
2025-12-18 15:56:44,201 - INFO - 特徴量計算期間内のレビュアー数: 43
2025-12-18 15:56:44,279 - INFO - ================================================================================
2025-12-18 15:56:44,279 - INFO - 軌跡抽出完了: 26サンプル（レビュアー）
2025-12-18 15:56:44,279 - INFO -   スキップ（最小依頼数未満）: 0
2025-12-18 15:56:44,279 - INFO -   スキップ（訓練期間末尾まで依頼なし）: 17
2025-12-18 15:56:44,279 - INFO -   正例（この期間で承諾あり）: 25 (96.2%)
2025-12-18 15:56:44,279 - INFO -   負例（この期間で承諾なし）: 1 (3.8%)
2025-12-18 15:56:44,279 - INFO -     - 依頼あり→拒否（重み=1.0）: 1
2025-12-18 15:56:44,279 - INFO -   総ステップ数: 52
2025-12-18 15:56:44,279 - INFO -   継続ステップ率: 51.9% (27/52)
2025-12-18 15:56:44,279 - INFO - ================================================================================
/Users/kazuki-h/research/multiproject_research/.venv/lib/python3.13/site-packages/torch/nn/modules/rnn.py:123: UserWarning: dropout option adds dropout after all but last recurrent layer, so non-zero dropout expects num_layers greater than 1, but got dropout=0.2 and num_layers=1
  warnings.warn(
2025-12-18 15:56:44,280 - INFO - 継続予測IRLシステムを初期化しました
2025-12-18 15:56:44,280 - INFO - 訓練データ正例率: 96.2% (25/26)
2025-12-18 15:56:44,280 - INFO - Focal Loss パラメータ更新: alpha=0.400, gamma=1.000
2025-12-18 15:56:44,280 - INFO - 正例率 96.2% に基づき自動調整: バランス重視（正例率≥60%・軽い正例優先)
2025-12-18 15:56:44,280 - INFO - IRLモデルを訓練...
2025-12-18 15:56:44,280 - INFO - ============================================================
2025-12-18 15:56:44,280 - INFO - 時系列IRL訓練開始
2025-12-18 15:56:44,280 - INFO - 軌跡数: 26
2025-12-18 15:56:44,280 - INFO - エポック数: 20
2025-12-18 15:56:44,280 - INFO - ============================================================
2025-12-18 15:56:44,324 - INFO - エポック 0: 平均損失 = 1.1765
2025-12-18 15:56:44,761 - INFO - エポック 10: 平均損失 = 1.1418
2025-12-18 15:56:45,136 - INFO - 時系列IRL訓練完了
2025-12-18 15:56:45,137 - INFO - 訓練データ上で最適閾値を決定...
2025-12-18 15:56:45,167 - INFO - 最適閾値: 0.0794
2025-12-18 15:56:45,167 - INFO - 訓練データ性能: Precision=0.962, Recall=1.000, F1=0.980
2025-12-18 15:56:45,168 - INFO - モデルを保存: outputs/android_50projects_irl/train_3-6m/irl_model.pt
2025-12-18 15:56:45,168 - INFO - 最適閾値を保存: outputs/android_50projects_irl/train_3-6m/optimal_threshold.json
2025-12-18 15:56:45,168 - INFO - 評価用軌跡を抽出...
2025-12-18 15:56:45,168 - INFO - ================================================================================
2025-12-18 15:56:45,168 - INFO - 評価用軌跡抽出を開始（スナップショット特徴量用）
2025-12-18 15:56:45,168 - INFO - Cutoff日: 2021-07-01 00:00:00
2025-12-18 15:56:45,168 - INFO - 履歴ウィンドウ: 3ヶ月
2025-12-18 15:56:45,168 - INFO - 将来窓: 21～24ヶ月
2025-12-18 15:56:45,168 - INFO - 拡張ラベル期間: 21～12ヶ月
2025-12-18 15:56:45,168 - INFO - プロジェクト: 全プロジェクト
2025-12-18 15:56:45,168 - INFO - 継続判定: この期間で承諾=1、この期間で拒否=0、依頼なし→拡張期間チェック、評価時は拡張期間にも依頼なしで除外（予測の母集団に入れない）
2025-12-18 15:56:45,168 - INFO - ================================================================================
2025-12-18 15:56:45,168 - INFO - 履歴期間: 2021-04-01 00:00:00 ～ 2021-07-01 00:00:00
2025-12-18 15:56:45,168 - INFO - 評価期間: 2023-04-01 00:00:00 ～ 2023-07-01 00:00:00
2025-12-18 15:56:45,169 - INFO - 履歴期間内のレビュアー数: 43
2025-12-18 15:56:45,192 - INFO - ================================================================================
2025-12-18 15:56:45,192 - INFO - 評価用軌跡抽出完了: 11サンプル
2025-12-18 15:56:45,192 - INFO -   スキップ（最小依頼数未満）: 0
2025-12-18 15:56:45,192 - INFO -   スキップ（訓練期間末尾まで依頼なし）: 32
2025-12-18 15:56:45,192 - INFO -   正例（この期間で承諾あり）: 11 (100.0%)
2025-12-18 15:56:45,192 - INFO -   負例（この期間で承諾なし）: 0 (0.0%)
2025-12-18 15:56:45,192 - INFO - ================================================================================
2025-12-18 15:56:45,193 - INFO - 予測を実行...
/Users/kazuki-h/research/multiproject_research/.venv/lib/python3.13/site-packages/sklearn/metrics/_ranking.py:424: UndefinedMetricWarning: Only one class is present in y_true. ROC AUC score is not defined in that case.
  warnings.warn(
2025-12-18 15:56:45,216 - INFO - ================================================================================
2025-12-18 15:56:45,216 - INFO - 評価結果 (3-6m → 3-6m):
2025-12-18 15:56:45,216 - INFO -   AUC-ROC: nan
2025-12-18 15:56:45,216 - INFO -   AUC-PR: 1.0000
2025-12-18 15:56:45,216 - INFO -   Precision: 1.0000
2025-12-18 15:56:45,216 - INFO -   Recall: 1.0000
2025-12-18 15:56:45,216 - INFO -   F1 Score: 1.0000
2025-12-18 15:56:45,216 - INFO - ================================================================================
2025-12-18 15:56:45,217 - INFO - 結果を保存: outputs/android_50projects_irl/train_3-6m/eval_3-6m
2025-12-18 15:56:45,218 - INFO - 
【6/10】パターン実行中...
2025-12-18 15:56:45,218 - INFO - ================================================================================
2025-12-18 15:56:45,218 - INFO - パターン: 3-6m → 6-9m
2025-12-18 15:56:45,218 - INFO - 訓練期間: 2021-04-01 00:00:00 ～ 2021-07-01 00:00:00
2025-12-18 15:56:45,218 - INFO - 評価期間: 2023-07-01 00:00:00 ～ 2023-10-01 00:00:00
2025-12-18 15:56:45,218 - INFO - ================================================================================
2025-12-18 15:56:45,218 - INFO - レビュー依頼データを読み込み: data/android_50proj_2021_2024_feat.csv
2025-12-18 15:56:45,246 - INFO - 総レビュー依頼数: 7155
2025-12-18 15:56:45,247 - INFO - 承諾数: 4798 (67.1%)
2025-12-18 15:56:45,247 - INFO - 拒否数: 2357 (32.9%)
2025-12-18 15:56:45,247 - INFO - 将来窓設定: 0～27ヶ月
2025-12-18 15:56:45,247 - INFO - 訓練用軌跡を抽出...
2025-12-18 15:56:45,247 - INFO - ================================================================================
2025-12-18 15:56:45,247 - INFO - レビュー承諾予測用軌跡抽出を開始（データリークなし版）
2025-12-18 15:56:45,247 - INFO - 訓練期間全体: 2021-04-01 00:00:00 ～ 2021-07-01 00:00:00
2025-12-18 15:56:45,247 - INFO - 将来窓: 0～27ヶ月
2025-12-18 15:56:45,247 - INFO - 拡張ラベル期間: 0～12ヶ月
2025-12-18 15:56:45,247 - INFO - プロジェクト: 全プロジェクト
2025-12-18 15:56:45,247 - INFO - ラベル定義: この期間で承諾=1、この期間で拒否=0、依頼なし→拡張期間チェック、訓練時は拡張期間にも依頼なしで除外
2025-12-18 15:56:45,247 - INFO - データリーク防止: 訓練期間内でラベル計算
2025-12-18 15:56:45,247 - INFO - ================================================================================
2025-12-18 15:56:45,247 - INFO - 特徴量計算期間（訓練全体）: 2021-04-01 00:00:00 ～ 2021-07-01 00:00:00
2025-12-18 15:56:45,247 - INFO - 全体ラベル期間（train_end時点から）: 2021-07-01 00:00:00 ～ 2023-10-01 00:00:00
2025-12-18 15:56:45,248 - INFO - 特徴量計算期間内のレビュアー数: 43
2025-12-18 15:56:45,320 - INFO - ================================================================================
2025-12-18 15:56:45,320 - INFO - 軌跡抽出完了: 26サンプル（レビュアー）
2025-12-18 15:56:45,320 - INFO -   スキップ（最小依頼数未満）: 0
2025-12-18 15:56:45,320 - INFO -   スキップ（訓練期間末尾まで依頼なし）: 17
2025-12-18 15:56:45,320 - INFO -   正例（この期間で承諾あり）: 25 (96.2%)
2025-12-18 15:56:45,320 - INFO -   負例（この期間で承諾なし）: 1 (3.8%)
2025-12-18 15:56:45,320 - INFO -     - 依頼あり→拒否（重み=1.0）: 1
2025-12-18 15:56:45,320 - INFO -   総ステップ数: 52
2025-12-18 15:56:45,320 - INFO -   継続ステップ率: 51.9% (27/52)
2025-12-18 15:56:45,320 - INFO - ================================================================================
/Users/kazuki-h/research/multiproject_research/.venv/lib/python3.13/site-packages/torch/nn/modules/rnn.py:123: UserWarning: dropout option adds dropout after all but last recurrent layer, so non-zero dropout expects num_layers greater than 1, but got dropout=0.2 and num_layers=1
  warnings.warn(
2025-12-18 15:56:45,321 - INFO - 継続予測IRLシステムを初期化しました
2025-12-18 15:56:45,321 - INFO - 訓練データ正例率: 96.2% (25/26)
2025-12-18 15:56:45,321 - INFO - Focal Loss パラメータ更新: alpha=0.400, gamma=1.000
2025-12-18 15:56:45,321 - INFO - 正例率 96.2% に基づき自動調整: バランス重視（正例率≥60%・軽い正例優先)
2025-12-18 15:56:45,321 - INFO - IRLモデルを訓練...
2025-12-18 15:56:45,321 - INFO - ============================================================
2025-12-18 15:56:45,321 - INFO - 時系列IRL訓練開始
2025-12-18 15:56:45,321 - INFO - 軌跡数: 26
2025-12-18 15:56:45,321 - INFO - エポック数: 20
2025-12-18 15:56:45,321 - INFO - ============================================================
2025-12-18 15:56:45,364 - INFO - エポック 0: 平均損失 = 1.1729
2025-12-18 15:56:45,778 - INFO - エポック 10: 平均損失 = 1.1484
2025-12-18 15:56:46,157 - INFO - 時系列IRL訓練完了
2025-12-18 15:56:46,157 - INFO - 訓練データ上で最適閾値を決定...
2025-12-18 15:56:46,190 - INFO - 最適閾値: 0.2220
2025-12-18 15:56:46,190 - INFO - 訓練データ性能: Precision=0.962, Recall=1.000, F1=0.980
2025-12-18 15:56:46,191 - INFO - モデルを保存: outputs/android_50projects_irl/train_3-6m/irl_model.pt
2025-12-18 15:56:46,191 - INFO - 最適閾値を保存: outputs/android_50projects_irl/train_3-6m/optimal_threshold.json
2025-12-18 15:56:46,191 - INFO - 評価用軌跡を抽出...
2025-12-18 15:56:46,191 - INFO - ================================================================================
2025-12-18 15:56:46,191 - INFO - 評価用軌跡抽出を開始（スナップショット特徴量用）
2025-12-18 15:56:46,191 - INFO - Cutoff日: 2021-07-01 00:00:00
2025-12-18 15:56:46,191 - INFO - 履歴ウィンドウ: 3ヶ月
2025-12-18 15:56:46,191 - INFO - 将来窓: 24～27ヶ月
2025-12-18 15:56:46,191 - INFO - 拡張ラベル期間: 24～12ヶ月
2025-12-18 15:56:46,191 - INFO - プロジェクト: 全プロジェクト
2025-12-18 15:56:46,191 - INFO - 継続判定: この期間で承諾=1、この期間で拒否=0、依頼なし→拡張期間チェック、評価時は拡張期間にも依頼なしで除外（予測の母集団に入れない）
2025-12-18 15:56:46,191 - INFO - ================================================================================
2025-12-18 15:56:46,191 - INFO - 履歴期間: 2021-04-01 00:00:00 ～ 2021-07-01 00:00:00
2025-12-18 15:56:46,191 - INFO - 評価期間: 2023-07-01 00:00:00 ～ 2023-10-01 00:00:00
2025-12-18 15:56:46,192 - INFO - 履歴期間内のレビュアー数: 43
2025-12-18 15:56:46,220 - INFO - ================================================================================
2025-12-18 15:56:46,220 - INFO - 評価用軌跡抽出完了: 16サンプル
2025-12-18 15:56:46,220 - INFO -   スキップ（最小依頼数未満）: 0
2025-12-18 15:56:46,220 - INFO -   スキップ（訓練期間末尾まで依頼なし）: 27
2025-12-18 15:56:46,220 - INFO -   正例（この期間で承諾あり）: 15 (93.8%)
2025-12-18 15:56:46,220 - INFO -   負例（この期間で承諾なし）: 1 (6.2%)
2025-12-18 15:56:46,220 - INFO -     - 依頼あり→拒否（重み=1.0）: 1
2025-12-18 15:56:46,220 - INFO - ================================================================================
2025-12-18 15:56:46,220 - INFO - 予測を実行...
2025-12-18 15:56:46,247 - INFO - ================================================================================
2025-12-18 15:56:46,247 - INFO - 評価結果 (3-6m → 6-9m):
2025-12-18 15:56:46,247 - INFO -   AUC-ROC: 0.2667
2025-12-18 15:56:46,247 - INFO -   AUC-PR: 0.9223
2025-12-18 15:56:46,247 - INFO -   Precision: 0.9375
2025-12-18 15:56:46,247 - INFO -   Recall: 1.0000
2025-12-18 15:56:46,247 - INFO -   F1 Score: 0.9677
2025-12-18 15:56:46,247 - INFO - ================================================================================
2025-12-18 15:56:46,248 - INFO - 結果を保存: outputs/android_50projects_irl/train_3-6m/eval_6-9m
2025-12-18 15:56:46,249 - INFO - 
【7/10】パターン実行中...
2025-12-18 15:56:46,249 - INFO - ================================================================================
2025-12-18 15:56:46,249 - INFO - パターン: 3-6m → 9-12m
2025-12-18 15:56:46,249 - INFO - 訓練期間: 2021-04-01 00:00:00 ～ 2021-07-01 00:00:00
2025-12-18 15:56:46,249 - INFO - 評価期間: 2023-10-01 00:00:00 ～ 2024-01-01 00:00:00
2025-12-18 15:56:46,249 - INFO - ================================================================================
2025-12-18 15:56:46,249 - INFO - レビュー依頼データを読み込み: data/android_50proj_2021_2024_feat.csv
2025-12-18 15:56:46,279 - INFO - 総レビュー依頼数: 7155
2025-12-18 15:56:46,280 - INFO - 承諾数: 4798 (67.1%)
2025-12-18 15:56:46,280 - INFO - 拒否数: 2357 (32.9%)
2025-12-18 15:56:46,280 - INFO - 将来窓設定: 0～30ヶ月
2025-12-18 15:56:46,280 - INFO - 訓練用軌跡を抽出...
2025-12-18 15:56:46,280 - INFO - ================================================================================
2025-12-18 15:56:46,280 - INFO - レビュー承諾予測用軌跡抽出を開始（データリークなし版）
2025-12-18 15:56:46,280 - INFO - 訓練期間全体: 2021-04-01 00:00:00 ～ 2021-07-01 00:00:00
2025-12-18 15:56:46,280 - INFO - 将来窓: 0～30ヶ月
2025-12-18 15:56:46,280 - INFO - 拡張ラベル期間: 0～12ヶ月
2025-12-18 15:56:46,280 - INFO - プロジェクト: 全プロジェクト
2025-12-18 15:56:46,280 - INFO - ラベル定義: この期間で承諾=1、この期間で拒否=0、依頼なし→拡張期間チェック、訓練時は拡張期間にも依頼なしで除外
2025-12-18 15:56:46,280 - INFO - データリーク防止: 訓練期間内でラベル計算
2025-12-18 15:56:46,280 - INFO - ================================================================================
2025-12-18 15:56:46,280 - INFO - 特徴量計算期間（訓練全体）: 2021-04-01 00:00:00 ～ 2021-07-01 00:00:00
2025-12-18 15:56:46,280 - INFO - 全体ラベル期間（train_end時点から）: 2021-07-01 00:00:00 ～ 2024-01-01 00:00:00
2025-12-18 15:56:46,281 - INFO - 特徴量計算期間内のレビュアー数: 43
2025-12-18 15:56:46,359 - INFO - ================================================================================
2025-12-18 15:56:46,359 - INFO - 軌跡抽出完了: 26サンプル（レビュアー）
2025-12-18 15:56:46,359 - INFO -   スキップ（最小依頼数未満）: 0
2025-12-18 15:56:46,359 - INFO -   スキップ（訓練期間末尾まで依頼なし）: 17
2025-12-18 15:56:46,359 - INFO -   正例（この期間で承諾あり）: 25 (96.2%)
2025-12-18 15:56:46,359 - INFO -   負例（この期間で承諾なし）: 1 (3.8%)
2025-12-18 15:56:46,359 - INFO -     - 依頼あり→拒否（重み=1.0）: 1
2025-12-18 15:56:46,359 - INFO -   総ステップ数: 52
2025-12-18 15:56:46,359 - INFO -   継続ステップ率: 51.9% (27/52)
2025-12-18 15:56:46,359 - INFO - ================================================================================
/Users/kazuki-h/research/multiproject_research/.venv/lib/python3.13/site-packages/torch/nn/modules/rnn.py:123: UserWarning: dropout option adds dropout after all but last recurrent layer, so non-zero dropout expects num_layers greater than 1, but got dropout=0.2 and num_layers=1
  warnings.warn(
2025-12-18 15:56:46,360 - INFO - 継続予測IRLシステムを初期化しました
2025-12-18 15:56:46,360 - INFO - 訓練データ正例率: 96.2% (25/26)
2025-12-18 15:56:46,360 - INFO - Focal Loss パラメータ更新: alpha=0.400, gamma=1.000
2025-12-18 15:56:46,360 - INFO - 正例率 96.2% に基づき自動調整: バランス重視（正例率≥60%・軽い正例優先)
2025-12-18 15:56:46,360 - INFO - IRLモデルを訓練...
2025-12-18 15:56:46,360 - INFO - ============================================================
2025-12-18 15:56:46,360 - INFO - 時系列IRL訓練開始
2025-12-18 15:56:46,360 - INFO - 軌跡数: 26
2025-12-18 15:56:46,360 - INFO - エポック数: 20
2025-12-18 15:56:46,360 - INFO - ============================================================
2025-12-18 15:56:46,403 - INFO - エポック 0: 平均損失 = 1.1848
2025-12-18 15:56:46,811 - INFO - エポック 10: 平均損失 = 1.1481
2025-12-18 15:56:47,159 - INFO - 時系列IRL訓練完了
2025-12-18 15:56:47,159 - INFO - 訓練データ上で最適閾値を決定...
2025-12-18 15:56:47,189 - INFO - 最適閾値: 0.1787
2025-12-18 15:56:47,189 - INFO - 訓練データ性能: Precision=0.962, Recall=1.000, F1=0.980
2025-12-18 15:56:47,190 - INFO - モデルを保存: outputs/android_50projects_irl/train_3-6m/irl_model.pt
2025-12-18 15:56:47,190 - INFO - 最適閾値を保存: outputs/android_50projects_irl/train_3-6m/optimal_threshold.json
2025-12-18 15:56:47,190 - INFO - 評価用軌跡を抽出...
2025-12-18 15:56:47,190 - INFO - ================================================================================
2025-12-18 15:56:47,190 - INFO - 評価用軌跡抽出を開始（スナップショット特徴量用）
2025-12-18 15:56:47,190 - INFO - Cutoff日: 2021-07-01 00:00:00
2025-12-18 15:56:47,190 - INFO - 履歴ウィンドウ: 3ヶ月
2025-12-18 15:56:47,190 - INFO - 将来窓: 27～30ヶ月
2025-12-18 15:56:47,190 - INFO - 拡張ラベル期間: 27～12ヶ月
2025-12-18 15:56:47,190 - INFO - プロジェクト: 全プロジェクト
2025-12-18 15:56:47,190 - INFO - 継続判定: この期間で承諾=1、この期間で拒否=0、依頼なし→拡張期間チェック、評価時は拡張期間にも依頼なしで除外（予測の母集団に入れない）
2025-12-18 15:56:47,190 - INFO - ================================================================================
2025-12-18 15:56:47,190 - INFO - 履歴期間: 2021-04-01 00:00:00 ～ 2021-07-01 00:00:00
2025-12-18 15:56:47,190 - INFO - 評価期間: 2023-10-01 00:00:00 ～ 2024-01-01 00:00:00
2025-12-18 15:56:47,191 - INFO - 履歴期間内のレビュアー数: 43
2025-12-18 15:56:47,213 - INFO - ================================================================================
2025-12-18 15:56:47,213 - INFO - 評価用軌跡抽出完了: 12サンプル
2025-12-18 15:56:47,213 - INFO -   スキップ（最小依頼数未満）: 0
2025-12-18 15:56:47,213 - INFO -   スキップ（訓練期間末尾まで依頼なし）: 31
2025-12-18 15:56:47,213 - INFO -   正例（この期間で承諾あり）: 11 (91.7%)
2025-12-18 15:56:47,213 - INFO -   負例（この期間で承諾なし）: 1 (8.3%)
2025-12-18 15:56:47,213 - INFO -     - 依頼あり→拒否（重み=1.0）: 1
2025-12-18 15:56:47,213 - INFO - ================================================================================
2025-12-18 15:56:47,213 - INFO - 予測を実行...
2025-12-18 15:56:47,235 - INFO - ================================================================================
2025-12-18 15:56:47,235 - INFO - 評価結果 (3-6m → 9-12m):
2025-12-18 15:56:47,235 - INFO -   AUC-ROC: 0.5455
2025-12-18 15:56:47,235 - INFO -   AUC-PR: 0.9509
2025-12-18 15:56:47,235 - INFO -   Precision: 0.9167
2025-12-18 15:56:47,235 - INFO -   Recall: 1.0000
2025-12-18 15:56:47,235 - INFO -   F1 Score: 0.9565
2025-12-18 15:56:47,235 - INFO - ================================================================================
2025-12-18 15:56:47,236 - INFO - 結果を保存: outputs/android_50projects_irl/train_3-6m/eval_9-12m
2025-12-18 15:56:47,237 - INFO - 
【8/10】パターン実行中...
2025-12-18 15:56:47,237 - INFO - ================================================================================
2025-12-18 15:56:47,237 - INFO - パターン: 6-9m → 6-9m
2025-12-18 15:56:47,237 - INFO - 訓練期間: 2021-07-01 00:00:00 ～ 2021-10-01 00:00:00
2025-12-18 15:56:47,237 - INFO - 評価期間: 2023-07-01 00:00:00 ～ 2023-10-01 00:00:00
2025-12-18 15:56:47,237 - INFO - ================================================================================
2025-12-18 15:56:47,237 - INFO - レビュー依頼データを読み込み: data/android_50proj_2021_2024_feat.csv
2025-12-18 15:56:47,266 - INFO - 総レビュー依頼数: 7155
2025-12-18 15:56:47,266 - INFO - 承諾数: 4798 (67.1%)
2025-12-18 15:56:47,266 - INFO - 拒否数: 2357 (32.9%)
2025-12-18 15:56:47,266 - INFO - 将来窓設定: 0～24ヶ月
2025-12-18 15:56:47,266 - INFO - 訓練用軌跡を抽出...
2025-12-18 15:56:47,266 - INFO - ================================================================================
2025-12-18 15:56:47,266 - INFO - レビュー承諾予測用軌跡抽出を開始（データリークなし版）
2025-12-18 15:56:47,266 - INFO - 訓練期間全体: 2021-07-01 00:00:00 ～ 2021-10-01 00:00:00
2025-12-18 15:56:47,266 - INFO - 将来窓: 0～24ヶ月
2025-12-18 15:56:47,266 - INFO - 拡張ラベル期間: 0～12ヶ月
2025-12-18 15:56:47,266 - INFO - プロジェクト: 全プロジェクト
2025-12-18 15:56:47,266 - INFO - ラベル定義: この期間で承諾=1、この期間で拒否=0、依頼なし→拡張期間チェック、訓練時は拡張期間にも依頼なしで除外
2025-12-18 15:56:47,266 - INFO - データリーク防止: 訓練期間内でラベル計算
2025-12-18 15:56:47,266 - INFO - ================================================================================
2025-12-18 15:56:47,266 - INFO - 特徴量計算期間（訓練全体）: 2021-07-01 00:00:00 ～ 2021-10-01 00:00:00
2025-12-18 15:56:47,266 - INFO - 全体ラベル期間（train_end時点から）: 2021-10-01 00:00:00 ～ 2023-10-01 00:00:00
2025-12-18 15:56:47,267 - INFO - 特徴量計算期間内のレビュアー数: 44
2025-12-18 15:56:47,353 - INFO - ================================================================================
2025-12-18 15:56:47,353 - INFO - 軌跡抽出完了: 34サンプル（レビュアー）
2025-12-18 15:56:47,353 - INFO -   スキップ（最小依頼数未満）: 0
2025-12-18 15:56:47,353 - INFO -   スキップ（訓練期間末尾まで依頼なし）: 10
2025-12-18 15:56:47,353 - INFO -   正例（この期間で承諾あり）: 31 (91.2%)
2025-12-18 15:56:47,353 - INFO -   負例（この期間で承諾なし）: 3 (8.8%)
2025-12-18 15:56:47,353 - INFO -     - 依頼あり→拒否（重み=1.0）: 3
2025-12-18 15:56:47,353 - INFO -   総ステップ数: 68
2025-12-18 15:56:47,353 - INFO -   継続ステップ率: 64.7% (44/68)
2025-12-18 15:56:47,353 - INFO - ================================================================================
/Users/kazuki-h/research/multiproject_research/.venv/lib/python3.13/site-packages/torch/nn/modules/rnn.py:123: UserWarning: dropout option adds dropout after all but last recurrent layer, so non-zero dropout expects num_layers greater than 1, but got dropout=0.2 and num_layers=1
  warnings.warn(
2025-12-18 15:56:47,354 - INFO - 継続予測IRLシステムを初期化しました
2025-12-18 15:56:47,354 - INFO - 訓練データ正例率: 91.2% (31/34)
2025-12-18 15:56:47,354 - INFO - Focal Loss パラメータ更新: alpha=0.400, gamma=1.000
2025-12-18 15:56:47,354 - INFO - 正例率 91.2% に基づき自動調整: バランス重視（正例率≥60%・軽い正例優先)
2025-12-18 15:56:47,354 - INFO - IRLモデルを訓練...
2025-12-18 15:56:47,354 - INFO - ============================================================
2025-12-18 15:56:47,354 - INFO - 時系列IRL訓練開始
2025-12-18 15:56:47,354 - INFO - 軌跡数: 34
2025-12-18 15:56:47,354 - INFO - エポック数: 20
2025-12-18 15:56:47,354 - INFO - ============================================================
2025-12-18 15:56:47,405 - INFO - エポック 0: 平均損失 = 1.1100
2025-12-18 15:56:47,893 - INFO - エポック 10: 平均損失 = 1.0845
2025-12-18 15:56:48,331 - INFO - 時系列IRL訓練完了
2025-12-18 15:56:48,331 - INFO - 訓練データ上で最適閾値を決定...
2025-12-18 15:56:48,364 - INFO - 最適閾値: 0.5197
2025-12-18 15:56:48,364 - INFO - 訓練データ性能: Precision=0.912, Recall=1.000, F1=0.954
2025-12-18 15:56:48,365 - INFO - モデルを保存: outputs/android_50projects_irl/train_6-9m/irl_model.pt
2025-12-18 15:56:48,365 - INFO - 最適閾値を保存: outputs/android_50projects_irl/train_6-9m/optimal_threshold.json
2025-12-18 15:56:48,365 - INFO - 評価用軌跡を抽出...
2025-12-18 15:56:48,365 - INFO - ================================================================================
2025-12-18 15:56:48,365 - INFO - 評価用軌跡抽出を開始（スナップショット特徴量用）
2025-12-18 15:56:48,365 - INFO - Cutoff日: 2021-10-01 00:00:00
2025-12-18 15:56:48,365 - INFO - 履歴ウィンドウ: 3ヶ月
2025-12-18 15:56:48,365 - INFO - 将来窓: 21～24ヶ月
2025-12-18 15:56:48,365 - INFO - 拡張ラベル期間: 21～12ヶ月
2025-12-18 15:56:48,365 - INFO - プロジェクト: 全プロジェクト
2025-12-18 15:56:48,365 - INFO - 継続判定: この期間で承諾=1、この期間で拒否=0、依頼なし→拡張期間チェック、評価時は拡張期間にも依頼なしで除外（予測の母集団に入れない）
2025-12-18 15:56:48,365 - INFO - ================================================================================
2025-12-18 15:56:48,365 - INFO - 履歴期間: 2021-07-01 00:00:00 ～ 2021-10-01 00:00:00
2025-12-18 15:56:48,365 - INFO - 評価期間: 2023-07-01 00:00:00 ～ 2023-10-01 00:00:00
2025-12-18 15:56:48,366 - INFO - 履歴期間内のレビュアー数: 44
2025-12-18 15:56:48,397 - INFO - ================================================================================
2025-12-18 15:56:48,397 - INFO - 評価用軌跡抽出完了: 18サンプル
2025-12-18 15:56:48,397 - INFO -   スキップ（最小依頼数未満）: 0
2025-12-18 15:56:48,397 - INFO -   スキップ（訓練期間末尾まで依頼なし）: 26
2025-12-18 15:56:48,397 - INFO -   正例（この期間で承諾あり）: 18 (100.0%)
2025-12-18 15:56:48,397 - INFO -   負例（この期間で承諾なし）: 0 (0.0%)
2025-12-18 15:56:48,397 - INFO - ================================================================================
2025-12-18 15:56:48,397 - INFO - 予測を実行...
/Users/kazuki-h/research/multiproject_research/.venv/lib/python3.13/site-packages/sklearn/metrics/_ranking.py:424: UndefinedMetricWarning: Only one class is present in y_true. ROC AUC score is not defined in that case.
  warnings.warn(
2025-12-18 15:56:48,424 - INFO - ================================================================================
2025-12-18 15:56:48,424 - INFO - 評価結果 (6-9m → 6-9m):
2025-12-18 15:56:48,424 - INFO -   AUC-ROC: nan
2025-12-18 15:56:48,424 - INFO -   AUC-PR: 1.0000
2025-12-18 15:56:48,424 - INFO -   Precision: 1.0000
2025-12-18 15:56:48,424 - INFO -   Recall: 1.0000
2025-12-18 15:56:48,424 - INFO -   F1 Score: 1.0000
2025-12-18 15:56:48,424 - INFO - ================================================================================
2025-12-18 15:56:48,425 - INFO - 結果を保存: outputs/android_50projects_irl/train_6-9m/eval_6-9m
2025-12-18 15:56:48,426 - INFO - 
【9/10】パターン実行中...
2025-12-18 15:56:48,426 - INFO - ================================================================================
2025-12-18 15:56:48,426 - INFO - パターン: 6-9m → 9-12m
2025-12-18 15:56:48,426 - INFO - 訓練期間: 2021-07-01 00:00:00 ～ 2021-10-01 00:00:00
2025-12-18 15:56:48,426 - INFO - 評価期間: 2023-10-01 00:00:00 ～ 2024-01-01 00:00:00
2025-12-18 15:56:48,426 - INFO - ================================================================================
2025-12-18 15:56:48,426 - INFO - レビュー依頼データを読み込み: data/android_50proj_2021_2024_feat.csv
2025-12-18 15:56:48,456 - INFO - 総レビュー依頼数: 7155
2025-12-18 15:56:48,456 - INFO - 承諾数: 4798 (67.1%)
2025-12-18 15:56:48,457 - INFO - 拒否数: 2357 (32.9%)
2025-12-18 15:56:48,457 - INFO - 将来窓設定: 0～27ヶ月
2025-12-18 15:56:48,457 - INFO - 訓練用軌跡を抽出...
2025-12-18 15:56:48,457 - INFO - ================================================================================
2025-12-18 15:56:48,457 - INFO - レビュー承諾予測用軌跡抽出を開始（データリークなし版）
2025-12-18 15:56:48,457 - INFO - 訓練期間全体: 2021-07-01 00:00:00 ～ 2021-10-01 00:00:00
2025-12-18 15:56:48,457 - INFO - 将来窓: 0～27ヶ月
2025-12-18 15:56:48,457 - INFO - 拡張ラベル期間: 0～12ヶ月
2025-12-18 15:56:48,457 - INFO - プロジェクト: 全プロジェクト
2025-12-18 15:56:48,457 - INFO - ラベル定義: この期間で承諾=1、この期間で拒否=0、依頼なし→拡張期間チェック、訓練時は拡張期間にも依頼なしで除外
2025-12-18 15:56:48,457 - INFO - データリーク防止: 訓練期間内でラベル計算
2025-12-18 15:56:48,457 - INFO - ================================================================================
2025-12-18 15:56:48,457 - INFO - 特徴量計算期間（訓練全体）: 2021-07-01 00:00:00 ～ 2021-10-01 00:00:00
2025-12-18 15:56:48,457 - INFO - 全体ラベル期間（train_end時点から）: 2021-10-01 00:00:00 ～ 2024-01-01 00:00:00
2025-12-18 15:56:48,458 - INFO - 特徴量計算期間内のレビュアー数: 44
2025-12-18 15:56:48,552 - INFO - ================================================================================
2025-12-18 15:56:48,552 - INFO - 軌跡抽出完了: 34サンプル（レビュアー）
2025-12-18 15:56:48,552 - INFO -   スキップ（最小依頼数未満）: 0
2025-12-18 15:56:48,552 - INFO -   スキップ（訓練期間末尾まで依頼なし）: 10
2025-12-18 15:56:48,552 - INFO -   正例（この期間で承諾あり）: 31 (91.2%)
2025-12-18 15:56:48,552 - INFO -   負例（この期間で承諾なし）: 3 (8.8%)
2025-12-18 15:56:48,552 - INFO -     - 依頼あり→拒否（重み=1.0）: 3
2025-12-18 15:56:48,552 - INFO -   総ステップ数: 68
2025-12-18 15:56:48,552 - INFO -   継続ステップ率: 64.7% (44/68)
2025-12-18 15:56:48,552 - INFO - ================================================================================
/Users/kazuki-h/research/multiproject_research/.venv/lib/python3.13/site-packages/torch/nn/modules/rnn.py:123: UserWarning: dropout option adds dropout after all but last recurrent layer, so non-zero dropout expects num_layers greater than 1, but got dropout=0.2 and num_layers=1
  warnings.warn(
2025-12-18 15:56:48,553 - INFO - 継続予測IRLシステムを初期化しました
2025-12-18 15:56:48,553 - INFO - 訓練データ正例率: 91.2% (31/34)
2025-12-18 15:56:48,553 - INFO - Focal Loss パラメータ更新: alpha=0.400, gamma=1.000
2025-12-18 15:56:48,553 - INFO - 正例率 91.2% に基づき自動調整: バランス重視（正例率≥60%・軽い正例優先)
2025-12-18 15:56:48,553 - INFO - IRLモデルを訓練...
2025-12-18 15:56:48,553 - INFO - ============================================================
2025-12-18 15:56:48,553 - INFO - 時系列IRL訓練開始
2025-12-18 15:56:48,553 - INFO - 軌跡数: 34
2025-12-18 15:56:48,553 - INFO - エポック数: 20
2025-12-18 15:56:48,553 - INFO - ============================================================
2025-12-18 15:56:48,604 - INFO - エポック 0: 平均損失 = 1.1698
2025-12-18 15:56:49,092 - INFO - エポック 10: 平均損失 = 1.0980
2025-12-18 15:56:49,540 - INFO - 時系列IRL訓練完了
2025-12-18 15:56:49,540 - INFO - 訓練データ上で最適閾値を決定...
2025-12-18 15:56:49,573 - INFO - 最適閾値: 0.5077
2025-12-18 15:56:49,573 - INFO - 訓練データ性能: Precision=1.000, Recall=0.935, F1=0.967
2025-12-18 15:56:49,574 - INFO - モデルを保存: outputs/android_50projects_irl/train_6-9m/irl_model.pt
2025-12-18 15:56:49,574 - INFO - 最適閾値を保存: outputs/android_50projects_irl/train_6-9m/optimal_threshold.json
2025-12-18 15:56:49,574 - INFO - 評価用軌跡を抽出...
2025-12-18 15:56:49,574 - INFO - ================================================================================
2025-12-18 15:56:49,574 - INFO - 評価用軌跡抽出を開始（スナップショット特徴量用）
2025-12-18 15:56:49,574 - INFO - Cutoff日: 2021-10-01 00:00:00
2025-12-18 15:56:49,574 - INFO - 履歴ウィンドウ: 3ヶ月
2025-12-18 15:56:49,574 - INFO - 将来窓: 24～27ヶ月
2025-12-18 15:56:49,574 - INFO - 拡張ラベル期間: 24～12ヶ月
2025-12-18 15:56:49,574 - INFO - プロジェクト: 全プロジェクト
2025-12-18 15:56:49,574 - INFO - 継続判定: この期間で承諾=1、この期間で拒否=0、依頼なし→拡張期間チェック、評価時は拡張期間にも依頼なしで除外（予測の母集団に入れない）
2025-12-18 15:56:49,574 - INFO - ================================================================================
2025-12-18 15:56:49,574 - INFO - 履歴期間: 2021-07-01 00:00:00 ～ 2021-10-01 00:00:00
2025-12-18 15:56:49,574 - INFO - 評価期間: 2023-10-01 00:00:00 ～ 2024-01-01 00:00:00
2025-12-18 15:56:49,575 - INFO - 履歴期間内のレビュアー数: 44
2025-12-18 15:56:49,603 - INFO - ================================================================================
2025-12-18 15:56:49,603 - INFO - 評価用軌跡抽出完了: 16サンプル
2025-12-18 15:56:49,603 - INFO -   スキップ（最小依頼数未満）: 0
2025-12-18 15:56:49,603 - INFO -   スキップ（訓練期間末尾まで依頼なし）: 28
2025-12-18 15:56:49,603 - INFO -   正例（この期間で承諾あり）: 15 (93.8%)
2025-12-18 15:56:49,603 - INFO -   負例（この期間で承諾なし）: 1 (6.2%)
2025-12-18 15:56:49,603 - INFO -     - 依頼あり→拒否（重み=1.0）: 1
2025-12-18 15:56:49,603 - INFO - ================================================================================
2025-12-18 15:56:49,603 - INFO - 予測を実行...
2025-12-18 15:56:49,632 - INFO - ================================================================================
2025-12-18 15:56:49,632 - INFO - 評価結果 (6-9m → 9-12m):
2025-12-18 15:56:49,632 - INFO -   AUC-ROC: 0.4000
2025-12-18 15:56:49,632 - INFO -   AUC-PR: 0.9448
2025-12-18 15:56:49,632 - INFO -   Precision: 0.9333
2025-12-18 15:56:49,632 - INFO -   Recall: 0.9333
2025-12-18 15:56:49,632 - INFO -   F1 Score: 0.9333
2025-12-18 15:56:49,632 - INFO - ================================================================================
2025-12-18 15:56:49,633 - INFO - 結果を保存: outputs/android_50projects_irl/train_6-9m/eval_9-12m
2025-12-18 15:56:49,633 - INFO - 
【10/10】パターン実行中...
2025-12-18 15:56:49,633 - INFO - ================================================================================
2025-12-18 15:56:49,633 - INFO - パターン: 9-12m → 9-12m
2025-12-18 15:56:49,634 - INFO - 訓練期間: 2021-10-01 00:00:00 ～ 2022-01-01 00:00:00
2025-12-18 15:56:49,634 - INFO - 評価期間: 2023-10-01 00:00:00 ～ 2024-01-01 00:00:00
2025-12-18 15:56:49,634 - INFO - ================================================================================
2025-12-18 15:56:49,634 - INFO - レビュー依頼データを読み込み: data/android_50proj_2021_2024_feat.csv
2025-12-18 15:56:49,664 - INFO - 総レビュー依頼数: 7155
2025-12-18 15:56:49,664 - INFO - 承諾数: 4798 (67.1%)
2025-12-18 15:56:49,664 - INFO - 拒否数: 2357 (32.9%)
2025-12-18 15:56:49,664 - INFO - 将来窓設定: 0～24ヶ月
2025-12-18 15:56:49,664 - INFO - 訓練用軌跡を抽出...
2025-12-18 15:56:49,664 - INFO - ================================================================================
2025-12-18 15:56:49,664 - INFO - レビュー承諾予測用軌跡抽出を開始（データリークなし版）
2025-12-18 15:56:49,664 - INFO - 訓練期間全体: 2021-10-01 00:00:00 ～ 2022-01-01 00:00:00
2025-12-18 15:56:49,664 - INFO - 将来窓: 0～24ヶ月
2025-12-18 15:56:49,664 - INFO - 拡張ラベル期間: 0～12ヶ月
2025-12-18 15:56:49,664 - INFO - プロジェクト: 全プロジェクト
2025-12-18 15:56:49,664 - INFO - ラベル定義: この期間で承諾=1、この期間で拒否=0、依頼なし→拡張期間チェック、訓練時は拡張期間にも依頼なしで除外
2025-12-18 15:56:49,664 - INFO - データリーク防止: 訓練期間内でラベル計算
2025-12-18 15:56:49,664 - INFO - ================================================================================
2025-12-18 15:56:49,664 - INFO - 特徴量計算期間（訓練全体）: 2021-10-01 00:00:00 ～ 2022-01-01 00:00:00
2025-12-18 15:56:49,664 - INFO - 全体ラベル期間（train_end時点から）: 2022-01-01 00:00:00 ～ 2024-01-01 00:00:00
2025-12-18 15:56:49,665 - INFO - 特徴量計算期間内のレビュアー数: 53
2025-12-18 15:56:49,772 - INFO - ================================================================================
2025-12-18 15:56:49,772 - INFO - 軌跡抽出完了: 42サンプル（レビュアー）
2025-12-18 15:56:49,772 - INFO -   スキップ（最小依頼数未満）: 0
2025-12-18 15:56:49,772 - INFO -   スキップ（訓練期間末尾まで依頼なし）: 11
2025-12-18 15:56:49,772 - INFO -   正例（この期間で承諾あり）: 37 (88.1%)
2025-12-18 15:56:49,772 - INFO -   負例（この期間で承諾なし）: 5 (11.9%)
2025-12-18 15:56:49,772 - INFO -     - 依頼あり→拒否（重み=1.0）: 5
2025-12-18 15:56:49,772 - INFO -   総ステップ数: 84
2025-12-18 15:56:49,772 - INFO -   継続ステップ率: 52.4% (44/84)
2025-12-18 15:56:49,772 - INFO - ================================================================================
/Users/kazuki-h/research/multiproject_research/.venv/lib/python3.13/site-packages/torch/nn/modules/rnn.py:123: UserWarning: dropout option adds dropout after all but last recurrent layer, so non-zero dropout expects num_layers greater than 1, but got dropout=0.2 and num_layers=1
  warnings.warn(
2025-12-18 15:56:49,773 - INFO - 継続予測IRLシステムを初期化しました
2025-12-18 15:56:49,773 - INFO - 訓練データ正例率: 88.1% (37/42)
2025-12-18 15:56:49,773 - INFO - Focal Loss パラメータ更新: alpha=0.400, gamma=1.000
2025-12-18 15:56:49,773 - INFO - 正例率 88.1% に基づき自動調整: バランス重視（正例率≥60%・軽い正例優先)
2025-12-18 15:56:49,773 - INFO - IRLモデルを訓練...
2025-12-18 15:56:49,773 - INFO - ============================================================
2025-12-18 15:56:49,773 - INFO - 時系列IRL訓練開始
2025-12-18 15:56:49,773 - INFO - 軌跡数: 42
2025-12-18 15:56:49,773 - INFO - エポック数: 20
2025-12-18 15:56:49,773 - INFO - ============================================================
2025-12-18 15:56:49,834 - INFO - エポック 0: 平均損失 = 1.1803
2025-12-18 15:56:50,441 - INFO - エポック 10: 平均損失 = 1.1510
2025-12-18 15:56:51,014 - INFO - 時系列IRL訓練完了
2025-12-18 15:56:51,014 - INFO - 訓練データ上で最適閾値を決定...
2025-12-18 15:56:51,045 - INFO - 最適閾値: 0.3052
2025-12-18 15:56:51,046 - INFO - 訓練データ性能: Precision=0.881, Recall=1.000, F1=0.937
2025-12-18 15:56:51,047 - INFO - モデルを保存: outputs/android_50projects_irl/train_9-12m/irl_model.pt
2025-12-18 15:56:51,047 - INFO - 最適閾値を保存: outputs/android_50projects_irl/train_9-12m/optimal_threshold.json
2025-12-18 15:56:51,047 - INFO - 評価用軌跡を抽出...
2025-12-18 15:56:51,047 - INFO - ================================================================================
2025-12-18 15:56:51,047 - INFO - 評価用軌跡抽出を開始（スナップショット特徴量用）
2025-12-18 15:56:51,047 - INFO - Cutoff日: 2022-01-01 00:00:00
2025-12-18 15:56:51,047 - INFO - 履歴ウィンドウ: 3ヶ月
2025-12-18 15:56:51,047 - INFO - 将来窓: 21～24ヶ月
2025-12-18 15:56:51,047 - INFO - 拡張ラベル期間: 21～12ヶ月
2025-12-18 15:56:51,047 - INFO - プロジェクト: 全プロジェクト
2025-12-18 15:56:51,047 - INFO - 継続判定: この期間で承諾=1、この期間で拒否=0、依頼なし→拡張期間チェック、評価時は拡張期間にも依頼なしで除外（予測の母集団に入れない）
2025-12-18 15:56:51,047 - INFO - ================================================================================
2025-12-18 15:56:51,047 - INFO - 履歴期間: 2021-10-01 00:00:00 ～ 2022-01-01 00:00:00
2025-12-18 15:56:51,047 - INFO - 評価期間: 2023-10-01 00:00:00 ～ 2024-01-01 00:00:00
2025-12-18 15:56:51,048 - INFO - 履歴期間内のレビュアー数: 53
2025-12-18 15:56:51,084 - INFO - ================================================================================
2025-12-18 15:56:51,084 - INFO - 評価用軌跡抽出完了: 23サンプル
2025-12-18 15:56:51,084 - INFO -   スキップ（最小依頼数未満）: 0
2025-12-18 15:56:51,084 - INFO -   スキップ（訓練期間末尾まで依頼なし）: 30
2025-12-18 15:56:51,084 - INFO -   正例（この期間で承諾あり）: 21 (91.3%)
2025-12-18 15:56:51,084 - INFO -   負例（この期間で承諾なし）: 2 (8.7%)
2025-12-18 15:56:51,084 - INFO -     - 依頼あり→拒否（重み=1.0）: 2
2025-12-18 15:56:51,084 - INFO - ================================================================================
2025-12-18 15:56:51,084 - INFO - 予測を実行...
2025-12-18 15:56:51,108 - INFO - ================================================================================
2025-12-18 15:56:51,108 - INFO - 評価結果 (9-12m → 9-12m):
2025-12-18 15:56:51,108 - INFO -   AUC-ROC: 0.3333
2025-12-18 15:56:51,108 - INFO -   AUC-PR: 0.8328
2025-12-18 15:56:51,108 - INFO -   Precision: 0.9130
2025-12-18 15:56:51,108 - INFO -   Recall: 1.0000
2025-12-18 15:56:51,108 - INFO -   F1 Score: 0.9545
2025-12-18 15:56:51,108 - INFO - ================================================================================
2025-12-18 15:56:51,109 - INFO - 結果を保存: outputs/android_50projects_irl/train_9-12m/eval_9-12m
2025-12-18 15:56:51,109 - INFO - ================================================================================
2025-12-18 15:56:51,109 - INFO - メトリクスマトリクスを作成中...
2025-12-18 15:56:51,109 - INFO - ================================================================================
2025-12-18 15:56:51,112 - INFO - 保存: outputs/android_50projects_irl/matrix_AUC_ROC.csv
2025-12-18 15:56:51,113 - INFO - 
       0-3m      3-6m      6-9m     9-12m
0-3m    0.5  0.628571  0.400000  0.733333
3-6m    NaN       NaN  0.266667  0.545455
6-9m    NaN       NaN       NaN  0.400000
9-12m   NaN       NaN       NaN  0.333333
2025-12-18 15:56:51,114 - INFO - 保存: outputs/android_50projects_irl/matrix_AUC_PR.csv
2025-12-18 15:56:51,115 - INFO - 
           0-3m      3-6m      6-9m     9-12m
0-3m   0.811435  0.883344  0.944729  0.964204
3-6m        NaN  1.000000  0.922257  0.950899
6-9m        NaN       NaN  1.000000  0.944797
9-12m       NaN       NaN       NaN  0.832808
2025-12-18 15:56:51,115 - INFO - 保存: outputs/android_50projects_irl/matrix_PRECISION.csv
2025-12-18 15:56:51,116 - INFO - 
           0-3m      3-6m    6-9m     9-12m
0-3m   0.714286  0.736842  0.9375  0.882353
3-6m        NaN  1.000000  0.9375  0.916667
6-9m        NaN       NaN  1.0000  0.933333
9-12m       NaN       NaN     NaN  0.913043
2025-12-18 15:56:51,116 - INFO - 保存: outputs/android_50projects_irl/matrix_RECALL.csv
2025-12-18 15:56:51,117 - INFO - 
       0-3m  3-6m  6-9m     9-12m
0-3m    1.0   1.0   1.0  1.000000
3-6m    NaN   1.0   1.0  1.000000
6-9m    NaN   NaN   1.0  0.933333
9-12m   NaN   NaN   NaN  1.000000
2025-12-18 15:56:51,118 - INFO - 保存: outputs/android_50projects_irl/matrix_f1_score.csv
2025-12-18 15:56:51,119 - INFO - 
           0-3m      3-6m      6-9m     9-12m
0-3m   0.833333  0.848485  0.967742  0.937500
3-6m        NaN  1.000000  0.967742  0.956522
6-9m        NaN       NaN  1.000000  0.933333
9-12m       NaN       NaN       NaN  0.954545
2025-12-18 15:56:51,119 - INFO - ================================================================================
2025-12-18 15:56:51,119 - INFO - マトリクス作成完了
2025-12-18 15:56:51,119 - INFO - ================================================================================
2025-12-18 15:56:51,119 - INFO - ================================================================================
2025-12-18 15:56:51,119 - INFO - 全パターンの訓練・評価が完了しました
2025-12-18 15:56:51,119 - INFO - 結果: outputs/android_50projects_irl
2025-12-18 15:56:51,119 - INFO - ================================================================================
