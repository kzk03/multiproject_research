2025-12-18 15:56:37,057 - INFO - 訓練期間ベース: 2021-01-01 00:00:00
2025-12-18 15:56:37,057 - INFO - 評価期間ベース: 2023-01-01 00:00:00
2025-12-18 15:56:37,058 - INFO - 生成されたパターン数: 10
2025-12-18 15:56:37,058 - INFO -   0-3m → 0-3m
2025-12-18 15:56:37,058 - INFO -   0-3m → 3-6m
2025-12-18 15:56:37,058 - INFO -   0-3m → 6-9m
2025-12-18 15:56:37,058 - INFO -   0-3m → 9-12m
2025-12-18 15:56:37,058 - INFO -   3-6m → 3-6m
2025-12-18 15:56:37,058 - INFO -   3-6m → 6-9m
2025-12-18 15:56:37,058 - INFO -   3-6m → 9-12m
2025-12-18 15:56:37,058 - INFO -   6-9m → 6-9m
2025-12-18 15:56:37,058 - INFO -   6-9m → 9-12m
2025-12-18 15:56:37,058 - INFO -   9-12m → 9-12m
2025-12-18 15:56:37,058 - INFO - ================================================================================
2025-12-18 15:56:37,058 - INFO - 全10パターンの訓練・評価を開始
2025-12-18 15:56:37,058 - INFO - ================================================================================
2025-12-18 15:56:37,058 - INFO - 
【1/10】パターン実行中...
2025-12-18 15:56:37,058 - INFO - ================================================================================
2025-12-18 15:56:37,058 - INFO - パターン: 0-3m → 0-3m
2025-12-18 15:56:37,058 - INFO - 訓練期間: 2021-01-01 00:00:00 ～ 2021-04-01 00:00:00
2025-12-18 15:56:37,058 - INFO - 評価期間: 2023-01-01 00:00:00 ～ 2023-04-01 00:00:00
2025-12-18 15:56:37,058 - INFO - ================================================================================
2025-12-18 15:56:38,467 - INFO - レビュー依頼データを読み込み: data/chromium_50proj_2021_2024_feat.csv
2025-12-18 15:56:38,480 - INFO - 総レビュー依頼数: 236
2025-12-18 15:56:38,480 - INFO - 承諾数: 169 (71.6%)
2025-12-18 15:56:38,480 - INFO - 拒否数: 67 (28.4%)
2025-12-18 15:56:38,481 - INFO - 将来窓設定: 0～24ヶ月
2025-12-18 15:56:38,481 - INFO - 訓練用軌跡を抽出...
2025-12-18 15:56:38,481 - INFO - ================================================================================
2025-12-18 15:56:38,481 - INFO - レビュー承諾予測用軌跡抽出を開始（データリークなし版）
2025-12-18 15:56:38,481 - INFO - 訓練期間全体: 2021-01-01 00:00:00 ～ 2021-04-01 00:00:00
2025-12-18 15:56:38,481 - INFO - 将来窓: 0～24ヶ月
2025-12-18 15:56:38,481 - INFO - 拡張ラベル期間: 0～12ヶ月
2025-12-18 15:56:38,481 - INFO - プロジェクト: 全プロジェクト
2025-12-18 15:56:38,481 - INFO - ラベル定義: この期間で承諾=1、この期間で拒否=0、依頼なし→拡張期間チェック、訓練時は拡張期間にも依頼なしで除外
2025-12-18 15:56:38,481 - INFO - データリーク防止: 訓練期間内でラベル計算
2025-12-18 15:56:38,481 - INFO - ================================================================================
2025-12-18 15:56:38,481 - INFO - 特徴量計算期間（訓練全体）: 2021-01-01 00:00:00 ～ 2021-04-01 00:00:00
2025-12-18 15:56:38,481 - INFO - 全体ラベル期間（train_end時点から）: 2021-04-01 00:00:00 ～ 2023-04-01 00:00:00
2025-12-18 15:56:38,482 - INFO - 特徴量計算期間内のレビュアー数: 6
2025-12-18 15:56:38,491 - INFO - ================================================================================
2025-12-18 15:56:38,491 - INFO - 軌跡抽出完了: 3サンプル（レビュアー）
2025-12-18 15:56:38,491 - INFO -   スキップ（最小依頼数未満）: 0
2025-12-18 15:56:38,491 - INFO -   スキップ（訓練期間末尾まで依頼なし）: 3
2025-12-18 15:56:38,491 - INFO -   正例（この期間で承諾あり）: 3 (100.0%)
2025-12-18 15:56:38,491 - INFO -   負例（この期間で承諾なし）: 0 (0.0%)
2025-12-18 15:56:38,491 - INFO -   総ステップ数: 6
2025-12-18 15:56:38,491 - INFO -   継続ステップ率: 50.0% (3/6)
2025-12-18 15:56:38,491 - INFO - ================================================================================
/Users/kazuki-h/research/multiproject_research/.venv/lib/python3.13/site-packages/torch/nn/modules/rnn.py:123: UserWarning: dropout option adds dropout after all but last recurrent layer, so non-zero dropout expects num_layers greater than 1, but got dropout=0.2 and num_layers=1
  warnings.warn(
2025-12-18 15:56:39,078 - INFO - 継続予測IRLシステムを初期化しました
2025-12-18 15:56:39,078 - INFO - 訓練データ正例率: 100.0% (3/3)
2025-12-18 15:56:39,078 - INFO - Focal Loss パラメータ更新: alpha=0.400, gamma=1.000
2025-12-18 15:56:39,078 - INFO - 正例率 100.0% に基づき自動調整: バランス重視（正例率≥60%・軽い正例優先)
2025-12-18 15:56:39,078 - INFO - IRLモデルを訓練...
2025-12-18 15:56:39,078 - INFO - ============================================================
2025-12-18 15:56:39,078 - INFO - 時系列IRL訓練開始
2025-12-18 15:56:39,078 - INFO - 軌跡数: 3
2025-12-18 15:56:39,078 - INFO - エポック数: 20
2025-12-18 15:56:39,078 - INFO - ============================================================
2025-12-18 15:56:39,116 - INFO - エポック 0: 平均損失 = 1.1653
2025-12-18 15:56:39,166 - INFO - エポック 10: 平均損失 = 1.1481
2025-12-18 15:56:39,210 - INFO - 時系列IRL訓練完了
2025-12-18 15:56:39,210 - INFO - 訓練データ上で最適閾値を決定...
2025-12-18 15:56:39,212 - INFO - 最適閾値: 0.4872
2025-12-18 15:56:39,212 - INFO - 訓練データ性能: Precision=1.000, Recall=1.000, F1=1.000
2025-12-18 15:56:39,216 - INFO - モデルを保存: outputs/chromium_50projects_irl/train_0-3m/irl_model.pt
2025-12-18 15:56:39,216 - INFO - 最適閾値を保存: outputs/chromium_50projects_irl/train_0-3m/optimal_threshold.json
2025-12-18 15:56:39,216 - INFO - 評価用軌跡を抽出...
2025-12-18 15:56:39,216 - INFO - ================================================================================
2025-12-18 15:56:39,216 - INFO - 評価用軌跡抽出を開始（スナップショット特徴量用）
2025-12-18 15:56:39,216 - INFO - Cutoff日: 2021-04-01 00:00:00
2025-12-18 15:56:39,216 - INFO - 履歴ウィンドウ: 3ヶ月
2025-12-18 15:56:39,216 - INFO - 将来窓: 21～24ヶ月
2025-12-18 15:56:39,216 - INFO - 拡張ラベル期間: 21～12ヶ月
2025-12-18 15:56:39,216 - INFO - プロジェクト: 全プロジェクト
2025-12-18 15:56:39,216 - INFO - 継続判定: この期間で承諾=1、この期間で拒否=0、依頼なし→拡張期間チェック、評価時は拡張期間にも依頼なしで除外（予測の母集団に入れない）
2025-12-18 15:56:39,216 - INFO - ================================================================================
2025-12-18 15:56:39,216 - INFO - 履歴期間: 2021-01-01 00:00:00 ～ 2021-04-01 00:00:00
2025-12-18 15:56:39,216 - INFO - 評価期間: 2023-01-01 00:00:00 ～ 2023-04-01 00:00:00
2025-12-18 15:56:39,217 - INFO - 履歴期間内のレビュアー数: 6
2025-12-18 15:56:39,222 - INFO - ================================================================================
2025-12-18 15:56:39,222 - INFO - 評価用軌跡抽出完了: 3サンプル
2025-12-18 15:56:39,222 - INFO -   スキップ（最小依頼数未満）: 0
2025-12-18 15:56:39,222 - INFO -   スキップ（訓練期間末尾まで依頼なし）: 3
2025-12-18 15:56:39,222 - INFO -   正例（この期間で承諾あり）: 3 (100.0%)
2025-12-18 15:56:39,222 - INFO -   負例（この期間で承諾なし）: 0 (0.0%)
2025-12-18 15:56:39,223 - INFO - ================================================================================
2025-12-18 15:56:39,223 - INFO - 予測を実行...
/Users/kazuki-h/research/multiproject_research/.venv/lib/python3.13/site-packages/sklearn/metrics/_ranking.py:424: UndefinedMetricWarning: Only one class is present in y_true. ROC AUC score is not defined in that case.
  warnings.warn(
2025-12-18 15:56:39,228 - INFO - ================================================================================
2025-12-18 15:56:39,228 - INFO - 評価結果 (0-3m → 0-3m):
2025-12-18 15:56:39,228 - INFO -   AUC-ROC: nan
2025-12-18 15:56:39,228 - INFO -   AUC-PR: 1.0000
2025-12-18 15:56:39,228 - INFO -   Precision: 1.0000
2025-12-18 15:56:39,228 - INFO -   Recall: 1.0000
2025-12-18 15:56:39,228 - INFO -   F1 Score: 1.0000
2025-12-18 15:56:39,228 - INFO - ================================================================================
2025-12-18 15:56:39,233 - INFO - 結果を保存: outputs/chromium_50projects_irl/train_0-3m/eval_0-3m
2025-12-18 15:56:39,233 - INFO - 
【2/10】パターン実行中...
2025-12-18 15:56:39,233 - INFO - ================================================================================
2025-12-18 15:56:39,233 - INFO - パターン: 0-3m → 3-6m
2025-12-18 15:56:39,233 - INFO - 訓練期間: 2021-01-01 00:00:00 ～ 2021-04-01 00:00:00
2025-12-18 15:56:39,233 - INFO - 評価期間: 2023-04-01 00:00:00 ～ 2023-07-01 00:00:00
2025-12-18 15:56:39,233 - INFO - ================================================================================
2025-12-18 15:56:39,233 - INFO - レビュー依頼データを読み込み: data/chromium_50proj_2021_2024_feat.csv
2025-12-18 15:56:39,236 - INFO - 総レビュー依頼数: 236
2025-12-18 15:56:39,237 - INFO - 承諾数: 169 (71.6%)
2025-12-18 15:56:39,237 - INFO - 拒否数: 67 (28.4%)
2025-12-18 15:56:39,237 - INFO - 将来窓設定: 0～27ヶ月
2025-12-18 15:56:39,237 - INFO - 訓練用軌跡を抽出...
2025-12-18 15:56:39,237 - INFO - ================================================================================
2025-12-18 15:56:39,237 - INFO - レビュー承諾予測用軌跡抽出を開始（データリークなし版）
2025-12-18 15:56:39,237 - INFO - 訓練期間全体: 2021-01-01 00:00:00 ～ 2021-04-01 00:00:00
2025-12-18 15:56:39,237 - INFO - 将来窓: 0～27ヶ月
2025-12-18 15:56:39,237 - INFO - 拡張ラベル期間: 0～12ヶ月
2025-12-18 15:56:39,237 - INFO - プロジェクト: 全プロジェクト
2025-12-18 15:56:39,237 - INFO - ラベル定義: この期間で承諾=1、この期間で拒否=0、依頼なし→拡張期間チェック、訓練時は拡張期間にも依頼なしで除外
2025-12-18 15:56:39,237 - INFO - データリーク防止: 訓練期間内でラベル計算
2025-12-18 15:56:39,237 - INFO - ================================================================================
2025-12-18 15:56:39,237 - INFO - 特徴量計算期間（訓練全体）: 2021-01-01 00:00:00 ～ 2021-04-01 00:00:00
2025-12-18 15:56:39,237 - INFO - 全体ラベル期間（train_end時点から）: 2021-04-01 00:00:00 ～ 2023-07-01 00:00:00
2025-12-18 15:56:39,238 - INFO - 特徴量計算期間内のレビュアー数: 6
2025-12-18 15:56:39,246 - INFO - ================================================================================
2025-12-18 15:56:39,246 - INFO - 軌跡抽出完了: 3サンプル（レビュアー）
2025-12-18 15:56:39,246 - INFO -   スキップ（最小依頼数未満）: 0
2025-12-18 15:56:39,246 - INFO -   スキップ（訓練期間末尾まで依頼なし）: 3
2025-12-18 15:56:39,246 - INFO -   正例（この期間で承諾あり）: 3 (100.0%)
2025-12-18 15:56:39,246 - INFO -   負例（この期間で承諾なし）: 0 (0.0%)
2025-12-18 15:56:39,246 - INFO -   総ステップ数: 6
2025-12-18 15:56:39,246 - INFO -   継続ステップ率: 50.0% (3/6)
2025-12-18 15:56:39,246 - INFO - ================================================================================
/Users/kazuki-h/research/multiproject_research/.venv/lib/python3.13/site-packages/torch/nn/modules/rnn.py:123: UserWarning: dropout option adds dropout after all but last recurrent layer, so non-zero dropout expects num_layers greater than 1, but got dropout=0.2 and num_layers=1
  warnings.warn(
2025-12-18 15:56:39,247 - INFO - 継続予測IRLシステムを初期化しました
2025-12-18 15:56:39,247 - INFO - 訓練データ正例率: 100.0% (3/3)
2025-12-18 15:56:39,247 - INFO - Focal Loss パラメータ更新: alpha=0.400, gamma=1.000
2025-12-18 15:56:39,247 - INFO - 正例率 100.0% に基づき自動調整: バランス重視（正例率≥60%・軽い正例優先)
2025-12-18 15:56:39,247 - INFO - IRLモデルを訓練...
2025-12-18 15:56:39,247 - INFO - ============================================================
2025-12-18 15:56:39,247 - INFO - 時系列IRL訓練開始
2025-12-18 15:56:39,247 - INFO - 軌跡数: 3
2025-12-18 15:56:39,247 - INFO - エポック数: 20
2025-12-18 15:56:39,247 - INFO - ============================================================
2025-12-18 15:56:39,253 - INFO - エポック 0: 平均損失 = 1.1798
2025-12-18 15:56:39,300 - INFO - エポック 10: 平均損失 = 1.1542
2025-12-18 15:56:39,343 - INFO - 時系列IRL訓練完了
2025-12-18 15:56:39,343 - INFO - 訓練データ上で最適閾値を決定...
2025-12-18 15:56:39,344 - INFO - 最適閾値: 0.4857
2025-12-18 15:56:39,344 - INFO - 訓練データ性能: Precision=1.000, Recall=1.000, F1=1.000
2025-12-18 15:56:39,346 - INFO - モデルを保存: outputs/chromium_50projects_irl/train_0-3m/irl_model.pt
2025-12-18 15:56:39,346 - INFO - 最適閾値を保存: outputs/chromium_50projects_irl/train_0-3m/optimal_threshold.json
2025-12-18 15:56:39,346 - INFO - 評価用軌跡を抽出...
2025-12-18 15:56:39,346 - INFO - ================================================================================
2025-12-18 15:56:39,346 - INFO - 評価用軌跡抽出を開始（スナップショット特徴量用）
2025-12-18 15:56:39,346 - INFO - Cutoff日: 2021-04-01 00:00:00
2025-12-18 15:56:39,346 - INFO - 履歴ウィンドウ: 3ヶ月
2025-12-18 15:56:39,346 - INFO - 将来窓: 24～27ヶ月
2025-12-18 15:56:39,346 - INFO - 拡張ラベル期間: 24～12ヶ月
2025-12-18 15:56:39,346 - INFO - プロジェクト: 全プロジェクト
2025-12-18 15:56:39,346 - INFO - 継続判定: この期間で承諾=1、この期間で拒否=0、依頼なし→拡張期間チェック、評価時は拡張期間にも依頼なしで除外（予測の母集団に入れない）
2025-12-18 15:56:39,346 - INFO - ================================================================================
2025-12-18 15:56:39,346 - INFO - 履歴期間: 2021-01-01 00:00:00 ～ 2021-04-01 00:00:00
2025-12-18 15:56:39,346 - INFO - 評価期間: 2023-04-01 00:00:00 ～ 2023-07-01 00:00:00
2025-12-18 15:56:39,347 - INFO - 履歴期間内のレビュアー数: 6
2025-12-18 15:56:39,351 - INFO - ================================================================================
2025-12-18 15:56:39,351 - INFO - 評価用軌跡抽出完了: 2サンプル
2025-12-18 15:56:39,351 - INFO -   スキップ（最小依頼数未満）: 0
2025-12-18 15:56:39,351 - INFO -   スキップ（訓練期間末尾まで依頼なし）: 4
2025-12-18 15:56:39,351 - INFO -   正例（この期間で承諾あり）: 2 (100.0%)
2025-12-18 15:56:39,351 - INFO -   負例（この期間で承諾なし）: 0 (0.0%)
2025-12-18 15:56:39,351 - INFO - ================================================================================
2025-12-18 15:56:39,351 - INFO - 予測を実行...
/Users/kazuki-h/research/multiproject_research/.venv/lib/python3.13/site-packages/sklearn/metrics/_ranking.py:424: UndefinedMetricWarning: Only one class is present in y_true. ROC AUC score is not defined in that case.
  warnings.warn(
2025-12-18 15:56:39,355 - INFO - ================================================================================
2025-12-18 15:56:39,355 - INFO - 評価結果 (0-3m → 3-6m):
2025-12-18 15:56:39,355 - INFO -   AUC-ROC: nan
2025-12-18 15:56:39,355 - INFO -   AUC-PR: 1.0000
2025-12-18 15:56:39,355 - INFO -   Precision: 1.0000
2025-12-18 15:56:39,355 - INFO -   Recall: 1.0000
2025-12-18 15:56:39,355 - INFO -   F1 Score: 1.0000
2025-12-18 15:56:39,355 - INFO - ================================================================================
2025-12-18 15:56:39,356 - INFO - 結果を保存: outputs/chromium_50projects_irl/train_0-3m/eval_3-6m
2025-12-18 15:56:39,356 - INFO - 
【3/10】パターン実行中...
2025-12-18 15:56:39,356 - INFO - ================================================================================
2025-12-18 15:56:39,356 - INFO - パターン: 0-3m → 6-9m
2025-12-18 15:56:39,356 - INFO - 訓練期間: 2021-01-01 00:00:00 ～ 2021-04-01 00:00:00
2025-12-18 15:56:39,356 - INFO - 評価期間: 2023-07-01 00:00:00 ～ 2023-10-01 00:00:00
2025-12-18 15:56:39,356 - INFO - ================================================================================
2025-12-18 15:56:39,356 - INFO - レビュー依頼データを読み込み: data/chromium_50proj_2021_2024_feat.csv
2025-12-18 15:56:39,359 - INFO - 総レビュー依頼数: 236
2025-12-18 15:56:39,359 - INFO - 承諾数: 169 (71.6%)
2025-12-18 15:56:39,359 - INFO - 拒否数: 67 (28.4%)
2025-12-18 15:56:39,359 - INFO - 将来窓設定: 0～30ヶ月
2025-12-18 15:56:39,359 - INFO - 訓練用軌跡を抽出...
2025-12-18 15:56:39,359 - INFO - ================================================================================
2025-12-18 15:56:39,359 - INFO - レビュー承諾予測用軌跡抽出を開始（データリークなし版）
2025-12-18 15:56:39,359 - INFO - 訓練期間全体: 2021-01-01 00:00:00 ～ 2021-04-01 00:00:00
2025-12-18 15:56:39,359 - INFO - 将来窓: 0～30ヶ月
2025-12-18 15:56:39,359 - INFO - 拡張ラベル期間: 0～12ヶ月
2025-12-18 15:56:39,359 - INFO - プロジェクト: 全プロジェクト
2025-12-18 15:56:39,359 - INFO - ラベル定義: この期間で承諾=1、この期間で拒否=0、依頼なし→拡張期間チェック、訓練時は拡張期間にも依頼なしで除外
2025-12-18 15:56:39,359 - INFO - データリーク防止: 訓練期間内でラベル計算
2025-12-18 15:56:39,359 - INFO - ================================================================================
2025-12-18 15:56:39,359 - INFO - 特徴量計算期間（訓練全体）: 2021-01-01 00:00:00 ～ 2021-04-01 00:00:00
2025-12-18 15:56:39,359 - INFO - 全体ラベル期間（train_end時点から）: 2021-04-01 00:00:00 ～ 2023-10-01 00:00:00
2025-12-18 15:56:39,360 - INFO - 特徴量計算期間内のレビュアー数: 6
2025-12-18 15:56:39,367 - INFO - ================================================================================
2025-12-18 15:56:39,367 - INFO - 軌跡抽出完了: 3サンプル（レビュアー）
2025-12-18 15:56:39,367 - INFO -   スキップ（最小依頼数未満）: 0
2025-12-18 15:56:39,367 - INFO -   スキップ（訓練期間末尾まで依頼なし）: 3
2025-12-18 15:56:39,367 - INFO -   正例（この期間で承諾あり）: 3 (100.0%)
2025-12-18 15:56:39,367 - INFO -   負例（この期間で承諾なし）: 0 (0.0%)
2025-12-18 15:56:39,367 - INFO -   総ステップ数: 6
2025-12-18 15:56:39,367 - INFO -   継続ステップ率: 50.0% (3/6)
2025-12-18 15:56:39,367 - INFO - ================================================================================
/Users/kazuki-h/research/multiproject_research/.venv/lib/python3.13/site-packages/torch/nn/modules/rnn.py:123: UserWarning: dropout option adds dropout after all but last recurrent layer, so non-zero dropout expects num_layers greater than 1, but got dropout=0.2 and num_layers=1
  warnings.warn(
2025-12-18 15:56:39,368 - INFO - 継続予測IRLシステムを初期化しました
2025-12-18 15:56:39,368 - INFO - 訓練データ正例率: 100.0% (3/3)
2025-12-18 15:56:39,368 - INFO - Focal Loss パラメータ更新: alpha=0.400, gamma=1.000
2025-12-18 15:56:39,368 - INFO - 正例率 100.0% に基づき自動調整: バランス重視（正例率≥60%・軽い正例優先)
2025-12-18 15:56:39,368 - INFO - IRLモデルを訓練...
2025-12-18 15:56:39,368 - INFO - ============================================================
2025-12-18 15:56:39,368 - INFO - 時系列IRL訓練開始
2025-12-18 15:56:39,368 - INFO - 軌跡数: 3
2025-12-18 15:56:39,368 - INFO - エポック数: 20
2025-12-18 15:56:39,368 - INFO - ============================================================
2025-12-18 15:56:39,374 - INFO - エポック 0: 平均損失 = 1.1832
2025-12-18 15:56:39,423 - INFO - エポック 10: 平均損失 = 1.1718
2025-12-18 15:56:39,467 - INFO - 時系列IRL訓練完了
2025-12-18 15:56:39,467 - INFO - 訓練データ上で最適閾値を決定...
2025-12-18 15:56:39,469 - INFO - 最適閾値: 0.5004
2025-12-18 15:56:39,469 - INFO - 訓練データ性能: Precision=1.000, Recall=1.000, F1=1.000
2025-12-18 15:56:39,470 - INFO - モデルを保存: outputs/chromium_50projects_irl/train_0-3m/irl_model.pt
2025-12-18 15:56:39,470 - INFO - 最適閾値を保存: outputs/chromium_50projects_irl/train_0-3m/optimal_threshold.json
2025-12-18 15:56:39,470 - INFO - 評価用軌跡を抽出...
2025-12-18 15:56:39,471 - INFO - ================================================================================
2025-12-18 15:56:39,471 - INFO - 評価用軌跡抽出を開始（スナップショット特徴量用）
2025-12-18 15:56:39,471 - INFO - Cutoff日: 2021-04-01 00:00:00
2025-12-18 15:56:39,471 - INFO - 履歴ウィンドウ: 3ヶ月
2025-12-18 15:56:39,471 - INFO - 将来窓: 27～30ヶ月
2025-12-18 15:56:39,471 - INFO - 拡張ラベル期間: 27～12ヶ月
2025-12-18 15:56:39,471 - INFO - プロジェクト: 全プロジェクト
2025-12-18 15:56:39,471 - INFO - 継続判定: この期間で承諾=1、この期間で拒否=0、依頼なし→拡張期間チェック、評価時は拡張期間にも依頼なしで除外（予測の母集団に入れない）
2025-12-18 15:56:39,471 - INFO - ================================================================================
2025-12-18 15:56:39,471 - INFO - 履歴期間: 2021-01-01 00:00:00 ～ 2021-04-01 00:00:00
2025-12-18 15:56:39,471 - INFO - 評価期間: 2023-07-01 00:00:00 ～ 2023-10-01 00:00:00
2025-12-18 15:56:39,472 - INFO - 履歴期間内のレビュアー数: 6
2025-12-18 15:56:39,476 - INFO - ================================================================================
2025-12-18 15:56:39,476 - INFO - 評価用軌跡抽出完了: 2サンプル
2025-12-18 15:56:39,476 - INFO -   スキップ（最小依頼数未満）: 0
2025-12-18 15:56:39,476 - INFO -   スキップ（訓練期間末尾まで依頼なし）: 4
2025-12-18 15:56:39,476 - INFO -   正例（この期間で承諾あり）: 1 (50.0%)
2025-12-18 15:56:39,476 - INFO -   負例（この期間で承諾なし）: 1 (50.0%)
2025-12-18 15:56:39,476 - INFO -     - 依頼あり→拒否（重み=1.0）: 1
2025-12-18 15:56:39,476 - INFO - ================================================================================
2025-12-18 15:56:39,476 - INFO - 予測を実行...
2025-12-18 15:56:39,481 - INFO - ================================================================================
2025-12-18 15:56:39,481 - INFO - 評価結果 (0-3m → 6-9m):
2025-12-18 15:56:39,481 - INFO -   AUC-ROC: 0.0000
2025-12-18 15:56:39,481 - INFO -   AUC-PR: 0.2500
2025-12-18 15:56:39,481 - INFO -   Precision: 0.5000
2025-12-18 15:56:39,481 - INFO -   Recall: 1.0000
2025-12-18 15:56:39,481 - INFO -   F1 Score: 0.6667
2025-12-18 15:56:39,481 - INFO - ================================================================================
2025-12-18 15:56:39,482 - INFO - 結果を保存: outputs/chromium_50projects_irl/train_0-3m/eval_6-9m
2025-12-18 15:56:39,482 - INFO - 
【4/10】パターン実行中...
2025-12-18 15:56:39,482 - INFO - ================================================================================
2025-12-18 15:56:39,482 - INFO - パターン: 0-3m → 9-12m
2025-12-18 15:56:39,482 - INFO - 訓練期間: 2021-01-01 00:00:00 ～ 2021-04-01 00:00:00
2025-12-18 15:56:39,483 - INFO - 評価期間: 2023-10-01 00:00:00 ～ 2024-01-01 00:00:00
2025-12-18 15:56:39,483 - INFO - ================================================================================
2025-12-18 15:56:39,483 - INFO - レビュー依頼データを読み込み: data/chromium_50proj_2021_2024_feat.csv
2025-12-18 15:56:39,485 - INFO - 総レビュー依頼数: 236
2025-12-18 15:56:39,485 - INFO - 承諾数: 169 (71.6%)
2025-12-18 15:56:39,486 - INFO - 拒否数: 67 (28.4%)
2025-12-18 15:56:39,486 - INFO - 将来窓設定: 0～33ヶ月
2025-12-18 15:56:39,486 - INFO - 訓練用軌跡を抽出...
2025-12-18 15:56:39,486 - INFO - ================================================================================
2025-12-18 15:56:39,486 - INFO - レビュー承諾予測用軌跡抽出を開始（データリークなし版）
2025-12-18 15:56:39,486 - INFO - 訓練期間全体: 2021-01-01 00:00:00 ～ 2021-04-01 00:00:00
2025-12-18 15:56:39,486 - INFO - 将来窓: 0～33ヶ月
2025-12-18 15:56:39,486 - INFO - 拡張ラベル期間: 0～12ヶ月
2025-12-18 15:56:39,486 - INFO - プロジェクト: 全プロジェクト
2025-12-18 15:56:39,486 - INFO - ラベル定義: この期間で承諾=1、この期間で拒否=0、依頼なし→拡張期間チェック、訓練時は拡張期間にも依頼なしで除外
2025-12-18 15:56:39,486 - INFO - データリーク防止: 訓練期間内でラベル計算
2025-12-18 15:56:39,486 - INFO - ================================================================================
2025-12-18 15:56:39,486 - INFO - 特徴量計算期間（訓練全体）: 2021-01-01 00:00:00 ～ 2021-04-01 00:00:00
2025-12-18 15:56:39,486 - INFO - 全体ラベル期間（train_end時点から）: 2021-04-01 00:00:00 ～ 2024-01-01 00:00:00
2025-12-18 15:56:39,487 - INFO - 特徴量計算期間内のレビュアー数: 6
2025-12-18 15:56:39,494 - INFO - ================================================================================
2025-12-18 15:56:39,495 - INFO - 軌跡抽出完了: 3サンプル（レビュアー）
2025-12-18 15:56:39,495 - INFO -   スキップ（最小依頼数未満）: 0
2025-12-18 15:56:39,495 - INFO -   スキップ（訓練期間末尾まで依頼なし）: 3
2025-12-18 15:56:39,495 - INFO -   正例（この期間で承諾あり）: 3 (100.0%)
2025-12-18 15:56:39,495 - INFO -   負例（この期間で承諾なし）: 0 (0.0%)
2025-12-18 15:56:39,495 - INFO -   総ステップ数: 6
2025-12-18 15:56:39,495 - INFO -   継続ステップ率: 50.0% (3/6)
2025-12-18 15:56:39,495 - INFO - ================================================================================
/Users/kazuki-h/research/multiproject_research/.venv/lib/python3.13/site-packages/torch/nn/modules/rnn.py:123: UserWarning: dropout option adds dropout after all but last recurrent layer, so non-zero dropout expects num_layers greater than 1, but got dropout=0.2 and num_layers=1
  warnings.warn(
2025-12-18 15:56:39,496 - INFO - 継続予測IRLシステムを初期化しました
2025-12-18 15:56:39,496 - INFO - 訓練データ正例率: 100.0% (3/3)
2025-12-18 15:56:39,496 - INFO - Focal Loss パラメータ更新: alpha=0.400, gamma=1.000
2025-12-18 15:56:39,496 - INFO - 正例率 100.0% に基づき自動調整: バランス重視（正例率≥60%・軽い正例優先)
2025-12-18 15:56:39,496 - INFO - IRLモデルを訓練...
2025-12-18 15:56:39,496 - INFO - ============================================================
2025-12-18 15:56:39,496 - INFO - 時系列IRL訓練開始
2025-12-18 15:56:39,496 - INFO - 軌跡数: 3
2025-12-18 15:56:39,496 - INFO - エポック数: 20
2025-12-18 15:56:39,496 - INFO - ============================================================
2025-12-18 15:56:39,502 - INFO - エポック 0: 平均損失 = 1.1830
2025-12-18 15:56:39,557 - INFO - エポック 10: 平均損失 = 1.1464
2025-12-18 15:56:39,605 - INFO - 時系列IRL訓練完了
2025-12-18 15:56:39,605 - INFO - 訓練データ上で最適閾値を決定...
2025-12-18 15:56:39,607 - INFO - 最適閾値: 0.4829
2025-12-18 15:56:39,607 - INFO - 訓練データ性能: Precision=1.000, Recall=1.000, F1=1.000
2025-12-18 15:56:39,609 - INFO - モデルを保存: outputs/chromium_50projects_irl/train_0-3m/irl_model.pt
2025-12-18 15:56:39,609 - INFO - 最適閾値を保存: outputs/chromium_50projects_irl/train_0-3m/optimal_threshold.json
2025-12-18 15:56:39,609 - INFO - 評価用軌跡を抽出...
2025-12-18 15:56:39,609 - INFO - ================================================================================
2025-12-18 15:56:39,609 - INFO - 評価用軌跡抽出を開始（スナップショット特徴量用）
2025-12-18 15:56:39,609 - INFO - Cutoff日: 2021-04-01 00:00:00
2025-12-18 15:56:39,609 - INFO - 履歴ウィンドウ: 3ヶ月
2025-12-18 15:56:39,609 - INFO - 将来窓: 30～33ヶ月
2025-12-18 15:56:39,609 - INFO - 拡張ラベル期間: 30～12ヶ月
2025-12-18 15:56:39,609 - INFO - プロジェクト: 全プロジェクト
2025-12-18 15:56:39,609 - INFO - 継続判定: この期間で承諾=1、この期間で拒否=0、依頼なし→拡張期間チェック、評価時は拡張期間にも依頼なしで除外（予測の母集団に入れない）
2025-12-18 15:56:39,609 - INFO - ================================================================================
2025-12-18 15:56:39,609 - INFO - 履歴期間: 2021-01-01 00:00:00 ～ 2021-04-01 00:00:00
2025-12-18 15:56:39,609 - INFO - 評価期間: 2023-10-01 00:00:00 ～ 2024-01-01 00:00:00
2025-12-18 15:56:39,610 - INFO - 履歴期間内のレビュアー数: 6
2025-12-18 15:56:39,612 - INFO - ================================================================================
2025-12-18 15:56:39,612 - INFO - 評価用軌跡抽出完了: 0サンプル
2025-12-18 15:56:39,612 - INFO -   スキップ（最小依頼数未満）: 0
2025-12-18 15:56:39,612 - INFO -   スキップ（訓練期間末尾まで依頼なし）: 6
2025-12-18 15:56:39,612 - INFO - ================================================================================
2025-12-18 15:56:39,612 - ERROR - 評価用軌跡が抽出できませんでした
2025-12-18 15:56:39,612 - WARNING - パターン 0-3m → 9-12m をスキップ
2025-12-18 15:56:39,612 - INFO - 
【5/10】パターン実行中...
2025-12-18 15:56:39,612 - INFO - ================================================================================
2025-12-18 15:56:39,612 - INFO - パターン: 3-6m → 3-6m
2025-12-18 15:56:39,612 - INFO - 訓練期間: 2021-04-01 00:00:00 ～ 2021-07-01 00:00:00
2025-12-18 15:56:39,612 - INFO - 評価期間: 2023-04-01 00:00:00 ～ 2023-07-01 00:00:00
2025-12-18 15:56:39,612 - INFO - ================================================================================
2025-12-18 15:56:39,612 - INFO - レビュー依頼データを読み込み: data/chromium_50proj_2021_2024_feat.csv
2025-12-18 15:56:39,615 - INFO - 総レビュー依頼数: 236
2025-12-18 15:56:39,615 - INFO - 承諾数: 169 (71.6%)
2025-12-18 15:56:39,615 - INFO - 拒否数: 67 (28.4%)
2025-12-18 15:56:39,615 - INFO - 将来窓設定: 0～24ヶ月
2025-12-18 15:56:39,615 - INFO - 訓練用軌跡を抽出...
2025-12-18 15:56:39,615 - INFO - ================================================================================
2025-12-18 15:56:39,615 - INFO - レビュー承諾予測用軌跡抽出を開始（データリークなし版）
2025-12-18 15:56:39,615 - INFO - 訓練期間全体: 2021-04-01 00:00:00 ～ 2021-07-01 00:00:00
2025-12-18 15:56:39,615 - INFO - 将来窓: 0～24ヶ月
2025-12-18 15:56:39,615 - INFO - 拡張ラベル期間: 0～12ヶ月
2025-12-18 15:56:39,615 - INFO - プロジェクト: 全プロジェクト
2025-12-18 15:56:39,615 - INFO - ラベル定義: この期間で承諾=1、この期間で拒否=0、依頼なし→拡張期間チェック、訓練時は拡張期間にも依頼なしで除外
2025-12-18 15:56:39,615 - INFO - データリーク防止: 訓練期間内でラベル計算
2025-12-18 15:56:39,615 - INFO - ================================================================================
2025-12-18 15:56:39,615 - INFO - 特徴量計算期間（訓練全体）: 2021-04-01 00:00:00 ～ 2021-07-01 00:00:00
2025-12-18 15:56:39,615 - INFO - 全体ラベル期間（train_end時点から）: 2021-07-01 00:00:00 ～ 2023-07-01 00:00:00
2025-12-18 15:56:39,616 - INFO - 特徴量計算期間内のレビュアー数: 4
2025-12-18 15:56:39,627 - INFO - ================================================================================
2025-12-18 15:56:39,627 - INFO - 軌跡抽出完了: 4サンプル（レビュアー）
2025-12-18 15:56:39,627 - INFO -   スキップ（最小依頼数未満）: 0
2025-12-18 15:56:39,627 - INFO -   スキップ（訓練期間末尾まで依頼なし）: 0
2025-12-18 15:56:39,627 - INFO -   正例（この期間で承諾あり）: 4 (100.0%)
2025-12-18 15:56:39,627 - INFO -   負例（この期間で承諾なし）: 0 (0.0%)
2025-12-18 15:56:39,628 - INFO -   総ステップ数: 8
2025-12-18 15:56:39,628 - INFO -   継続ステップ率: 25.0% (2/8)
2025-12-18 15:56:39,628 - INFO - ================================================================================
/Users/kazuki-h/research/multiproject_research/.venv/lib/python3.13/site-packages/torch/nn/modules/rnn.py:123: UserWarning: dropout option adds dropout after all but last recurrent layer, so non-zero dropout expects num_layers greater than 1, but got dropout=0.2 and num_layers=1
  warnings.warn(
2025-12-18 15:56:39,629 - INFO - 継続予測IRLシステムを初期化しました
2025-12-18 15:56:39,629 - INFO - 訓練データ正例率: 100.0% (4/4)
2025-12-18 15:56:39,629 - INFO - Focal Loss パラメータ更新: alpha=0.400, gamma=1.000
2025-12-18 15:56:39,629 - INFO - 正例率 100.0% に基づき自動調整: バランス重視（正例率≥60%・軽い正例優先)
2025-12-18 15:56:39,629 - INFO - IRLモデルを訓練...
2025-12-18 15:56:39,629 - INFO - ============================================================
2025-12-18 15:56:39,629 - INFO - 時系列IRL訓練開始
2025-12-18 15:56:39,629 - INFO - 軌跡数: 4
2025-12-18 15:56:39,629 - INFO - エポック数: 20
2025-12-18 15:56:39,629 - INFO - ============================================================
2025-12-18 15:56:39,638 - INFO - エポック 0: 平均損失 = 1.2768
2025-12-18 15:56:39,705 - INFO - エポック 10: 平均損失 = 1.2080
2025-12-18 15:56:39,763 - INFO - 時系列IRL訓練完了
2025-12-18 15:56:39,763 - INFO - 訓練データ上で最適閾値を決定...
2025-12-18 15:56:39,765 - INFO - 最適閾値: 0.4347
2025-12-18 15:56:39,765 - INFO - 訓練データ性能: Precision=1.000, Recall=1.000, F1=1.000
2025-12-18 15:56:39,766 - INFO - モデルを保存: outputs/chromium_50projects_irl/train_3-6m/irl_model.pt
2025-12-18 15:56:39,767 - INFO - 最適閾値を保存: outputs/chromium_50projects_irl/train_3-6m/optimal_threshold.json
2025-12-18 15:56:39,767 - INFO - 評価用軌跡を抽出...
2025-12-18 15:56:39,767 - INFO - ================================================================================
2025-12-18 15:56:39,767 - INFO - 評価用軌跡抽出を開始（スナップショット特徴量用）
2025-12-18 15:56:39,767 - INFO - Cutoff日: 2021-07-01 00:00:00
2025-12-18 15:56:39,767 - INFO - 履歴ウィンドウ: 3ヶ月
2025-12-18 15:56:39,767 - INFO - 将来窓: 21～24ヶ月
2025-12-18 15:56:39,767 - INFO - 拡張ラベル期間: 21～12ヶ月
2025-12-18 15:56:39,767 - INFO - プロジェクト: 全プロジェクト
2025-12-18 15:56:39,767 - INFO - 継続判定: この期間で承諾=1、この期間で拒否=0、依頼なし→拡張期間チェック、評価時は拡張期間にも依頼なしで除外（予測の母集団に入れない）
2025-12-18 15:56:39,767 - INFO - ================================================================================
2025-12-18 15:56:39,767 - INFO - 履歴期間: 2021-04-01 00:00:00 ～ 2021-07-01 00:00:00
2025-12-18 15:56:39,767 - INFO - 評価期間: 2023-04-01 00:00:00 ～ 2023-07-01 00:00:00
2025-12-18 15:56:39,768 - INFO - 履歴期間内のレビュアー数: 4
2025-12-18 15:56:39,771 - INFO - ================================================================================
2025-12-18 15:56:39,771 - INFO - 評価用軌跡抽出完了: 2サンプル
2025-12-18 15:56:39,771 - INFO -   スキップ（最小依頼数未満）: 0
2025-12-18 15:56:39,771 - INFO -   スキップ（訓練期間末尾まで依頼なし）: 2
2025-12-18 15:56:39,771 - INFO -   正例（この期間で承諾あり）: 2 (100.0%)
2025-12-18 15:56:39,771 - INFO -   負例（この期間で承諾なし）: 0 (0.0%)
2025-12-18 15:56:39,771 - INFO - ================================================================================
2025-12-18 15:56:39,771 - INFO - 予測を実行...
/Users/kazuki-h/research/multiproject_research/.venv/lib/python3.13/site-packages/sklearn/metrics/_ranking.py:424: UndefinedMetricWarning: Only one class is present in y_true. ROC AUC score is not defined in that case.
  warnings.warn(
2025-12-18 15:56:39,774 - INFO - ================================================================================
2025-12-18 15:56:39,774 - INFO - 評価結果 (3-6m → 3-6m):
2025-12-18 15:56:39,774 - INFO -   AUC-ROC: nan
2025-12-18 15:56:39,774 - INFO -   AUC-PR: 1.0000
2025-12-18 15:56:39,774 - INFO -   Precision: 1.0000
2025-12-18 15:56:39,774 - INFO -   Recall: 1.0000
2025-12-18 15:56:39,774 - INFO -   F1 Score: 1.0000
2025-12-18 15:56:39,774 - INFO - ================================================================================
2025-12-18 15:56:39,775 - INFO - 結果を保存: outputs/chromium_50projects_irl/train_3-6m/eval_3-6m
2025-12-18 15:56:39,775 - INFO - 
【6/10】パターン実行中...
2025-12-18 15:56:39,775 - INFO - ================================================================================
2025-12-18 15:56:39,775 - INFO - パターン: 3-6m → 6-9m
2025-12-18 15:56:39,775 - INFO - 訓練期間: 2021-04-01 00:00:00 ～ 2021-07-01 00:00:00
2025-12-18 15:56:39,775 - INFO - 評価期間: 2023-07-01 00:00:00 ～ 2023-10-01 00:00:00
2025-12-18 15:56:39,775 - INFO - ================================================================================
2025-12-18 15:56:39,775 - INFO - レビュー依頼データを読み込み: data/chromium_50proj_2021_2024_feat.csv
2025-12-18 15:56:39,778 - INFO - 総レビュー依頼数: 236
2025-12-18 15:56:39,778 - INFO - 承諾数: 169 (71.6%)
2025-12-18 15:56:39,778 - INFO - 拒否数: 67 (28.4%)
2025-12-18 15:56:39,778 - INFO - 将来窓設定: 0～27ヶ月
2025-12-18 15:56:39,778 - INFO - 訓練用軌跡を抽出...
2025-12-18 15:56:39,778 - INFO - ================================================================================
2025-12-18 15:56:39,778 - INFO - レビュー承諾予測用軌跡抽出を開始（データリークなし版）
2025-12-18 15:56:39,778 - INFO - 訓練期間全体: 2021-04-01 00:00:00 ～ 2021-07-01 00:00:00
2025-12-18 15:56:39,778 - INFO - 将来窓: 0～27ヶ月
2025-12-18 15:56:39,778 - INFO - 拡張ラベル期間: 0～12ヶ月
2025-12-18 15:56:39,778 - INFO - プロジェクト: 全プロジェクト
2025-12-18 15:56:39,778 - INFO - ラベル定義: この期間で承諾=1、この期間で拒否=0、依頼なし→拡張期間チェック、訓練時は拡張期間にも依頼なしで除外
2025-12-18 15:56:39,778 - INFO - データリーク防止: 訓練期間内でラベル計算
2025-12-18 15:56:39,778 - INFO - ================================================================================
2025-12-18 15:56:39,778 - INFO - 特徴量計算期間（訓練全体）: 2021-04-01 00:00:00 ～ 2021-07-01 00:00:00
2025-12-18 15:56:39,778 - INFO - 全体ラベル期間（train_end時点から）: 2021-07-01 00:00:00 ～ 2023-10-01 00:00:00
2025-12-18 15:56:39,779 - INFO - 特徴量計算期間内のレビュアー数: 4
2025-12-18 15:56:39,787 - INFO - ================================================================================
2025-12-18 15:56:39,787 - INFO - 軌跡抽出完了: 4サンプル（レビュアー）
2025-12-18 15:56:39,787 - INFO -   スキップ（最小依頼数未満）: 0
2025-12-18 15:56:39,787 - INFO -   スキップ（訓練期間末尾まで依頼なし）: 0
2025-12-18 15:56:39,787 - INFO -   正例（この期間で承諾あり）: 4 (100.0%)
2025-12-18 15:56:39,787 - INFO -   負例（この期間で承諾なし）: 0 (0.0%)
2025-12-18 15:56:39,787 - INFO -   総ステップ数: 8
2025-12-18 15:56:39,787 - INFO -   継続ステップ率: 25.0% (2/8)
2025-12-18 15:56:39,787 - INFO - ================================================================================
/Users/kazuki-h/research/multiproject_research/.venv/lib/python3.13/site-packages/torch/nn/modules/rnn.py:123: UserWarning: dropout option adds dropout after all but last recurrent layer, so non-zero dropout expects num_layers greater than 1, but got dropout=0.2 and num_layers=1
  warnings.warn(
2025-12-18 15:56:39,788 - INFO - 継続予測IRLシステムを初期化しました
2025-12-18 15:56:39,788 - INFO - 訓練データ正例率: 100.0% (4/4)
2025-12-18 15:56:39,788 - INFO - Focal Loss パラメータ更新: alpha=0.400, gamma=1.000
2025-12-18 15:56:39,788 - INFO - 正例率 100.0% に基づき自動調整: バランス重視（正例率≥60%・軽い正例優先)
2025-12-18 15:56:39,788 - INFO - IRLモデルを訓練...
2025-12-18 15:56:39,788 - INFO - ============================================================
2025-12-18 15:56:39,788 - INFO - 時系列IRL訓練開始
2025-12-18 15:56:39,788 - INFO - 軌跡数: 4
2025-12-18 15:56:39,788 - INFO - エポック数: 20
2025-12-18 15:56:39,788 - INFO - ============================================================
2025-12-18 15:56:39,795 - INFO - エポック 0: 平均損失 = 1.2801
2025-12-18 15:56:39,888 - INFO - エポック 10: 平均損失 = 1.1576
2025-12-18 15:56:39,942 - INFO - 時系列IRL訓練完了
2025-12-18 15:56:39,942 - INFO - 訓練データ上で最適閾値を決定...
2025-12-18 15:56:39,944 - INFO - 最適閾値: 0.4805
2025-12-18 15:56:39,944 - INFO - 訓練データ性能: Precision=1.000, Recall=1.000, F1=1.000
2025-12-18 15:56:39,945 - INFO - モデルを保存: outputs/chromium_50projects_irl/train_3-6m/irl_model.pt
2025-12-18 15:56:39,945 - INFO - 最適閾値を保存: outputs/chromium_50projects_irl/train_3-6m/optimal_threshold.json
2025-12-18 15:56:39,945 - INFO - 評価用軌跡を抽出...
2025-12-18 15:56:39,946 - INFO - ================================================================================
2025-12-18 15:56:39,946 - INFO - 評価用軌跡抽出を開始（スナップショット特徴量用）
2025-12-18 15:56:39,946 - INFO - Cutoff日: 2021-07-01 00:00:00
2025-12-18 15:56:39,946 - INFO - 履歴ウィンドウ: 3ヶ月
2025-12-18 15:56:39,946 - INFO - 将来窓: 24～27ヶ月
2025-12-18 15:56:39,946 - INFO - 拡張ラベル期間: 24～12ヶ月
2025-12-18 15:56:39,946 - INFO - プロジェクト: 全プロジェクト
2025-12-18 15:56:39,946 - INFO - 継続判定: この期間で承諾=1、この期間で拒否=0、依頼なし→拡張期間チェック、評価時は拡張期間にも依頼なしで除外（予測の母集団に入れない）
2025-12-18 15:56:39,946 - INFO - ================================================================================
2025-12-18 15:56:39,946 - INFO - 履歴期間: 2021-04-01 00:00:00 ～ 2021-07-01 00:00:00
2025-12-18 15:56:39,946 - INFO - 評価期間: 2023-07-01 00:00:00 ～ 2023-10-01 00:00:00
2025-12-18 15:56:39,947 - INFO - 履歴期間内のレビュアー数: 4
2025-12-18 15:56:39,949 - INFO - ================================================================================
2025-12-18 15:56:39,950 - INFO - 評価用軌跡抽出完了: 2サンプル
2025-12-18 15:56:39,950 - INFO -   スキップ（最小依頼数未満）: 0
2025-12-18 15:56:39,950 - INFO -   スキップ（訓練期間末尾まで依頼なし）: 2
2025-12-18 15:56:39,950 - INFO -   正例（この期間で承諾あり）: 1 (50.0%)
2025-12-18 15:56:39,950 - INFO -   負例（この期間で承諾なし）: 1 (50.0%)
2025-12-18 15:56:39,950 - INFO -     - 依頼あり→拒否（重み=1.0）: 1
2025-12-18 15:56:39,950 - INFO - ================================================================================
2025-12-18 15:56:39,950 - INFO - 予測を実行...
2025-12-18 15:56:39,953 - INFO - ================================================================================
2025-12-18 15:56:39,953 - INFO - 評価結果 (3-6m → 6-9m):
2025-12-18 15:56:39,953 - INFO -   AUC-ROC: 0.0000
2025-12-18 15:56:39,953 - INFO -   AUC-PR: 0.2500
2025-12-18 15:56:39,953 - INFO -   Precision: 0.5000
2025-12-18 15:56:39,953 - INFO -   Recall: 1.0000
2025-12-18 15:56:39,953 - INFO -   F1 Score: 0.6667
2025-12-18 15:56:39,953 - INFO - ================================================================================
2025-12-18 15:56:39,954 - INFO - 結果を保存: outputs/chromium_50projects_irl/train_3-6m/eval_6-9m
2025-12-18 15:56:39,954 - INFO - 
【7/10】パターン実行中...
2025-12-18 15:56:39,954 - INFO - ================================================================================
2025-12-18 15:56:39,954 - INFO - パターン: 3-6m → 9-12m
2025-12-18 15:56:39,954 - INFO - 訓練期間: 2021-04-01 00:00:00 ～ 2021-07-01 00:00:00
2025-12-18 15:56:39,954 - INFO - 評価期間: 2023-10-01 00:00:00 ～ 2024-01-01 00:00:00
2025-12-18 15:56:39,954 - INFO - ================================================================================
2025-12-18 15:56:39,954 - INFO - レビュー依頼データを読み込み: data/chromium_50proj_2021_2024_feat.csv
2025-12-18 15:56:39,957 - INFO - 総レビュー依頼数: 236
2025-12-18 15:56:39,957 - INFO - 承諾数: 169 (71.6%)
2025-12-18 15:56:39,957 - INFO - 拒否数: 67 (28.4%)
2025-12-18 15:56:39,957 - INFO - 将来窓設定: 0～30ヶ月
2025-12-18 15:56:39,957 - INFO - 訓練用軌跡を抽出...
2025-12-18 15:56:39,957 - INFO - ================================================================================
2025-12-18 15:56:39,957 - INFO - レビュー承諾予測用軌跡抽出を開始（データリークなし版）
2025-12-18 15:56:39,957 - INFO - 訓練期間全体: 2021-04-01 00:00:00 ～ 2021-07-01 00:00:00
2025-12-18 15:56:39,957 - INFO - 将来窓: 0～30ヶ月
2025-12-18 15:56:39,957 - INFO - 拡張ラベル期間: 0～12ヶ月
2025-12-18 15:56:39,957 - INFO - プロジェクト: 全プロジェクト
2025-12-18 15:56:39,957 - INFO - ラベル定義: この期間で承諾=1、この期間で拒否=0、依頼なし→拡張期間チェック、訓練時は拡張期間にも依頼なしで除外
2025-12-18 15:56:39,957 - INFO - データリーク防止: 訓練期間内でラベル計算
2025-12-18 15:56:39,957 - INFO - ================================================================================
2025-12-18 15:56:39,957 - INFO - 特徴量計算期間（訓練全体）: 2021-04-01 00:00:00 ～ 2021-07-01 00:00:00
2025-12-18 15:56:39,957 - INFO - 全体ラベル期間（train_end時点から）: 2021-07-01 00:00:00 ～ 2024-01-01 00:00:00
2025-12-18 15:56:39,958 - INFO - 特徴量計算期間内のレビュアー数: 4
2025-12-18 15:56:39,966 - INFO - ================================================================================
2025-12-18 15:56:39,966 - INFO - 軌跡抽出完了: 4サンプル（レビュアー）
2025-12-18 15:56:39,966 - INFO -   スキップ（最小依頼数未満）: 0
2025-12-18 15:56:39,966 - INFO -   スキップ（訓練期間末尾まで依頼なし）: 0
2025-12-18 15:56:39,966 - INFO -   正例（この期間で承諾あり）: 4 (100.0%)
2025-12-18 15:56:39,966 - INFO -   負例（この期間で承諾なし）: 0 (0.0%)
2025-12-18 15:56:39,966 - INFO -   総ステップ数: 8
2025-12-18 15:56:39,966 - INFO -   継続ステップ率: 25.0% (2/8)
2025-12-18 15:56:39,966 - INFO - ================================================================================
/Users/kazuki-h/research/multiproject_research/.venv/lib/python3.13/site-packages/torch/nn/modules/rnn.py:123: UserWarning: dropout option adds dropout after all but last recurrent layer, so non-zero dropout expects num_layers greater than 1, but got dropout=0.2 and num_layers=1
  warnings.warn(
2025-12-18 15:56:39,967 - INFO - 継続予測IRLシステムを初期化しました
2025-12-18 15:56:39,967 - INFO - 訓練データ正例率: 100.0% (4/4)
2025-12-18 15:56:39,967 - INFO - Focal Loss パラメータ更新: alpha=0.400, gamma=1.000
2025-12-18 15:56:39,967 - INFO - 正例率 100.0% に基づき自動調整: バランス重視（正例率≥60%・軽い正例優先)
2025-12-18 15:56:39,967 - INFO - IRLモデルを訓練...
2025-12-18 15:56:39,967 - INFO - ============================================================
2025-12-18 15:56:39,967 - INFO - 時系列IRL訓練開始
2025-12-18 15:56:39,967 - INFO - 軌跡数: 4
2025-12-18 15:56:39,967 - INFO - エポック数: 20
2025-12-18 15:56:39,967 - INFO - ============================================================
2025-12-18 15:56:39,975 - INFO - エポック 0: 平均損失 = 1.1591
2025-12-18 15:56:40,039 - INFO - エポック 10: 平均損失 = 1.0873
2025-12-18 15:56:40,101 - INFO - 時系列IRL訓練完了
2025-12-18 15:56:40,101 - INFO - 訓練データ上で最適閾値を決定...
2025-12-18 15:56:40,103 - INFO - 最適閾値: 0.5018
2025-12-18 15:56:40,103 - INFO - 訓練データ性能: Precision=1.000, Recall=1.000, F1=1.000
2025-12-18 15:56:40,105 - INFO - モデルを保存: outputs/chromium_50projects_irl/train_3-6m/irl_model.pt
2025-12-18 15:56:40,105 - INFO - 最適閾値を保存: outputs/chromium_50projects_irl/train_3-6m/optimal_threshold.json
2025-12-18 15:56:40,106 - INFO - 評価用軌跡を抽出...
2025-12-18 15:56:40,106 - INFO - ================================================================================
2025-12-18 15:56:40,106 - INFO - 評価用軌跡抽出を開始（スナップショット特徴量用）
2025-12-18 15:56:40,106 - INFO - Cutoff日: 2021-07-01 00:00:00
2025-12-18 15:56:40,106 - INFO - 履歴ウィンドウ: 3ヶ月
2025-12-18 15:56:40,106 - INFO - 将来窓: 27～30ヶ月
2025-12-18 15:56:40,106 - INFO - 拡張ラベル期間: 27～12ヶ月
2025-12-18 15:56:40,106 - INFO - プロジェクト: 全プロジェクト
2025-12-18 15:56:40,106 - INFO - 継続判定: この期間で承諾=1、この期間で拒否=0、依頼なし→拡張期間チェック、評価時は拡張期間にも依頼なしで除外（予測の母集団に入れない）
2025-12-18 15:56:40,106 - INFO - ================================================================================
2025-12-18 15:56:40,106 - INFO - 履歴期間: 2021-04-01 00:00:00 ～ 2021-07-01 00:00:00
2025-12-18 15:56:40,106 - INFO - 評価期間: 2023-10-01 00:00:00 ～ 2024-01-01 00:00:00
2025-12-18 15:56:40,107 - INFO - 履歴期間内のレビュアー数: 4
2025-12-18 15:56:40,108 - INFO - ================================================================================
2025-12-18 15:56:40,108 - INFO - 評価用軌跡抽出完了: 0サンプル
2025-12-18 15:56:40,108 - INFO -   スキップ（最小依頼数未満）: 0
2025-12-18 15:56:40,108 - INFO -   スキップ（訓練期間末尾まで依頼なし）: 4
2025-12-18 15:56:40,108 - INFO - ================================================================================
2025-12-18 15:56:40,108 - ERROR - 評価用軌跡が抽出できませんでした
2025-12-18 15:56:40,108 - WARNING - パターン 3-6m → 9-12m をスキップ
2025-12-18 15:56:40,108 - INFO - 
【8/10】パターン実行中...
2025-12-18 15:56:40,109 - INFO - ================================================================================
2025-12-18 15:56:40,109 - INFO - パターン: 6-9m → 6-9m
2025-12-18 15:56:40,109 - INFO - 訓練期間: 2021-07-01 00:00:00 ～ 2021-10-01 00:00:00
2025-12-18 15:56:40,109 - INFO - 評価期間: 2023-07-01 00:00:00 ～ 2023-10-01 00:00:00
2025-12-18 15:56:40,109 - INFO - ================================================================================
2025-12-18 15:56:40,109 - INFO - レビュー依頼データを読み込み: data/chromium_50proj_2021_2024_feat.csv
2025-12-18 15:56:40,111 - INFO - 総レビュー依頼数: 236
2025-12-18 15:56:40,111 - INFO - 承諾数: 169 (71.6%)
2025-12-18 15:56:40,111 - INFO - 拒否数: 67 (28.4%)
2025-12-18 15:56:40,111 - INFO - 将来窓設定: 0～24ヶ月
2025-12-18 15:56:40,111 - INFO - 訓練用軌跡を抽出...
2025-12-18 15:56:40,111 - INFO - ================================================================================
2025-12-18 15:56:40,111 - INFO - レビュー承諾予測用軌跡抽出を開始（データリークなし版）
2025-12-18 15:56:40,111 - INFO - 訓練期間全体: 2021-07-01 00:00:00 ～ 2021-10-01 00:00:00
2025-12-18 15:56:40,111 - INFO - 将来窓: 0～24ヶ月
2025-12-18 15:56:40,111 - INFO - 拡張ラベル期間: 0～12ヶ月
2025-12-18 15:56:40,111 - INFO - プロジェクト: 全プロジェクト
2025-12-18 15:56:40,111 - INFO - ラベル定義: この期間で承諾=1、この期間で拒否=0、依頼なし→拡張期間チェック、訓練時は拡張期間にも依頼なしで除外
2025-12-18 15:56:40,112 - INFO - データリーク防止: 訓練期間内でラベル計算
2025-12-18 15:56:40,112 - INFO - ================================================================================
2025-12-18 15:56:40,112 - INFO - 特徴量計算期間（訓練全体）: 2021-07-01 00:00:00 ～ 2021-10-01 00:00:00
2025-12-18 15:56:40,112 - INFO - 全体ラベル期間（train_end時点から）: 2021-10-01 00:00:00 ～ 2023-10-01 00:00:00
2025-12-18 15:56:40,112 - INFO - 特徴量計算期間内のレビュアー数: 6
2025-12-18 15:56:40,122 - INFO - ================================================================================
2025-12-18 15:56:40,122 - INFO - 軌跡抽出完了: 4サンプル（レビュアー）
2025-12-18 15:56:40,122 - INFO -   スキップ（最小依頼数未満）: 0
2025-12-18 15:56:40,122 - INFO -   スキップ（訓練期間末尾まで依頼なし）: 2
2025-12-18 15:56:40,122 - INFO -   正例（この期間で承諾あり）: 4 (100.0%)
2025-12-18 15:56:40,122 - INFO -   負例（この期間で承諾なし）: 0 (0.0%)
2025-12-18 15:56:40,122 - INFO -   総ステップ数: 8
2025-12-18 15:56:40,122 - INFO -   継続ステップ率: 62.5% (5/8)
2025-12-18 15:56:40,122 - INFO - ================================================================================
/Users/kazuki-h/research/multiproject_research/.venv/lib/python3.13/site-packages/torch/nn/modules/rnn.py:123: UserWarning: dropout option adds dropout after all but last recurrent layer, so non-zero dropout expects num_layers greater than 1, but got dropout=0.2 and num_layers=1
  warnings.warn(
2025-12-18 15:56:40,123 - INFO - 継続予測IRLシステムを初期化しました
2025-12-18 15:56:40,123 - INFO - 訓練データ正例率: 100.0% (4/4)
2025-12-18 15:56:40,123 - INFO - Focal Loss パラメータ更新: alpha=0.400, gamma=1.000
2025-12-18 15:56:40,123 - INFO - 正例率 100.0% に基づき自動調整: バランス重視（正例率≥60%・軽い正例優先)
2025-12-18 15:56:40,123 - INFO - IRLモデルを訓練...
2025-12-18 15:56:40,123 - INFO - ============================================================
2025-12-18 15:56:40,123 - INFO - 時系列IRL訓練開始
2025-12-18 15:56:40,123 - INFO - 軌跡数: 4
2025-12-18 15:56:40,123 - INFO - エポック数: 20
2025-12-18 15:56:40,123 - INFO - ============================================================
2025-12-18 15:56:40,131 - INFO - エポック 0: 平均損失 = 1.2329
2025-12-18 15:56:40,194 - INFO - エポック 10: 平均損失 = 1.2155
2025-12-18 15:56:40,251 - INFO - 時系列IRL訓練完了
2025-12-18 15:56:40,252 - INFO - 訓練データ上で最適閾値を決定...
2025-12-18 15:56:40,254 - INFO - 最適閾値: 0.5139
2025-12-18 15:56:40,254 - INFO - 訓練データ性能: Precision=1.000, Recall=1.000, F1=1.000
2025-12-18 15:56:40,255 - INFO - モデルを保存: outputs/chromium_50projects_irl/train_6-9m/irl_model.pt
2025-12-18 15:56:40,255 - INFO - 最適閾値を保存: outputs/chromium_50projects_irl/train_6-9m/optimal_threshold.json
2025-12-18 15:56:40,255 - INFO - 評価用軌跡を抽出...
2025-12-18 15:56:40,255 - INFO - ================================================================================
2025-12-18 15:56:40,255 - INFO - 評価用軌跡抽出を開始（スナップショット特徴量用）
2025-12-18 15:56:40,255 - INFO - Cutoff日: 2021-10-01 00:00:00
2025-12-18 15:56:40,255 - INFO - 履歴ウィンドウ: 3ヶ月
2025-12-18 15:56:40,256 - INFO - 将来窓: 21～24ヶ月
2025-12-18 15:56:40,256 - INFO - 拡張ラベル期間: 21～12ヶ月
2025-12-18 15:56:40,256 - INFO - プロジェクト: 全プロジェクト
2025-12-18 15:56:40,256 - INFO - 継続判定: この期間で承諾=1、この期間で拒否=0、依頼なし→拡張期間チェック、評価時は拡張期間にも依頼なしで除外（予測の母集団に入れない）
2025-12-18 15:56:40,256 - INFO - ================================================================================
2025-12-18 15:56:40,256 - INFO - 履歴期間: 2021-07-01 00:00:00 ～ 2021-10-01 00:00:00
2025-12-18 15:56:40,256 - INFO - 評価期間: 2023-07-01 00:00:00 ～ 2023-10-01 00:00:00
2025-12-18 15:56:40,256 - INFO - 履歴期間内のレビュアー数: 6
2025-12-18 15:56:40,260 - INFO - ================================================================================
2025-12-18 15:56:40,260 - INFO - 評価用軌跡抽出完了: 3サンプル
2025-12-18 15:56:40,261 - INFO -   スキップ（最小依頼数未満）: 0
2025-12-18 15:56:40,261 - INFO -   スキップ（訓練期間末尾まで依頼なし）: 3
2025-12-18 15:56:40,261 - INFO -   正例（この期間で承諾あり）: 2 (66.7%)
2025-12-18 15:56:40,261 - INFO -   負例（この期間で承諾なし）: 1 (33.3%)
2025-12-18 15:56:40,261 - INFO -     - 依頼あり→拒否（重み=1.0）: 1
2025-12-18 15:56:40,261 - INFO - ================================================================================
2025-12-18 15:56:40,261 - INFO - 予測を実行...
2025-12-18 15:56:40,264 - INFO - ================================================================================
2025-12-18 15:56:40,264 - INFO - 評価結果 (6-9m → 6-9m):
2025-12-18 15:56:40,264 - INFO -   AUC-ROC: 1.0000
2025-12-18 15:56:40,264 - INFO -   AUC-PR: 1.0000
2025-12-18 15:56:40,264 - INFO -   Precision: 0.6667
2025-12-18 15:56:40,264 - INFO -   Recall: 1.0000
2025-12-18 15:56:40,264 - INFO -   F1 Score: 0.8000
2025-12-18 15:56:40,264 - INFO - ================================================================================
2025-12-18 15:56:40,265 - INFO - 結果を保存: outputs/chromium_50projects_irl/train_6-9m/eval_6-9m
2025-12-18 15:56:40,265 - INFO - 
【9/10】パターン実行中...
2025-12-18 15:56:40,266 - INFO - ================================================================================
2025-12-18 15:56:40,266 - INFO - パターン: 6-9m → 9-12m
2025-12-18 15:56:40,266 - INFO - 訓練期間: 2021-07-01 00:00:00 ～ 2021-10-01 00:00:00
2025-12-18 15:56:40,266 - INFO - 評価期間: 2023-10-01 00:00:00 ～ 2024-01-01 00:00:00
2025-12-18 15:56:40,266 - INFO - ================================================================================
2025-12-18 15:56:40,266 - INFO - レビュー依頼データを読み込み: data/chromium_50proj_2021_2024_feat.csv
2025-12-18 15:56:40,268 - INFO - 総レビュー依頼数: 236
2025-12-18 15:56:40,268 - INFO - 承諾数: 169 (71.6%)
2025-12-18 15:56:40,268 - INFO - 拒否数: 67 (28.4%)
2025-12-18 15:56:40,268 - INFO - 将来窓設定: 0～27ヶ月
2025-12-18 15:56:40,269 - INFO - 訓練用軌跡を抽出...
2025-12-18 15:56:40,269 - INFO - ================================================================================
2025-12-18 15:56:40,269 - INFO - レビュー承諾予測用軌跡抽出を開始（データリークなし版）
2025-12-18 15:56:40,269 - INFO - 訓練期間全体: 2021-07-01 00:00:00 ～ 2021-10-01 00:00:00
2025-12-18 15:56:40,269 - INFO - 将来窓: 0～27ヶ月
2025-12-18 15:56:40,269 - INFO - 拡張ラベル期間: 0～12ヶ月
2025-12-18 15:56:40,269 - INFO - プロジェクト: 全プロジェクト
2025-12-18 15:56:40,269 - INFO - ラベル定義: この期間で承諾=1、この期間で拒否=0、依頼なし→拡張期間チェック、訓練時は拡張期間にも依頼なしで除外
2025-12-18 15:56:40,269 - INFO - データリーク防止: 訓練期間内でラベル計算
2025-12-18 15:56:40,269 - INFO - ================================================================================
2025-12-18 15:56:40,269 - INFO - 特徴量計算期間（訓練全体）: 2021-07-01 00:00:00 ～ 2021-10-01 00:00:00
2025-12-18 15:56:40,269 - INFO - 全体ラベル期間（train_end時点から）: 2021-10-01 00:00:00 ～ 2024-01-01 00:00:00
2025-12-18 15:56:40,270 - INFO - 特徴量計算期間内のレビュアー数: 6
2025-12-18 15:56:40,279 - INFO - ================================================================================
2025-12-18 15:56:40,279 - INFO - 軌跡抽出完了: 4サンプル（レビュアー）
2025-12-18 15:56:40,279 - INFO -   スキップ（最小依頼数未満）: 0
2025-12-18 15:56:40,279 - INFO -   スキップ（訓練期間末尾まで依頼なし）: 2
2025-12-18 15:56:40,279 - INFO -   正例（この期間で承諾あり）: 4 (100.0%)
2025-12-18 15:56:40,279 - INFO -   負例（この期間で承諾なし）: 0 (0.0%)
2025-12-18 15:56:40,279 - INFO -   総ステップ数: 8
2025-12-18 15:56:40,279 - INFO -   継続ステップ率: 62.5% (5/8)
2025-12-18 15:56:40,279 - INFO - ================================================================================
/Users/kazuki-h/research/multiproject_research/.venv/lib/python3.13/site-packages/torch/nn/modules/rnn.py:123: UserWarning: dropout option adds dropout after all but last recurrent layer, so non-zero dropout expects num_layers greater than 1, but got dropout=0.2 and num_layers=1
  warnings.warn(
2025-12-18 15:56:40,280 - INFO - 継続予測IRLシステムを初期化しました
2025-12-18 15:56:40,280 - INFO - 訓練データ正例率: 100.0% (4/4)
2025-12-18 15:56:40,280 - INFO - Focal Loss パラメータ更新: alpha=0.400, gamma=1.000
2025-12-18 15:56:40,280 - INFO - 正例率 100.0% に基づき自動調整: バランス重視（正例率≥60%・軽い正例優先)
2025-12-18 15:56:40,280 - INFO - IRLモデルを訓練...
2025-12-18 15:56:40,280 - INFO - ============================================================
2025-12-18 15:56:40,280 - INFO - 時系列IRL訓練開始
2025-12-18 15:56:40,280 - INFO - 軌跡数: 4
2025-12-18 15:56:40,280 - INFO - エポック数: 20
2025-12-18 15:56:40,280 - INFO - ============================================================
2025-12-18 15:56:40,288 - INFO - エポック 0: 平均損失 = 1.2611
2025-12-18 15:56:40,350 - INFO - エポック 10: 平均損失 = 1.2217
2025-12-18 15:56:40,403 - INFO - 時系列IRL訓練完了
2025-12-18 15:56:40,403 - INFO - 訓練データ上で最適閾値を決定...
2025-12-18 15:56:40,405 - INFO - 最適閾値: 0.5157
2025-12-18 15:56:40,405 - INFO - 訓練データ性能: Precision=1.000, Recall=1.000, F1=1.000
2025-12-18 15:56:40,406 - INFO - モデルを保存: outputs/chromium_50projects_irl/train_6-9m/irl_model.pt
2025-12-18 15:56:40,406 - INFO - 最適閾値を保存: outputs/chromium_50projects_irl/train_6-9m/optimal_threshold.json
2025-12-18 15:56:40,406 - INFO - 評価用軌跡を抽出...
2025-12-18 15:56:40,406 - INFO - ================================================================================
2025-12-18 15:56:40,406 - INFO - 評価用軌跡抽出を開始（スナップショット特徴量用）
2025-12-18 15:56:40,406 - INFO - Cutoff日: 2021-10-01 00:00:00
2025-12-18 15:56:40,406 - INFO - 履歴ウィンドウ: 3ヶ月
2025-12-18 15:56:40,406 - INFO - 将来窓: 24～27ヶ月
2025-12-18 15:56:40,406 - INFO - 拡張ラベル期間: 24～12ヶ月
2025-12-18 15:56:40,406 - INFO - プロジェクト: 全プロジェクト
2025-12-18 15:56:40,406 - INFO - 継続判定: この期間で承諾=1、この期間で拒否=0、依頼なし→拡張期間チェック、評価時は拡張期間にも依頼なしで除外（予測の母集団に入れない）
2025-12-18 15:56:40,406 - INFO - ================================================================================
2025-12-18 15:56:40,406 - INFO - 履歴期間: 2021-07-01 00:00:00 ～ 2021-10-01 00:00:00
2025-12-18 15:56:40,406 - INFO - 評価期間: 2023-10-01 00:00:00 ～ 2024-01-01 00:00:00
2025-12-18 15:56:40,407 - INFO - 履歴期間内のレビュアー数: 6
2025-12-18 15:56:40,409 - INFO - ================================================================================
2025-12-18 15:56:40,409 - INFO - 評価用軌跡抽出完了: 0サンプル
2025-12-18 15:56:40,409 - INFO -   スキップ（最小依頼数未満）: 0
2025-12-18 15:56:40,409 - INFO -   スキップ（訓練期間末尾まで依頼なし）: 6
2025-12-18 15:56:40,409 - INFO - ================================================================================
2025-12-18 15:56:40,409 - ERROR - 評価用軌跡が抽出できませんでした
2025-12-18 15:56:40,409 - WARNING - パターン 6-9m → 9-12m をスキップ
2025-12-18 15:56:40,409 - INFO - 
【10/10】パターン実行中...
2025-12-18 15:56:40,409 - INFO - ================================================================================
2025-12-18 15:56:40,409 - INFO - パターン: 9-12m → 9-12m
2025-12-18 15:56:40,409 - INFO - 訓練期間: 2021-10-01 00:00:00 ～ 2022-01-01 00:00:00
2025-12-18 15:56:40,409 - INFO - 評価期間: 2023-10-01 00:00:00 ～ 2024-01-01 00:00:00
2025-12-18 15:56:40,409 - INFO - ================================================================================
2025-12-18 15:56:40,409 - INFO - レビュー依頼データを読み込み: data/chromium_50proj_2021_2024_feat.csv
2025-12-18 15:56:40,411 - INFO - 総レビュー依頼数: 236
2025-12-18 15:56:40,412 - INFO - 承諾数: 169 (71.6%)
2025-12-18 15:56:40,412 - INFO - 拒否数: 67 (28.4%)
2025-12-18 15:56:40,412 - INFO - 将来窓設定: 0～24ヶ月
2025-12-18 15:56:40,412 - INFO - 訓練用軌跡を抽出...
2025-12-18 15:56:40,412 - INFO - ================================================================================
2025-12-18 15:56:40,412 - INFO - レビュー承諾予測用軌跡抽出を開始（データリークなし版）
2025-12-18 15:56:40,412 - INFO - 訓練期間全体: 2021-10-01 00:00:00 ～ 2022-01-01 00:00:00
2025-12-18 15:56:40,412 - INFO - 将来窓: 0～24ヶ月
2025-12-18 15:56:40,412 - INFO - 拡張ラベル期間: 0～12ヶ月
2025-12-18 15:56:40,412 - INFO - プロジェクト: 全プロジェクト
2025-12-18 15:56:40,412 - INFO - ラベル定義: この期間で承諾=1、この期間で拒否=0、依頼なし→拡張期間チェック、訓練時は拡張期間にも依頼なしで除外
2025-12-18 15:56:40,412 - INFO - データリーク防止: 訓練期間内でラベル計算
2025-12-18 15:56:40,412 - INFO - ================================================================================
2025-12-18 15:56:40,412 - INFO - 特徴量計算期間（訓練全体）: 2021-10-01 00:00:00 ～ 2022-01-01 00:00:00
2025-12-18 15:56:40,412 - INFO - 全体ラベル期間（train_end時点から）: 2022-01-01 00:00:00 ～ 2024-01-01 00:00:00
2025-12-18 15:56:40,412 - INFO - 特徴量計算期間内のレビュアー数: 11
2025-12-18 15:56:40,435 - INFO - ================================================================================
2025-12-18 15:56:40,435 - INFO - 軌跡抽出完了: 10サンプル（レビュアー）
2025-12-18 15:56:40,435 - INFO -   スキップ（最小依頼数未満）: 0
2025-12-18 15:56:40,435 - INFO -   スキップ（訓練期間末尾まで依頼なし）: 1
2025-12-18 15:56:40,435 - INFO -   正例（この期間で承諾あり）: 10 (100.0%)
2025-12-18 15:56:40,435 - INFO -   負例（この期間で承諾なし）: 0 (0.0%)
2025-12-18 15:56:40,435 - INFO -   総ステップ数: 20
2025-12-18 15:56:40,435 - INFO -   継続ステップ率: 80.0% (16/20)
2025-12-18 15:56:40,435 - INFO - ================================================================================
/Users/kazuki-h/research/multiproject_research/.venv/lib/python3.13/site-packages/torch/nn/modules/rnn.py:123: UserWarning: dropout option adds dropout after all but last recurrent layer, so non-zero dropout expects num_layers greater than 1, but got dropout=0.2 and num_layers=1
  warnings.warn(
2025-12-18 15:56:40,436 - INFO - 継続予測IRLシステムを初期化しました
2025-12-18 15:56:40,436 - INFO - 訓練データ正例率: 100.0% (10/10)
2025-12-18 15:56:40,436 - INFO - Focal Loss パラメータ更新: alpha=0.400, gamma=1.000
2025-12-18 15:56:40,436 - INFO - 正例率 100.0% に基づき自動調整: バランス重視（正例率≥60%・軽い正例優先)
2025-12-18 15:56:40,436 - INFO - IRLモデルを訓練...
2025-12-18 15:56:40,436 - INFO - ============================================================
2025-12-18 15:56:40,436 - INFO - 時系列IRL訓練開始
2025-12-18 15:56:40,436 - INFO - 軌跡数: 10
2025-12-18 15:56:40,436 - INFO - エポック数: 20
2025-12-18 15:56:40,436 - INFO - ============================================================
2025-12-18 15:56:40,453 - INFO - エポック 0: 平均損失 = 1.2522
2025-12-18 15:56:40,606 - INFO - エポック 10: 平均損失 = 1.1624
2025-12-18 15:56:40,744 - INFO - 時系列IRL訓練完了
2025-12-18 15:56:40,744 - INFO - 訓練データ上で最適閾値を決定...
2025-12-18 15:56:40,751 - INFO - 最適閾値: 0.5368
2025-12-18 15:56:40,751 - INFO - 訓練データ性能: Precision=1.000, Recall=1.000, F1=1.000
2025-12-18 15:56:40,752 - INFO - モデルを保存: outputs/chromium_50projects_irl/train_9-12m/irl_model.pt
2025-12-18 15:56:40,753 - INFO - 最適閾値を保存: outputs/chromium_50projects_irl/train_9-12m/optimal_threshold.json
2025-12-18 15:56:40,753 - INFO - 評価用軌跡を抽出...
2025-12-18 15:56:40,753 - INFO - ================================================================================
2025-12-18 15:56:40,753 - INFO - 評価用軌跡抽出を開始（スナップショット特徴量用）
2025-12-18 15:56:40,753 - INFO - Cutoff日: 2022-01-01 00:00:00
2025-12-18 15:56:40,753 - INFO - 履歴ウィンドウ: 3ヶ月
2025-12-18 15:56:40,753 - INFO - 将来窓: 21～24ヶ月
2025-12-18 15:56:40,753 - INFO - 拡張ラベル期間: 21～12ヶ月
2025-12-18 15:56:40,753 - INFO - プロジェクト: 全プロジェクト
2025-12-18 15:56:40,753 - INFO - 継続判定: この期間で承諾=1、この期間で拒否=0、依頼なし→拡張期間チェック、評価時は拡張期間にも依頼なしで除外（予測の母集団に入れない）
2025-12-18 15:56:40,753 - INFO - ================================================================================
2025-12-18 15:56:40,753 - INFO - 履歴期間: 2021-10-01 00:00:00 ～ 2022-01-01 00:00:00
2025-12-18 15:56:40,753 - INFO - 評価期間: 2023-10-01 00:00:00 ～ 2024-01-01 00:00:00
2025-12-18 15:56:40,754 - INFO - 履歴期間内のレビュアー数: 11
2025-12-18 15:56:40,757 - INFO - ================================================================================
2025-12-18 15:56:40,757 - INFO - 評価用軌跡抽出完了: 0サンプル
2025-12-18 15:56:40,757 - INFO -   スキップ（最小依頼数未満）: 0
2025-12-18 15:56:40,757 - INFO -   スキップ（訓練期間末尾まで依頼なし）: 11
2025-12-18 15:56:40,757 - INFO - ================================================================================
2025-12-18 15:56:40,757 - ERROR - 評価用軌跡が抽出できませんでした
2025-12-18 15:56:40,757 - WARNING - パターン 9-12m → 9-12m をスキップ
2025-12-18 15:56:40,757 - INFO - ================================================================================
2025-12-18 15:56:40,757 - INFO - メトリクスマトリクスを作成中...
2025-12-18 15:56:40,757 - INFO - ================================================================================
2025-12-18 15:56:40,759 - INFO - 保存: outputs/chromium_50projects_irl/matrix_AUC_ROC.csv
2025-12-18 15:56:40,762 - INFO - 
       0-3m  3-6m  6-9m  9-12m
0-3m    NaN   NaN   0.0    NaN
3-6m    NaN   NaN   0.0    NaN
6-9m    NaN   NaN   1.0    NaN
9-12m   NaN   NaN   NaN    NaN
2025-12-18 15:56:40,763 - INFO - 保存: outputs/chromium_50projects_irl/matrix_AUC_PR.csv
2025-12-18 15:56:40,764 - INFO - 
       0-3m  3-6m  6-9m  9-12m
0-3m    1.0   1.0  0.25    NaN
3-6m    NaN   1.0  0.25    NaN
6-9m    NaN   NaN  1.00    NaN
9-12m   NaN   NaN   NaN    NaN
2025-12-18 15:56:40,764 - INFO - 保存: outputs/chromium_50projects_irl/matrix_PRECISION.csv
2025-12-18 15:56:40,766 - INFO - 
       0-3m  3-6m      6-9m  9-12m
0-3m    1.0   1.0  0.500000    NaN
3-6m    NaN   1.0  0.500000    NaN
6-9m    NaN   NaN  0.666667    NaN
9-12m   NaN   NaN       NaN    NaN
2025-12-18 15:56:40,766 - INFO - 保存: outputs/chromium_50projects_irl/matrix_RECALL.csv
2025-12-18 15:56:40,767 - INFO - 
       0-3m  3-6m  6-9m  9-12m
0-3m    1.0   1.0   1.0    NaN
3-6m    NaN   1.0   1.0    NaN
6-9m    NaN   NaN   1.0    NaN
9-12m   NaN   NaN   NaN    NaN
2025-12-18 15:56:40,767 - INFO - 保存: outputs/chromium_50projects_irl/matrix_f1_score.csv
2025-12-18 15:56:40,768 - INFO - 
       0-3m  3-6m      6-9m  9-12m
0-3m    1.0   1.0  0.666667    NaN
3-6m    NaN   1.0  0.666667    NaN
6-9m    NaN   NaN  0.800000    NaN
9-12m   NaN   NaN       NaN    NaN
2025-12-18 15:56:40,768 - INFO - ================================================================================
2025-12-18 15:56:40,768 - INFO - マトリクス作成完了
2025-12-18 15:56:40,768 - INFO - ================================================================================
2025-12-18 15:56:40,769 - INFO - ================================================================================
2025-12-18 15:56:40,769 - INFO - 全パターンの訓練・評価が完了しました
2025-12-18 15:56:40,769 - INFO - 結果: outputs/chromium_50projects_irl
2025-12-18 15:56:40,769 - INFO - ================================================================================
