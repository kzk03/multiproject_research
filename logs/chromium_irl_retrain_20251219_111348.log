2025-12-19 11:13:48,992 - INFO - 訓練期間ベース: 2021-01-01 00:00:00
2025-12-19 11:13:48,992 - INFO - 評価期間ベース: 2023-01-01 00:00:00
2025-12-19 11:13:48,992 - INFO - 生成されたパターン数: 10
2025-12-19 11:13:48,992 - INFO -   0-3m → 0-3m
2025-12-19 11:13:48,992 - INFO -   0-3m → 3-6m
2025-12-19 11:13:48,992 - INFO -   0-3m → 6-9m
2025-12-19 11:13:48,992 - INFO -   0-3m → 9-12m
2025-12-19 11:13:48,992 - INFO -   3-6m → 3-6m
2025-12-19 11:13:48,992 - INFO -   3-6m → 6-9m
2025-12-19 11:13:48,992 - INFO -   3-6m → 9-12m
2025-12-19 11:13:48,992 - INFO -   6-9m → 6-9m
2025-12-19 11:13:48,992 - INFO -   6-9m → 9-12m
2025-12-19 11:13:48,992 - INFO -   9-12m → 9-12m
2025-12-19 11:13:48,992 - INFO - ================================================================================
2025-12-19 11:13:48,992 - INFO - 全10パターンの訓練・評価を開始
2025-12-19 11:13:48,992 - INFO - ================================================================================
2025-12-19 11:13:48,992 - INFO - 
【1/10】パターン実行中...
2025-12-19 11:13:48,992 - INFO - ================================================================================
2025-12-19 11:13:48,992 - INFO - パターン: 0-3m → 0-3m
2025-12-19 11:13:48,992 - INFO - 訓練期間: 2021-01-01 00:00:00 ～ 2021-04-01 00:00:00
2025-12-19 11:13:48,992 - INFO - 評価期間: 2023-01-01 00:00:00 ～ 2023-04-01 00:00:00
2025-12-19 11:13:48,992 - INFO - ================================================================================
2025-12-19 11:13:50,292 - INFO - レビュー依頼データを読み込み: data/chromium_50proj_2021_2024_feat.csv
2025-12-19 11:13:50,499 - INFO - 総レビュー依頼数: 39385
2025-12-19 11:13:50,500 - INFO - 承諾数: 30785 (78.2%)
2025-12-19 11:13:50,500 - INFO - 拒否数: 8600 (21.8%)
2025-12-19 11:13:50,500 - INFO - 将来窓設定: 0～24ヶ月
2025-12-19 11:13:50,500 - INFO - 訓練用軌跡を抽出...
2025-12-19 11:13:50,500 - INFO - ================================================================================
2025-12-19 11:13:50,500 - INFO - レビュー承諾予測用軌跡抽出を開始（データリークなし版）
2025-12-19 11:13:50,500 - INFO - 訓練期間全体: 2021-01-01 00:00:00 ～ 2021-04-01 00:00:00
2025-12-19 11:13:50,500 - INFO - 将来窓: 0～24ヶ月
2025-12-19 11:13:50,500 - INFO - 拡張ラベル期間: 0～12ヶ月
2025-12-19 11:13:50,500 - INFO - プロジェクト: 全プロジェクト
2025-12-19 11:13:50,500 - INFO - ラベル定義: この期間で承諾=1、この期間で拒否=0、依頼なし→拡張期間チェック、訓練時は拡張期間にも依頼なしで除外
2025-12-19 11:13:50,500 - INFO - データリーク防止: 訓練期間内でラベル計算
2025-12-19 11:13:50,500 - INFO - ================================================================================
2025-12-19 11:13:50,500 - INFO - 特徴量計算期間（訓練全体）: 2021-01-01 00:00:00 ～ 2021-04-01 00:00:00
2025-12-19 11:13:50,500 - INFO - 全体ラベル期間（train_end時点から）: 2021-04-01 00:00:00 ～ 2023-04-01 00:00:00
2025-12-19 11:13:50,505 - INFO - 特徴量計算期間内のレビュアー数: 153
2025-12-19 11:13:51,155 - INFO - ================================================================================
2025-12-19 11:13:51,155 - INFO - 軌跡抽出完了: 105サンプル（レビュアー）
2025-12-19 11:13:51,155 - INFO -   スキップ（最小依頼数未満）: 0
2025-12-19 11:13:51,155 - INFO -   スキップ（訓練期間末尾まで依頼なし）: 48
2025-12-19 11:13:51,155 - INFO -   正例（この期間で承諾あり）: 97 (92.4%)
2025-12-19 11:13:51,155 - INFO -   負例（この期間で承諾なし）: 8 (7.6%)
2025-12-19 11:13:51,155 - INFO -     - 依頼あり→拒否（重み=1.0）: 8
2025-12-19 11:13:51,156 - INFO -   総ステップ数: 210
2025-12-19 11:13:51,156 - INFO -   継続ステップ率: 61.0% (128/210)
2025-12-19 11:13:51,156 - INFO - ================================================================================
/Users/kazuki-h/research/multiproject_research/.venv/lib/python3.13/site-packages/torch/nn/modules/rnn.py:123: UserWarning: dropout option adds dropout after all but last recurrent layer, so non-zero dropout expects num_layers greater than 1, but got dropout=0.2 and num_layers=1
  warnings.warn(
2025-12-19 11:13:51,575 - INFO - 継続予測IRLシステムを初期化しました
2025-12-19 11:13:51,575 - INFO - 訓練データ正例率: 92.4% (97/105)
2025-12-19 11:13:51,575 - INFO - Focal Loss パラメータ更新: alpha=0.400, gamma=1.000
2025-12-19 11:13:51,575 - INFO - 正例率 92.4% に基づき自動調整: バランス重視（正例率≥60%・軽い正例優先)
2025-12-19 11:13:51,575 - INFO - IRLモデルを訓練...
2025-12-19 11:13:51,575 - INFO - ============================================================
2025-12-19 11:13:51,575 - INFO - 時系列IRL訓練開始
2025-12-19 11:13:51,575 - INFO - 軌跡数: 105
2025-12-19 11:13:51,575 - INFO - エポック数: 20
2025-12-19 11:13:51,575 - INFO - ============================================================
2025-12-19 11:13:51,827 - INFO - エポック 0: 平均損失 = 1.1466
2025-12-19 11:13:53,748 - INFO - エポック 10: 平均損失 = 0.7846
2025-12-19 11:13:55,472 - INFO - 時系列IRL訓練完了
2025-12-19 11:13:55,472 - INFO - 訓練データ上で最適閾値を決定...
2025-12-19 11:13:57,999 - INFO - 最適閾値: 0.0892
2025-12-19 11:13:57,999 - INFO - 訓練データ性能: Precision=0.924, Recall=1.000, F1=0.960
2025-12-19 11:13:58,001 - INFO - モデルを保存: outputs/chromium_50projects_irl/train_0-3m/irl_model.pt
2025-12-19 11:13:58,001 - INFO - 最適閾値を保存: outputs/chromium_50projects_irl/train_0-3m/optimal_threshold.json
2025-12-19 11:13:58,001 - INFO - 評価用軌跡を抽出...
2025-12-19 11:13:58,001 - INFO - ================================================================================
2025-12-19 11:13:58,001 - INFO - 評価用軌跡抽出を開始（スナップショット特徴量用）
2025-12-19 11:13:58,001 - INFO - Cutoff日: 2021-04-01 00:00:00
2025-12-19 11:13:58,001 - INFO - 履歴ウィンドウ: 3ヶ月
2025-12-19 11:13:58,001 - INFO - 将来窓: 21～24ヶ月
2025-12-19 11:13:58,001 - INFO - 拡張ラベル期間: 21～12ヶ月
2025-12-19 11:13:58,001 - INFO - プロジェクト: 全プロジェクト
2025-12-19 11:13:58,001 - INFO - 継続判定: この期間で承諾=1、この期間で拒否=0、依頼なし→拡張期間チェック、評価時は拡張期間にも依頼なしで除外（予測の母集団に入れない）
2025-12-19 11:13:58,001 - INFO - ================================================================================
2025-12-19 11:13:58,001 - INFO - 履歴期間: 2021-01-01 00:00:00 ～ 2021-04-01 00:00:00
2025-12-19 11:13:58,001 - INFO - 評価期間: 2023-01-01 00:00:00 ～ 2023-04-01 00:00:00
2025-12-19 11:13:58,003 - INFO - 履歴期間内のレビュアー数: 153
2025-12-19 11:13:58,142 - INFO - ================================================================================
2025-12-19 11:13:58,142 - INFO - 評価用軌跡抽出完了: 58サンプル
2025-12-19 11:13:58,142 - INFO -   スキップ（最小依頼数未満）: 0
2025-12-19 11:13:58,142 - INFO -   スキップ（訓練期間末尾まで依頼なし）: 95
2025-12-19 11:13:58,142 - INFO -   正例（この期間で承諾あり）: 51 (87.9%)
2025-12-19 11:13:58,142 - INFO -   負例（この期間で承諾なし）: 7 (12.1%)
2025-12-19 11:13:58,142 - INFO -     - 依頼あり→拒否（重み=1.0）: 7
2025-12-19 11:13:58,142 - INFO - ================================================================================
2025-12-19 11:13:58,142 - INFO - 予測を実行...
2025-12-19 11:14:00,505 - INFO - ================================================================================
2025-12-19 11:14:00,506 - INFO - 評価結果 (0-3m → 0-3m):
2025-12-19 11:14:00,506 - INFO -   AUC-ROC: 0.2661
2025-12-19 11:14:00,506 - INFO -   AUC-PR: 0.7947
2025-12-19 11:14:00,506 - INFO -   Precision: 0.8793
2025-12-19 11:14:00,506 - INFO -   Recall: 1.0000
2025-12-19 11:14:00,506 - INFO -   F1 Score: 0.9358
2025-12-19 11:14:00,506 - INFO - ================================================================================
2025-12-19 11:14:00,508 - INFO - 結果を保存: outputs/chromium_50projects_irl/train_0-3m/eval_0-3m
2025-12-19 11:14:00,511 - INFO - 
【2/10】パターン実行中...
2025-12-19 11:14:00,511 - INFO - ================================================================================
2025-12-19 11:14:00,511 - INFO - パターン: 0-3m → 3-6m
2025-12-19 11:14:00,511 - INFO - 訓練期間: 2021-01-01 00:00:00 ～ 2021-04-01 00:00:00
2025-12-19 11:14:00,511 - INFO - 評価期間: 2023-04-01 00:00:00 ～ 2023-07-01 00:00:00
2025-12-19 11:14:00,511 - INFO - ================================================================================
2025-12-19 11:14:00,511 - INFO - レビュー依頼データを読み込み: data/chromium_50proj_2021_2024_feat.csv
2025-12-19 11:14:00,689 - INFO - 総レビュー依頼数: 39385
2025-12-19 11:14:00,690 - INFO - 承諾数: 30785 (78.2%)
2025-12-19 11:14:00,690 - INFO - 拒否数: 8600 (21.8%)
2025-12-19 11:14:00,690 - INFO - 将来窓設定: 0～27ヶ月
2025-12-19 11:14:00,690 - INFO - 訓練用軌跡を抽出...
2025-12-19 11:14:00,690 - INFO - ================================================================================
2025-12-19 11:14:00,690 - INFO - レビュー承諾予測用軌跡抽出を開始（データリークなし版）
2025-12-19 11:14:00,690 - INFO - 訓練期間全体: 2021-01-01 00:00:00 ～ 2021-04-01 00:00:00
2025-12-19 11:14:00,690 - INFO - 将来窓: 0～27ヶ月
2025-12-19 11:14:00,690 - INFO - 拡張ラベル期間: 0～12ヶ月
2025-12-19 11:14:00,690 - INFO - プロジェクト: 全プロジェクト
2025-12-19 11:14:00,690 - INFO - ラベル定義: この期間で承諾=1、この期間で拒否=0、依頼なし→拡張期間チェック、訓練時は拡張期間にも依頼なしで除外
2025-12-19 11:14:00,690 - INFO - データリーク防止: 訓練期間内でラベル計算
2025-12-19 11:14:00,690 - INFO - ================================================================================
2025-12-19 11:14:00,690 - INFO - 特徴量計算期間（訓練全体）: 2021-01-01 00:00:00 ～ 2021-04-01 00:00:00
2025-12-19 11:14:00,690 - INFO - 全体ラベル期間（train_end時点から）: 2021-04-01 00:00:00 ～ 2023-07-01 00:00:00
2025-12-19 11:14:00,694 - INFO - 特徴量計算期間内のレビュアー数: 153
2025-12-19 11:14:01,326 - INFO - ================================================================================
2025-12-19 11:14:01,326 - INFO - 軌跡抽出完了: 107サンプル（レビュアー）
2025-12-19 11:14:01,326 - INFO -   スキップ（最小依頼数未満）: 0
2025-12-19 11:14:01,326 - INFO -   スキップ（訓練期間末尾まで依頼なし）: 46
2025-12-19 11:14:01,326 - INFO -   正例（この期間で承諾あり）: 99 (92.5%)
2025-12-19 11:14:01,326 - INFO -   負例（この期間で承諾なし）: 8 (7.5%)
2025-12-19 11:14:01,326 - INFO -     - 依頼あり→拒否（重み=1.0）: 8
2025-12-19 11:14:01,326 - INFO -   総ステップ数: 214
2025-12-19 11:14:01,326 - INFO -   継続ステップ率: 60.7% (130/214)
2025-12-19 11:14:01,326 - INFO - ================================================================================
/Users/kazuki-h/research/multiproject_research/.venv/lib/python3.13/site-packages/torch/nn/modules/rnn.py:123: UserWarning: dropout option adds dropout after all but last recurrent layer, so non-zero dropout expects num_layers greater than 1, but got dropout=0.2 and num_layers=1
  warnings.warn(
2025-12-19 11:14:01,328 - INFO - 継続予測IRLシステムを初期化しました
2025-12-19 11:14:01,328 - INFO - 訓練データ正例率: 92.5% (99/107)
2025-12-19 11:14:01,328 - INFO - Focal Loss パラメータ更新: alpha=0.400, gamma=1.000
2025-12-19 11:14:01,328 - INFO - 正例率 92.5% に基づき自動調整: バランス重視（正例率≥60%・軽い正例優先)
2025-12-19 11:14:01,328 - INFO - IRLモデルを訓練...
2025-12-19 11:14:01,328 - INFO - ============================================================
2025-12-19 11:14:01,328 - INFO - 時系列IRL訓練開始
2025-12-19 11:14:01,328 - INFO - 軌跡数: 107
2025-12-19 11:14:01,328 - INFO - エポック数: 20
2025-12-19 11:14:01,328 - INFO - ============================================================
2025-12-19 11:14:01,538 - INFO - エポック 0: 平均損失 = 1.1505
2025-12-19 11:14:03,657 - INFO - エポック 10: 平均損失 = 0.8254
2025-12-19 11:14:05,552 - INFO - 時系列IRL訓練完了
2025-12-19 11:14:05,552 - INFO - 訓練データ上で最適閾値を決定...
2025-12-19 11:14:08,096 - INFO - 最適閾値: 0.1043
2025-12-19 11:14:08,096 - INFO - 訓練データ性能: Precision=0.925, Recall=1.000, F1=0.961
2025-12-19 11:14:08,098 - INFO - モデルを保存: outputs/chromium_50projects_irl/train_0-3m/irl_model.pt
2025-12-19 11:14:08,098 - INFO - 最適閾値を保存: outputs/chromium_50projects_irl/train_0-3m/optimal_threshold.json
2025-12-19 11:14:08,098 - INFO - 評価用軌跡を抽出...
2025-12-19 11:14:08,098 - INFO - ================================================================================
2025-12-19 11:14:08,098 - INFO - 評価用軌跡抽出を開始（スナップショット特徴量用）
2025-12-19 11:14:08,098 - INFO - Cutoff日: 2021-04-01 00:00:00
2025-12-19 11:14:08,098 - INFO - 履歴ウィンドウ: 3ヶ月
2025-12-19 11:14:08,098 - INFO - 将来窓: 24～27ヶ月
2025-12-19 11:14:08,098 - INFO - 拡張ラベル期間: 24～12ヶ月
2025-12-19 11:14:08,098 - INFO - プロジェクト: 全プロジェクト
2025-12-19 11:14:08,098 - INFO - 継続判定: この期間で承諾=1、この期間で拒否=0、依頼なし→拡張期間チェック、評価時は拡張期間にも依頼なしで除外（予測の母集団に入れない）
2025-12-19 11:14:08,098 - INFO - ================================================================================
2025-12-19 11:14:08,098 - INFO - 履歴期間: 2021-01-01 00:00:00 ～ 2021-04-01 00:00:00
2025-12-19 11:14:08,098 - INFO - 評価期間: 2023-04-01 00:00:00 ～ 2023-07-01 00:00:00
2025-12-19 11:14:08,100 - INFO - 履歴期間内のレビュアー数: 153
2025-12-19 11:14:08,230 - INFO - ================================================================================
2025-12-19 11:14:08,230 - INFO - 評価用軌跡抽出完了: 47サンプル
2025-12-19 11:14:08,230 - INFO -   スキップ（最小依頼数未満）: 0
2025-12-19 11:14:08,230 - INFO -   スキップ（訓練期間末尾まで依頼なし）: 106
2025-12-19 11:14:08,230 - INFO -   正例（この期間で承諾あり）: 45 (95.7%)
2025-12-19 11:14:08,230 - INFO -   負例（この期間で承諾なし）: 2 (4.3%)
2025-12-19 11:14:08,231 - INFO -     - 依頼あり→拒否（重み=1.0）: 2
2025-12-19 11:14:08,231 - INFO - ================================================================================
2025-12-19 11:14:08,231 - INFO - 予測を実行...
2025-12-19 11:14:10,679 - INFO - ================================================================================
2025-12-19 11:14:10,679 - INFO - 評価結果 (0-3m → 3-6m):
2025-12-19 11:14:10,679 - INFO -   AUC-ROC: 0.7889
2025-12-19 11:14:10,679 - INFO -   AUC-PR: 0.9897
2025-12-19 11:14:10,679 - INFO -   Precision: 0.9574
2025-12-19 11:14:10,679 - INFO -   Recall: 1.0000
2025-12-19 11:14:10,679 - INFO -   F1 Score: 0.9783
2025-12-19 11:14:10,679 - INFO - ================================================================================
2025-12-19 11:14:10,680 - INFO - 結果を保存: outputs/chromium_50projects_irl/train_0-3m/eval_3-6m
2025-12-19 11:14:10,683 - INFO - 
【3/10】パターン実行中...
2025-12-19 11:14:10,683 - INFO - ================================================================================
2025-12-19 11:14:10,683 - INFO - パターン: 0-3m → 6-9m
2025-12-19 11:14:10,683 - INFO - 訓練期間: 2021-01-01 00:00:00 ～ 2021-04-01 00:00:00
2025-12-19 11:14:10,683 - INFO - 評価期間: 2023-07-01 00:00:00 ～ 2023-10-01 00:00:00
2025-12-19 11:14:10,683 - INFO - ================================================================================
2025-12-19 11:14:10,683 - INFO - レビュー依頼データを読み込み: data/chromium_50proj_2021_2024_feat.csv
2025-12-19 11:14:10,867 - INFO - 総レビュー依頼数: 39385
2025-12-19 11:14:10,867 - INFO - 承諾数: 30785 (78.2%)
2025-12-19 11:14:10,867 - INFO - 拒否数: 8600 (21.8%)
2025-12-19 11:14:10,867 - INFO - 将来窓設定: 0～30ヶ月
2025-12-19 11:14:10,867 - INFO - 訓練用軌跡を抽出...
2025-12-19 11:14:10,867 - INFO - ================================================================================
2025-12-19 11:14:10,867 - INFO - レビュー承諾予測用軌跡抽出を開始（データリークなし版）
2025-12-19 11:14:10,867 - INFO - 訓練期間全体: 2021-01-01 00:00:00 ～ 2021-04-01 00:00:00
2025-12-19 11:14:10,867 - INFO - 将来窓: 0～30ヶ月
2025-12-19 11:14:10,867 - INFO - 拡張ラベル期間: 0～12ヶ月
2025-12-19 11:14:10,867 - INFO - プロジェクト: 全プロジェクト
2025-12-19 11:14:10,867 - INFO - ラベル定義: この期間で承諾=1、この期間で拒否=0、依頼なし→拡張期間チェック、訓練時は拡張期間にも依頼なしで除外
2025-12-19 11:14:10,867 - INFO - データリーク防止: 訓練期間内でラベル計算
2025-12-19 11:14:10,867 - INFO - ================================================================================
2025-12-19 11:14:10,867 - INFO - 特徴量計算期間（訓練全体）: 2021-01-01 00:00:00 ～ 2021-04-01 00:00:00
2025-12-19 11:14:10,867 - INFO - 全体ラベル期間（train_end時点から）: 2021-04-01 00:00:00 ～ 2023-10-01 00:00:00
2025-12-19 11:14:10,871 - INFO - 特徴量計算期間内のレビュアー数: 153
2025-12-19 11:14:11,528 - INFO - ================================================================================
2025-12-19 11:14:11,528 - INFO - 軌跡抽出完了: 108サンプル（レビュアー）
2025-12-19 11:14:11,528 - INFO -   スキップ（最小依頼数未満）: 0
2025-12-19 11:14:11,528 - INFO -   スキップ（訓練期間末尾まで依頼なし）: 45
2025-12-19 11:14:11,528 - INFO -   正例（この期間で承諾あり）: 100 (92.6%)
2025-12-19 11:14:11,528 - INFO -   負例（この期間で承諾なし）: 8 (7.4%)
2025-12-19 11:14:11,528 - INFO -     - 依頼あり→拒否（重み=1.0）: 8
2025-12-19 11:14:11,528 - INFO -   総ステップ数: 216
2025-12-19 11:14:11,528 - INFO -   継続ステップ率: 61.1% (132/216)
2025-12-19 11:14:11,528 - INFO - ================================================================================
/Users/kazuki-h/research/multiproject_research/.venv/lib/python3.13/site-packages/torch/nn/modules/rnn.py:123: UserWarning: dropout option adds dropout after all but last recurrent layer, so non-zero dropout expects num_layers greater than 1, but got dropout=0.2 and num_layers=1
  warnings.warn(
2025-12-19 11:14:11,530 - INFO - 継続予測IRLシステムを初期化しました
2025-12-19 11:14:11,530 - INFO - 訓練データ正例率: 92.6% (100/108)
2025-12-19 11:14:11,530 - INFO - Focal Loss パラメータ更新: alpha=0.400, gamma=1.000
2025-12-19 11:14:11,530 - INFO - 正例率 92.6% に基づき自動調整: バランス重視（正例率≥60%・軽い正例優先)
2025-12-19 11:14:11,530 - INFO - IRLモデルを訓練...
2025-12-19 11:14:11,530 - INFO - ============================================================
2025-12-19 11:14:11,530 - INFO - 時系列IRL訓練開始
2025-12-19 11:14:11,530 - INFO - 軌跡数: 108
2025-12-19 11:14:11,530 - INFO - エポック数: 20
2025-12-19 11:14:11,530 - INFO - ============================================================
2025-12-19 11:14:11,759 - INFO - エポック 0: 平均損失 = 1.1267
2025-12-19 11:14:13,981 - INFO - エポック 10: 平均損失 = 0.8114
2025-12-19 11:14:15,765 - INFO - 時系列IRL訓練完了
2025-12-19 11:14:15,765 - INFO - 訓練データ上で最適閾値を決定...
2025-12-19 11:14:18,195 - INFO - 最適閾値: 0.0915
2025-12-19 11:14:18,195 - INFO - 訓練データ性能: Precision=0.926, Recall=1.000, F1=0.962
2025-12-19 11:14:18,196 - INFO - モデルを保存: outputs/chromium_50projects_irl/train_0-3m/irl_model.pt
2025-12-19 11:14:18,196 - INFO - 最適閾値を保存: outputs/chromium_50projects_irl/train_0-3m/optimal_threshold.json
2025-12-19 11:14:18,196 - INFO - 評価用軌跡を抽出...
2025-12-19 11:14:18,196 - INFO - ================================================================================
2025-12-19 11:14:18,196 - INFO - 評価用軌跡抽出を開始（スナップショット特徴量用）
2025-12-19 11:14:18,196 - INFO - Cutoff日: 2021-04-01 00:00:00
2025-12-19 11:14:18,196 - INFO - 履歴ウィンドウ: 3ヶ月
2025-12-19 11:14:18,196 - INFO - 将来窓: 27～30ヶ月
2025-12-19 11:14:18,196 - INFO - 拡張ラベル期間: 27～12ヶ月
2025-12-19 11:14:18,196 - INFO - プロジェクト: 全プロジェクト
2025-12-19 11:14:18,196 - INFO - 継続判定: この期間で承諾=1、この期間で拒否=0、依頼なし→拡張期間チェック、評価時は拡張期間にも依頼なしで除外（予測の母集団に入れない）
2025-12-19 11:14:18,196 - INFO - ================================================================================
2025-12-19 11:14:18,196 - INFO - 履歴期間: 2021-01-01 00:00:00 ～ 2021-04-01 00:00:00
2025-12-19 11:14:18,196 - INFO - 評価期間: 2023-07-01 00:00:00 ～ 2023-10-01 00:00:00
2025-12-19 11:14:18,198 - INFO - 履歴期間内のレビュアー数: 153
2025-12-19 11:14:18,330 - INFO - ================================================================================
2025-12-19 11:14:18,330 - INFO - 評価用軌跡抽出完了: 58サンプル
2025-12-19 11:14:18,330 - INFO -   スキップ（最小依頼数未満）: 0
2025-12-19 11:14:18,330 - INFO -   スキップ（訓練期間末尾まで依頼なし）: 95
2025-12-19 11:14:18,330 - INFO -   正例（この期間で承諾あり）: 49 (84.5%)
2025-12-19 11:14:18,331 - INFO -   負例（この期間で承諾なし）: 9 (15.5%)
2025-12-19 11:14:18,331 - INFO -     - 依頼あり→拒否（重み=1.0）: 9
2025-12-19 11:14:18,331 - INFO - ================================================================================
2025-12-19 11:14:18,331 - INFO - 予測を実行...
2025-12-19 11:14:20,677 - INFO - ================================================================================
2025-12-19 11:14:20,677 - INFO - 評価結果 (0-3m → 6-9m):
2025-12-19 11:14:20,677 - INFO -   AUC-ROC: 0.4410
2025-12-19 11:14:20,677 - INFO -   AUC-PR: 0.8213
2025-12-19 11:14:20,677 - INFO -   Precision: 0.8448
2025-12-19 11:14:20,677 - INFO -   Recall: 1.0000
2025-12-19 11:14:20,677 - INFO -   F1 Score: 0.9159
2025-12-19 11:14:20,677 - INFO - ================================================================================
2025-12-19 11:14:20,678 - INFO - 結果を保存: outputs/chromium_50projects_irl/train_0-3m/eval_6-9m
2025-12-19 11:14:20,681 - INFO - 
【4/10】パターン実行中...
2025-12-19 11:14:20,681 - INFO - ================================================================================
2025-12-19 11:14:20,681 - INFO - パターン: 0-3m → 9-12m
2025-12-19 11:14:20,681 - INFO - 訓練期間: 2021-01-01 00:00:00 ～ 2021-04-01 00:00:00
2025-12-19 11:14:20,681 - INFO - 評価期間: 2023-10-01 00:00:00 ～ 2024-01-01 00:00:00
2025-12-19 11:14:20,681 - INFO - ================================================================================
2025-12-19 11:14:20,681 - INFO - レビュー依頼データを読み込み: data/chromium_50proj_2021_2024_feat.csv
2025-12-19 11:14:20,852 - INFO - 総レビュー依頼数: 39385
2025-12-19 11:14:20,852 - INFO - 承諾数: 30785 (78.2%)
2025-12-19 11:14:20,853 - INFO - 拒否数: 8600 (21.8%)
2025-12-19 11:14:20,853 - INFO - 将来窓設定: 0～33ヶ月
2025-12-19 11:14:20,853 - INFO - 訓練用軌跡を抽出...
2025-12-19 11:14:20,853 - INFO - ================================================================================
2025-12-19 11:14:20,853 - INFO - レビュー承諾予測用軌跡抽出を開始（データリークなし版）
2025-12-19 11:14:20,853 - INFO - 訓練期間全体: 2021-01-01 00:00:00 ～ 2021-04-01 00:00:00
2025-12-19 11:14:20,853 - INFO - 将来窓: 0～33ヶ月
2025-12-19 11:14:20,853 - INFO - 拡張ラベル期間: 0～12ヶ月
2025-12-19 11:14:20,853 - INFO - プロジェクト: 全プロジェクト
2025-12-19 11:14:20,853 - INFO - ラベル定義: この期間で承諾=1、この期間で拒否=0、依頼なし→拡張期間チェック、訓練時は拡張期間にも依頼なしで除外
2025-12-19 11:14:20,853 - INFO - データリーク防止: 訓練期間内でラベル計算
2025-12-19 11:14:20,853 - INFO - ================================================================================
2025-12-19 11:14:20,853 - INFO - 特徴量計算期間（訓練全体）: 2021-01-01 00:00:00 ～ 2021-04-01 00:00:00
2025-12-19 11:14:20,853 - INFO - 全体ラベル期間（train_end時点から）: 2021-04-01 00:00:00 ～ 2024-01-01 00:00:00
2025-12-19 11:14:20,858 - INFO - 特徴量計算期間内のレビュアー数: 153
2025-12-19 11:14:21,536 - INFO - ================================================================================
2025-12-19 11:14:21,536 - INFO - 軌跡抽出完了: 116サンプル（レビュアー）
2025-12-19 11:14:21,536 - INFO -   スキップ（最小依頼数未満）: 0
2025-12-19 11:14:21,536 - INFO -   スキップ（訓練期間末尾まで依頼なし）: 37
2025-12-19 11:14:21,536 - INFO -   正例（この期間で承諾あり）: 108 (93.1%)
2025-12-19 11:14:21,536 - INFO -   負例（この期間で承諾なし）: 8 (6.9%)
2025-12-19 11:14:21,536 - INFO -     - 依頼あり→拒否（重み=1.0）: 8
2025-12-19 11:14:21,536 - INFO -   総ステップ数: 232
2025-12-19 11:14:21,536 - INFO -   継続ステップ率: 60.8% (141/232)
2025-12-19 11:14:21,536 - INFO - ================================================================================
/Users/kazuki-h/research/multiproject_research/.venv/lib/python3.13/site-packages/torch/nn/modules/rnn.py:123: UserWarning: dropout option adds dropout after all but last recurrent layer, so non-zero dropout expects num_layers greater than 1, but got dropout=0.2 and num_layers=1
  warnings.warn(
2025-12-19 11:14:21,539 - INFO - 継続予測IRLシステムを初期化しました
2025-12-19 11:14:21,539 - INFO - 訓練データ正例率: 93.1% (108/116)
2025-12-19 11:14:21,539 - INFO - Focal Loss パラメータ更新: alpha=0.400, gamma=1.000
2025-12-19 11:14:21,539 - INFO - 正例率 93.1% に基づき自動調整: バランス重視（正例率≥60%・軽い正例優先)
2025-12-19 11:14:21,539 - INFO - IRLモデルを訓練...
2025-12-19 11:14:21,539 - INFO - ============================================================
2025-12-19 11:14:21,539 - INFO - 時系列IRL訓練開始
2025-12-19 11:14:21,539 - INFO - 軌跡数: 116
2025-12-19 11:14:21,539 - INFO - エポック数: 20
2025-12-19 11:14:21,539 - INFO - ============================================================
2025-12-19 11:14:21,753 - INFO - エポック 0: 平均損失 = 1.1245
2025-12-19 11:14:23,913 - INFO - エポック 10: 平均損失 = 0.7930
2025-12-19 11:14:25,843 - INFO - 時系列IRL訓練完了
2025-12-19 11:14:25,843 - INFO - 訓練データ上で最適閾値を決定...
2025-12-19 11:14:28,246 - INFO - 最適閾値: 0.1182
2025-12-19 11:14:28,246 - INFO - 訓練データ性能: Precision=0.931, Recall=1.000, F1=0.964
2025-12-19 11:14:28,247 - INFO - モデルを保存: outputs/chromium_50projects_irl/train_0-3m/irl_model.pt
2025-12-19 11:14:28,247 - INFO - 最適閾値を保存: outputs/chromium_50projects_irl/train_0-3m/optimal_threshold.json
2025-12-19 11:14:28,247 - INFO - 評価用軌跡を抽出...
2025-12-19 11:14:28,247 - INFO - ================================================================================
2025-12-19 11:14:28,247 - INFO - 評価用軌跡抽出を開始（スナップショット特徴量用）
2025-12-19 11:14:28,247 - INFO - Cutoff日: 2021-04-01 00:00:00
2025-12-19 11:14:28,247 - INFO - 履歴ウィンドウ: 3ヶ月
2025-12-19 11:14:28,247 - INFO - 将来窓: 30～33ヶ月
2025-12-19 11:14:28,247 - INFO - 拡張ラベル期間: 30～12ヶ月
2025-12-19 11:14:28,247 - INFO - プロジェクト: 全プロジェクト
2025-12-19 11:14:28,247 - INFO - 継続判定: この期間で承諾=1、この期間で拒否=0、依頼なし→拡張期間チェック、評価時は拡張期間にも依頼なしで除外（予測の母集団に入れない）
2025-12-19 11:14:28,247 - INFO - ================================================================================
2025-12-19 11:14:28,247 - INFO - 履歴期間: 2021-01-01 00:00:00 ～ 2021-04-01 00:00:00
2025-12-19 11:14:28,247 - INFO - 評価期間: 2023-10-01 00:00:00 ～ 2024-01-01 00:00:00
2025-12-19 11:14:28,250 - INFO - 履歴期間内のレビュアー数: 153
2025-12-19 11:14:28,420 - INFO - ================================================================================
2025-12-19 11:14:28,420 - INFO - 評価用軌跡抽出完了: 70サンプル
2025-12-19 11:14:28,420 - INFO -   スキップ（最小依頼数未満）: 0
2025-12-19 11:14:28,420 - INFO -   スキップ（訓練期間末尾まで依頼なし）: 83
2025-12-19 11:14:28,420 - INFO -   正例（この期間で承諾あり）: 64 (91.4%)
2025-12-19 11:14:28,420 - INFO -   負例（この期間で承諾なし）: 6 (8.6%)
2025-12-19 11:14:28,420 - INFO -     - 依頼あり→拒否（重み=1.0）: 6
2025-12-19 11:14:28,420 - INFO - ================================================================================
2025-12-19 11:14:28,421 - INFO - 予測を実行...
2025-12-19 11:14:30,774 - INFO - ================================================================================
2025-12-19 11:14:30,774 - INFO - 評価結果 (0-3m → 9-12m):
2025-12-19 11:14:30,774 - INFO -   AUC-ROC: 0.6120
2025-12-19 11:14:30,774 - INFO -   AUC-PR: 0.9569
2025-12-19 11:14:30,774 - INFO -   Precision: 0.9143
2025-12-19 11:14:30,774 - INFO -   Recall: 1.0000
2025-12-19 11:14:30,774 - INFO -   F1 Score: 0.9552
2025-12-19 11:14:30,774 - INFO - ================================================================================
2025-12-19 11:14:30,776 - INFO - 結果を保存: outputs/chromium_50projects_irl/train_0-3m/eval_9-12m
2025-12-19 11:14:30,778 - INFO - 
【5/10】パターン実行中...
2025-12-19 11:14:30,779 - INFO - ================================================================================
2025-12-19 11:14:30,779 - INFO - パターン: 3-6m → 3-6m
2025-12-19 11:14:30,779 - INFO - 訓練期間: 2021-04-01 00:00:00 ～ 2021-07-01 00:00:00
2025-12-19 11:14:30,779 - INFO - 評価期間: 2023-04-01 00:00:00 ～ 2023-07-01 00:00:00
2025-12-19 11:14:30,779 - INFO - ================================================================================
2025-12-19 11:14:30,779 - INFO - レビュー依頼データを読み込み: data/chromium_50proj_2021_2024_feat.csv
2025-12-19 11:14:30,950 - INFO - 総レビュー依頼数: 39385
2025-12-19 11:14:30,950 - INFO - 承諾数: 30785 (78.2%)
2025-12-19 11:14:30,950 - INFO - 拒否数: 8600 (21.8%)
2025-12-19 11:14:30,950 - INFO - 将来窓設定: 0～24ヶ月
2025-12-19 11:14:30,950 - INFO - 訓練用軌跡を抽出...
2025-12-19 11:14:30,950 - INFO - ================================================================================
2025-12-19 11:14:30,950 - INFO - レビュー承諾予測用軌跡抽出を開始（データリークなし版）
2025-12-19 11:14:30,950 - INFO - 訓練期間全体: 2021-04-01 00:00:00 ～ 2021-07-01 00:00:00
2025-12-19 11:14:30,950 - INFO - 将来窓: 0～24ヶ月
2025-12-19 11:14:30,950 - INFO - 拡張ラベル期間: 0～12ヶ月
2025-12-19 11:14:30,950 - INFO - プロジェクト: 全プロジェクト
2025-12-19 11:14:30,950 - INFO - ラベル定義: この期間で承諾=1、この期間で拒否=0、依頼なし→拡張期間チェック、訓練時は拡張期間にも依頼なしで除外
2025-12-19 11:14:30,950 - INFO - データリーク防止: 訓練期間内でラベル計算
2025-12-19 11:14:30,950 - INFO - ================================================================================
2025-12-19 11:14:30,951 - INFO - 特徴量計算期間（訓練全体）: 2021-04-01 00:00:00 ～ 2021-07-01 00:00:00
2025-12-19 11:14:30,951 - INFO - 全体ラベル期間（train_end時点から）: 2021-07-01 00:00:00 ～ 2023-07-01 00:00:00
2025-12-19 11:14:30,954 - INFO - 特徴量計算期間内のレビュアー数: 130
2025-12-19 11:14:31,504 - INFO - ================================================================================
2025-12-19 11:14:31,504 - INFO - 軌跡抽出完了: 100サンプル（レビュアー）
2025-12-19 11:14:31,504 - INFO -   スキップ（最小依頼数未満）: 0
2025-12-19 11:14:31,504 - INFO -   スキップ（訓練期間末尾まで依頼なし）: 30
2025-12-19 11:14:31,504 - INFO -   正例（この期間で承諾あり）: 97 (97.0%)
2025-12-19 11:14:31,504 - INFO -   負例（この期間で承諾なし）: 3 (3.0%)
2025-12-19 11:14:31,504 - INFO -     - 依頼あり→拒否（重み=1.0）: 3
2025-12-19 11:14:31,504 - INFO -   総ステップ数: 200
2025-12-19 11:14:31,504 - INFO -   継続ステップ率: 64.5% (129/200)
2025-12-19 11:14:31,505 - INFO - ================================================================================
/Users/kazuki-h/research/multiproject_research/.venv/lib/python3.13/site-packages/torch/nn/modules/rnn.py:123: UserWarning: dropout option adds dropout after all but last recurrent layer, so non-zero dropout expects num_layers greater than 1, but got dropout=0.2 and num_layers=1
  warnings.warn(
2025-12-19 11:14:31,506 - INFO - 継続予測IRLシステムを初期化しました
2025-12-19 11:14:31,506 - INFO - 訓練データ正例率: 97.0% (97/100)
2025-12-19 11:14:31,506 - INFO - Focal Loss パラメータ更新: alpha=0.400, gamma=1.000
2025-12-19 11:14:31,506 - INFO - 正例率 97.0% に基づき自動調整: バランス重視（正例率≥60%・軽い正例優先)
2025-12-19 11:14:31,506 - INFO - IRLモデルを訓練...
2025-12-19 11:14:31,506 - INFO - ============================================================
2025-12-19 11:14:31,506 - INFO - 時系列IRL訓練開始
2025-12-19 11:14:31,506 - INFO - 軌跡数: 100
2025-12-19 11:14:31,506 - INFO - エポック数: 20
2025-12-19 11:14:31,506 - INFO - ============================================================
2025-12-19 11:14:31,698 - INFO - エポック 0: 平均損失 = 1.1179
2025-12-19 11:14:33,723 - INFO - エポック 10: 平均損失 = 0.9274
2025-12-19 11:14:35,409 - INFO - 時系列IRL訓練完了
2025-12-19 11:14:35,409 - INFO - 訓練データ上で最適閾値を決定...
2025-12-19 11:14:37,643 - INFO - 最適閾値: 0.1095
2025-12-19 11:14:37,643 - INFO - 訓練データ性能: Precision=0.970, Recall=1.000, F1=0.985
2025-12-19 11:14:37,644 - INFO - モデルを保存: outputs/chromium_50projects_irl/train_3-6m/irl_model.pt
2025-12-19 11:14:37,645 - INFO - 最適閾値を保存: outputs/chromium_50projects_irl/train_3-6m/optimal_threshold.json
2025-12-19 11:14:37,645 - INFO - 評価用軌跡を抽出...
2025-12-19 11:14:37,645 - INFO - ================================================================================
2025-12-19 11:14:37,645 - INFO - 評価用軌跡抽出を開始（スナップショット特徴量用）
2025-12-19 11:14:37,645 - INFO - Cutoff日: 2021-07-01 00:00:00
2025-12-19 11:14:37,645 - INFO - 履歴ウィンドウ: 3ヶ月
2025-12-19 11:14:37,645 - INFO - 将来窓: 21～24ヶ月
2025-12-19 11:14:37,645 - INFO - 拡張ラベル期間: 21～12ヶ月
2025-12-19 11:14:37,645 - INFO - プロジェクト: 全プロジェクト
2025-12-19 11:14:37,645 - INFO - 継続判定: この期間で承諾=1、この期間で拒否=0、依頼なし→拡張期間チェック、評価時は拡張期間にも依頼なしで除外（予測の母集団に入れない）
2025-12-19 11:14:37,645 - INFO - ================================================================================
2025-12-19 11:14:37,645 - INFO - 履歴期間: 2021-04-01 00:00:00 ～ 2021-07-01 00:00:00
2025-12-19 11:14:37,645 - INFO - 評価期間: 2023-04-01 00:00:00 ～ 2023-07-01 00:00:00
2025-12-19 11:14:37,646 - INFO - 履歴期間内のレビュアー数: 130
2025-12-19 11:14:37,761 - INFO - ================================================================================
2025-12-19 11:14:37,761 - INFO - 評価用軌跡抽出完了: 50サンプル
2025-12-19 11:14:37,761 - INFO -   スキップ（最小依頼数未満）: 0
2025-12-19 11:14:37,761 - INFO -   スキップ（訓練期間末尾まで依頼なし）: 80
2025-12-19 11:14:37,761 - INFO -   正例（この期間で承諾あり）: 47 (94.0%)
2025-12-19 11:14:37,761 - INFO -   負例（この期間で承諾なし）: 3 (6.0%)
2025-12-19 11:14:37,761 - INFO -     - 依頼あり→拒否（重み=1.0）: 3
2025-12-19 11:14:37,761 - INFO - ================================================================================
2025-12-19 11:14:37,761 - INFO - 予測を実行...
2025-12-19 11:14:39,936 - INFO - ================================================================================
2025-12-19 11:14:39,936 - INFO - 評価結果 (3-6m → 3-6m):
2025-12-19 11:14:39,936 - INFO -   AUC-ROC: 0.2624
2025-12-19 11:14:39,936 - INFO -   AUC-PR: 0.9191
2025-12-19 11:14:39,936 - INFO -   Precision: 0.9400
2025-12-19 11:14:39,936 - INFO -   Recall: 1.0000
2025-12-19 11:14:39,936 - INFO -   F1 Score: 0.9691
2025-12-19 11:14:39,936 - INFO - ================================================================================
2025-12-19 11:14:39,938 - INFO - 結果を保存: outputs/chromium_50projects_irl/train_3-6m/eval_3-6m
2025-12-19 11:14:39,940 - INFO - 
【6/10】パターン実行中...
2025-12-19 11:14:39,940 - INFO - ================================================================================
2025-12-19 11:14:39,940 - INFO - パターン: 3-6m → 6-9m
2025-12-19 11:14:39,940 - INFO - 訓練期間: 2021-04-01 00:00:00 ～ 2021-07-01 00:00:00
2025-12-19 11:14:39,940 - INFO - 評価期間: 2023-07-01 00:00:00 ～ 2023-10-01 00:00:00
2025-12-19 11:14:39,940 - INFO - ================================================================================
2025-12-19 11:14:39,940 - INFO - レビュー依頼データを読み込み: data/chromium_50proj_2021_2024_feat.csv
2025-12-19 11:14:40,111 - INFO - 総レビュー依頼数: 39385
2025-12-19 11:14:40,111 - INFO - 承諾数: 30785 (78.2%)
2025-12-19 11:14:40,111 - INFO - 拒否数: 8600 (21.8%)
2025-12-19 11:14:40,111 - INFO - 将来窓設定: 0～27ヶ月
2025-12-19 11:14:40,111 - INFO - 訓練用軌跡を抽出...
2025-12-19 11:14:40,111 - INFO - ================================================================================
2025-12-19 11:14:40,111 - INFO - レビュー承諾予測用軌跡抽出を開始（データリークなし版）
2025-12-19 11:14:40,111 - INFO - 訓練期間全体: 2021-04-01 00:00:00 ～ 2021-07-01 00:00:00
2025-12-19 11:14:40,111 - INFO - 将来窓: 0～27ヶ月
2025-12-19 11:14:40,111 - INFO - 拡張ラベル期間: 0～12ヶ月
2025-12-19 11:14:40,111 - INFO - プロジェクト: 全プロジェクト
2025-12-19 11:14:40,111 - INFO - ラベル定義: この期間で承諾=1、この期間で拒否=0、依頼なし→拡張期間チェック、訓練時は拡張期間にも依頼なしで除外
2025-12-19 11:14:40,111 - INFO - データリーク防止: 訓練期間内でラベル計算
2025-12-19 11:14:40,111 - INFO - ================================================================================
2025-12-19 11:14:40,112 - INFO - 特徴量計算期間（訓練全体）: 2021-04-01 00:00:00 ～ 2021-07-01 00:00:00
2025-12-19 11:14:40,112 - INFO - 全体ラベル期間（train_end時点から）: 2021-07-01 00:00:00 ～ 2023-10-01 00:00:00
2025-12-19 11:14:40,115 - INFO - 特徴量計算期間内のレビュアー数: 130
2025-12-19 11:14:40,674 - INFO - ================================================================================
2025-12-19 11:14:40,674 - INFO - 軌跡抽出完了: 102サンプル（レビュアー）
2025-12-19 11:14:40,674 - INFO -   スキップ（最小依頼数未満）: 0
2025-12-19 11:14:40,674 - INFO -   スキップ（訓練期間末尾まで依頼なし）: 28
2025-12-19 11:14:40,674 - INFO -   正例（この期間で承諾あり）: 97 (95.1%)
2025-12-19 11:14:40,674 - INFO -   負例（この期間で承諾なし）: 5 (4.9%)
2025-12-19 11:14:40,674 - INFO -     - 依頼あり→拒否（重み=1.0）: 5
2025-12-19 11:14:40,674 - INFO -   総ステップ数: 204
2025-12-19 11:14:40,674 - INFO -   継続ステップ率: 64.2% (131/204)
2025-12-19 11:14:40,674 - INFO - ================================================================================
/Users/kazuki-h/research/multiproject_research/.venv/lib/python3.13/site-packages/torch/nn/modules/rnn.py:123: UserWarning: dropout option adds dropout after all but last recurrent layer, so non-zero dropout expects num_layers greater than 1, but got dropout=0.2 and num_layers=1
  warnings.warn(
2025-12-19 11:14:40,675 - INFO - 継続予測IRLシステムを初期化しました
2025-12-19 11:14:40,675 - INFO - 訓練データ正例率: 95.1% (97/102)
2025-12-19 11:14:40,675 - INFO - Focal Loss パラメータ更新: alpha=0.400, gamma=1.000
2025-12-19 11:14:40,675 - INFO - 正例率 95.1% に基づき自動調整: バランス重視（正例率≥60%・軽い正例優先)
2025-12-19 11:14:40,675 - INFO - IRLモデルを訓練...
2025-12-19 11:14:40,675 - INFO - ============================================================
2025-12-19 11:14:40,675 - INFO - 時系列IRL訓練開始
2025-12-19 11:14:40,675 - INFO - 軌跡数: 102
2025-12-19 11:14:40,675 - INFO - エポック数: 20
2025-12-19 11:14:40,675 - INFO - ============================================================
2025-12-19 11:14:40,863 - INFO - エポック 0: 平均損失 = 1.2014
2025-12-19 11:14:42,760 - INFO - エポック 10: 平均損失 = 0.9572
2025-12-19 11:14:44,508 - INFO - 時系列IRL訓練完了
2025-12-19 11:14:44,508 - INFO - 訓練データ上で最適閾値を決定...
2025-12-19 11:14:46,785 - INFO - 最適閾値: 0.1660
2025-12-19 11:14:46,785 - INFO - 訓練データ性能: Precision=0.951, Recall=1.000, F1=0.975
2025-12-19 11:14:46,786 - INFO - モデルを保存: outputs/chromium_50projects_irl/train_3-6m/irl_model.pt
2025-12-19 11:14:46,786 - INFO - 最適閾値を保存: outputs/chromium_50projects_irl/train_3-6m/optimal_threshold.json
2025-12-19 11:14:46,786 - INFO - 評価用軌跡を抽出...
2025-12-19 11:14:46,786 - INFO - ================================================================================
2025-12-19 11:14:46,786 - INFO - 評価用軌跡抽出を開始（スナップショット特徴量用）
2025-12-19 11:14:46,786 - INFO - Cutoff日: 2021-07-01 00:00:00
2025-12-19 11:14:46,786 - INFO - 履歴ウィンドウ: 3ヶ月
2025-12-19 11:14:46,786 - INFO - 将来窓: 24～27ヶ月
2025-12-19 11:14:46,786 - INFO - 拡張ラベル期間: 24～12ヶ月
2025-12-19 11:14:46,786 - INFO - プロジェクト: 全プロジェクト
2025-12-19 11:14:46,786 - INFO - 継続判定: この期間で承諾=1、この期間で拒否=0、依頼なし→拡張期間チェック、評価時は拡張期間にも依頼なしで除外（予測の母集団に入れない）
2025-12-19 11:14:46,786 - INFO - ================================================================================
2025-12-19 11:14:46,786 - INFO - 履歴期間: 2021-04-01 00:00:00 ～ 2021-07-01 00:00:00
2025-12-19 11:14:46,786 - INFO - 評価期間: 2023-07-01 00:00:00 ～ 2023-10-01 00:00:00
2025-12-19 11:14:46,788 - INFO - 履歴期間内のレビュアー数: 130
2025-12-19 11:14:46,937 - INFO - ================================================================================
2025-12-19 11:14:46,938 - INFO - 評価用軌跡抽出完了: 57サンプル
2025-12-19 11:14:46,938 - INFO -   スキップ（最小依頼数未満）: 0
2025-12-19 11:14:46,938 - INFO -   スキップ（訓練期間末尾まで依頼なし）: 73
2025-12-19 11:14:46,938 - INFO -   正例（この期間で承諾あり）: 48 (84.2%)
2025-12-19 11:14:46,938 - INFO -   負例（この期間で承諾なし）: 9 (15.8%)
2025-12-19 11:14:46,938 - INFO -     - 依頼あり→拒否（重み=1.0）: 9
2025-12-19 11:14:46,938 - INFO - ================================================================================
2025-12-19 11:14:46,938 - INFO - 予測を実行...
2025-12-19 11:14:49,154 - INFO - ================================================================================
2025-12-19 11:14:49,154 - INFO - 評価結果 (3-6m → 6-9m):
2025-12-19 11:14:49,154 - INFO -   AUC-ROC: 0.2986
2025-12-19 11:14:49,154 - INFO -   AUC-PR: 0.7429
2025-12-19 11:14:49,154 - INFO -   Precision: 0.8421
2025-12-19 11:14:49,154 - INFO -   Recall: 1.0000
2025-12-19 11:14:49,154 - INFO -   F1 Score: 0.9143
2025-12-19 11:14:49,154 - INFO - ================================================================================
2025-12-19 11:14:49,155 - INFO - 結果を保存: outputs/chromium_50projects_irl/train_3-6m/eval_6-9m
2025-12-19 11:14:49,158 - INFO - 
【7/10】パターン実行中...
2025-12-19 11:14:49,158 - INFO - ================================================================================
2025-12-19 11:14:49,158 - INFO - パターン: 3-6m → 9-12m
2025-12-19 11:14:49,158 - INFO - 訓練期間: 2021-04-01 00:00:00 ～ 2021-07-01 00:00:00
2025-12-19 11:14:49,158 - INFO - 評価期間: 2023-10-01 00:00:00 ～ 2024-01-01 00:00:00
2025-12-19 11:14:49,158 - INFO - ================================================================================
2025-12-19 11:14:49,158 - INFO - レビュー依頼データを読み込み: data/chromium_50proj_2021_2024_feat.csv
2025-12-19 11:14:49,333 - INFO - 総レビュー依頼数: 39385
2025-12-19 11:14:49,333 - INFO - 承諾数: 30785 (78.2%)
2025-12-19 11:14:49,333 - INFO - 拒否数: 8600 (21.8%)
2025-12-19 11:14:49,333 - INFO - 将来窓設定: 0～30ヶ月
2025-12-19 11:14:49,333 - INFO - 訓練用軌跡を抽出...
2025-12-19 11:14:49,333 - INFO - ================================================================================
2025-12-19 11:14:49,333 - INFO - レビュー承諾予測用軌跡抽出を開始（データリークなし版）
2025-12-19 11:14:49,333 - INFO - 訓練期間全体: 2021-04-01 00:00:00 ～ 2021-07-01 00:00:00
2025-12-19 11:14:49,333 - INFO - 将来窓: 0～30ヶ月
2025-12-19 11:14:49,333 - INFO - 拡張ラベル期間: 0～12ヶ月
2025-12-19 11:14:49,333 - INFO - プロジェクト: 全プロジェクト
2025-12-19 11:14:49,333 - INFO - ラベル定義: この期間で承諾=1、この期間で拒否=0、依頼なし→拡張期間チェック、訓練時は拡張期間にも依頼なしで除外
2025-12-19 11:14:49,333 - INFO - データリーク防止: 訓練期間内でラベル計算
2025-12-19 11:14:49,333 - INFO - ================================================================================
2025-12-19 11:14:49,333 - INFO - 特徴量計算期間（訓練全体）: 2021-04-01 00:00:00 ～ 2021-07-01 00:00:00
2025-12-19 11:14:49,333 - INFO - 全体ラベル期間（train_end時点から）: 2021-07-01 00:00:00 ～ 2024-01-01 00:00:00
2025-12-19 11:14:49,338 - INFO - 特徴量計算期間内のレビュアー数: 130
2025-12-19 11:14:49,970 - INFO - ================================================================================
2025-12-19 11:14:49,970 - INFO - 軌跡抽出完了: 112サンプル（レビュアー）
2025-12-19 11:14:49,970 - INFO -   スキップ（最小依頼数未満）: 0
2025-12-19 11:14:49,970 - INFO -   スキップ（訓練期間末尾まで依頼なし）: 18
2025-12-19 11:14:49,970 - INFO -   正例（この期間で承諾あり）: 109 (97.3%)
2025-12-19 11:14:49,970 - INFO -   負例（この期間で承諾なし）: 3 (2.7%)
2025-12-19 11:14:49,970 - INFO -     - 依頼あり→拒否（重み=1.0）: 3
2025-12-19 11:14:49,970 - INFO -   総ステップ数: 224
2025-12-19 11:14:49,970 - INFO -   継続ステップ率: 61.6% (138/224)
2025-12-19 11:14:49,970 - INFO - ================================================================================
/Users/kazuki-h/research/multiproject_research/.venv/lib/python3.13/site-packages/torch/nn/modules/rnn.py:123: UserWarning: dropout option adds dropout after all but last recurrent layer, so non-zero dropout expects num_layers greater than 1, but got dropout=0.2 and num_layers=1
  warnings.warn(
2025-12-19 11:14:49,972 - INFO - 継続予測IRLシステムを初期化しました
2025-12-19 11:14:49,972 - INFO - 訓練データ正例率: 97.3% (109/112)
2025-12-19 11:14:49,972 - INFO - Focal Loss パラメータ更新: alpha=0.400, gamma=1.000
2025-12-19 11:14:49,972 - INFO - 正例率 97.3% に基づき自動調整: バランス重視（正例率≥60%・軽い正例優先)
2025-12-19 11:14:49,972 - INFO - IRLモデルを訓練...
2025-12-19 11:14:49,972 - INFO - ============================================================
2025-12-19 11:14:49,972 - INFO - 時系列IRL訓練開始
2025-12-19 11:14:49,972 - INFO - 軌跡数: 112
2025-12-19 11:14:49,972 - INFO - エポック数: 20
2025-12-19 11:14:49,972 - INFO - ============================================================
2025-12-19 11:14:50,181 - INFO - エポック 0: 平均損失 = 1.2483
2025-12-19 11:14:52,502 - INFO - エポック 10: 平均損失 = 0.9611
2025-12-19 11:14:54,417 - INFO - 時系列IRL訓練完了
2025-12-19 11:14:54,417 - INFO - 訓練データ上で最適閾値を決定...
2025-12-19 11:14:56,700 - INFO - 最適閾値: 0.1510
2025-12-19 11:14:56,700 - INFO - 訓練データ性能: Precision=0.973, Recall=1.000, F1=0.986
2025-12-19 11:14:56,701 - INFO - モデルを保存: outputs/chromium_50projects_irl/train_3-6m/irl_model.pt
2025-12-19 11:14:56,701 - INFO - 最適閾値を保存: outputs/chromium_50projects_irl/train_3-6m/optimal_threshold.json
2025-12-19 11:14:56,701 - INFO - 評価用軌跡を抽出...
2025-12-19 11:14:56,701 - INFO - ================================================================================
2025-12-19 11:14:56,701 - INFO - 評価用軌跡抽出を開始（スナップショット特徴量用）
2025-12-19 11:14:56,701 - INFO - Cutoff日: 2021-07-01 00:00:00
2025-12-19 11:14:56,701 - INFO - 履歴ウィンドウ: 3ヶ月
2025-12-19 11:14:56,701 - INFO - 将来窓: 27～30ヶ月
2025-12-19 11:14:56,701 - INFO - 拡張ラベル期間: 27～12ヶ月
2025-12-19 11:14:56,701 - INFO - プロジェクト: 全プロジェクト
2025-12-19 11:14:56,701 - INFO - 継続判定: この期間で承諾=1、この期間で拒否=0、依頼なし→拡張期間チェック、評価時は拡張期間にも依頼なしで除外（予測の母集団に入れない）
2025-12-19 11:14:56,701 - INFO - ================================================================================
2025-12-19 11:14:56,701 - INFO - 履歴期間: 2021-04-01 00:00:00 ～ 2021-07-01 00:00:00
2025-12-19 11:14:56,701 - INFO - 評価期間: 2023-10-01 00:00:00 ～ 2024-01-01 00:00:00
2025-12-19 11:14:56,703 - INFO - 履歴期間内のレビュアー数: 130
2025-12-19 11:14:56,866 - INFO - ================================================================================
2025-12-19 11:14:56,866 - INFO - 評価用軌跡抽出完了: 71サンプル
2025-12-19 11:14:56,866 - INFO -   スキップ（最小依頼数未満）: 0
2025-12-19 11:14:56,866 - INFO -   スキップ（訓練期間末尾まで依頼なし）: 59
2025-12-19 11:14:56,866 - INFO -   正例（この期間で承諾あり）: 67 (94.4%)
2025-12-19 11:14:56,866 - INFO -   負例（この期間で承諾なし）: 4 (5.6%)
2025-12-19 11:14:56,866 - INFO -     - 依頼あり→拒否（重み=1.0）: 4
2025-12-19 11:14:56,866 - INFO - ================================================================================
2025-12-19 11:14:56,866 - INFO - 予測を実行...
2025-12-19 11:14:59,063 - INFO - ================================================================================
2025-12-19 11:14:59,063 - INFO - 評価結果 (3-6m → 9-12m):
2025-12-19 11:14:59,063 - INFO -   AUC-ROC: 0.4142
2025-12-19 11:14:59,063 - INFO -   AUC-PR: 0.9417
2025-12-19 11:14:59,063 - INFO -   Precision: 0.9437
2025-12-19 11:14:59,063 - INFO -   Recall: 1.0000
2025-12-19 11:14:59,063 - INFO -   F1 Score: 0.9710
2025-12-19 11:14:59,063 - INFO - ================================================================================
2025-12-19 11:14:59,065 - INFO - 結果を保存: outputs/chromium_50projects_irl/train_3-6m/eval_9-12m
2025-12-19 11:14:59,068 - INFO - 
【8/10】パターン実行中...
2025-12-19 11:14:59,068 - INFO - ================================================================================
2025-12-19 11:14:59,068 - INFO - パターン: 6-9m → 6-9m
2025-12-19 11:14:59,068 - INFO - 訓練期間: 2021-07-01 00:00:00 ～ 2021-10-01 00:00:00
2025-12-19 11:14:59,068 - INFO - 評価期間: 2023-07-01 00:00:00 ～ 2023-10-01 00:00:00
2025-12-19 11:14:59,068 - INFO - ================================================================================
2025-12-19 11:14:59,068 - INFO - レビュー依頼データを読み込み: data/chromium_50proj_2021_2024_feat.csv
2025-12-19 11:14:59,251 - INFO - 総レビュー依頼数: 39385
2025-12-19 11:14:59,252 - INFO - 承諾数: 30785 (78.2%)
2025-12-19 11:14:59,252 - INFO - 拒否数: 8600 (21.8%)
2025-12-19 11:14:59,252 - INFO - 将来窓設定: 0～24ヶ月
2025-12-19 11:14:59,252 - INFO - 訓練用軌跡を抽出...
2025-12-19 11:14:59,252 - INFO - ================================================================================
2025-12-19 11:14:59,252 - INFO - レビュー承諾予測用軌跡抽出を開始（データリークなし版）
2025-12-19 11:14:59,252 - INFO - 訓練期間全体: 2021-07-01 00:00:00 ～ 2021-10-01 00:00:00
2025-12-19 11:14:59,252 - INFO - 将来窓: 0～24ヶ月
2025-12-19 11:14:59,252 - INFO - 拡張ラベル期間: 0～12ヶ月
2025-12-19 11:14:59,252 - INFO - プロジェクト: 全プロジェクト
2025-12-19 11:14:59,252 - INFO - ラベル定義: この期間で承諾=1、この期間で拒否=0、依頼なし→拡張期間チェック、訓練時は拡張期間にも依頼なしで除外
2025-12-19 11:14:59,252 - INFO - データリーク防止: 訓練期間内でラベル計算
2025-12-19 11:14:59,252 - INFO - ================================================================================
2025-12-19 11:14:59,253 - INFO - 特徴量計算期間（訓練全体）: 2021-07-01 00:00:00 ～ 2021-10-01 00:00:00
2025-12-19 11:14:59,253 - INFO - 全体ラベル期間（train_end時点から）: 2021-10-01 00:00:00 ～ 2023-10-01 00:00:00
2025-12-19 11:14:59,256 - INFO - 特徴量計算期間内のレビュアー数: 126
2025-12-19 11:14:59,792 - INFO - ================================================================================
2025-12-19 11:14:59,792 - INFO - 軌跡抽出完了: 100サンプル（レビュアー）
2025-12-19 11:14:59,792 - INFO -   スキップ（最小依頼数未満）: 0
2025-12-19 11:14:59,792 - INFO -   スキップ（訓練期間末尾まで依頼なし）: 26
2025-12-19 11:14:59,792 - INFO -   正例（この期間で承諾あり）: 90 (90.0%)
2025-12-19 11:14:59,792 - INFO -   負例（この期間で承諾なし）: 10 (10.0%)
2025-12-19 11:14:59,792 - INFO -     - 依頼あり→拒否（重み=1.0）: 10
2025-12-19 11:14:59,792 - INFO -   総ステップ数: 200
2025-12-19 11:14:59,792 - INFO -   継続ステップ率: 56.0% (112/200)
2025-12-19 11:14:59,792 - INFO - ================================================================================
/Users/kazuki-h/research/multiproject_research/.venv/lib/python3.13/site-packages/torch/nn/modules/rnn.py:123: UserWarning: dropout option adds dropout after all but last recurrent layer, so non-zero dropout expects num_layers greater than 1, but got dropout=0.2 and num_layers=1
  warnings.warn(
2025-12-19 11:14:59,794 - INFO - 継続予測IRLシステムを初期化しました
2025-12-19 11:14:59,794 - INFO - 訓練データ正例率: 90.0% (90/100)
2025-12-19 11:14:59,794 - INFO - Focal Loss パラメータ更新: alpha=0.400, gamma=1.000
2025-12-19 11:14:59,794 - INFO - 正例率 90.0% に基づき自動調整: バランス重視（正例率≥60%・軽い正例優先)
2025-12-19 11:14:59,794 - INFO - IRLモデルを訓練...
2025-12-19 11:14:59,794 - INFO - ============================================================
2025-12-19 11:14:59,794 - INFO - 時系列IRL訓練開始
2025-12-19 11:14:59,794 - INFO - 軌跡数: 100
2025-12-19 11:14:59,794 - INFO - エポック数: 20
2025-12-19 11:14:59,794 - INFO - ============================================================
2025-12-19 11:14:59,974 - INFO - エポック 0: 平均損失 = 1.1752
2025-12-19 11:15:01,794 - INFO - エポック 10: 平均損失 = 1.0048
2025-12-19 11:15:03,452 - INFO - 時系列IRL訓練完了
2025-12-19 11:15:03,452 - INFO - 訓練データ上で最適閾値を決定...
2025-12-19 11:15:06,021 - INFO - 最適閾値: 0.0134
2025-12-19 11:15:06,021 - INFO - 訓練データ性能: Precision=0.900, Recall=1.000, F1=0.947
2025-12-19 11:15:06,022 - INFO - モデルを保存: outputs/chromium_50projects_irl/train_6-9m/irl_model.pt
2025-12-19 11:15:06,022 - INFO - 最適閾値を保存: outputs/chromium_50projects_irl/train_6-9m/optimal_threshold.json
2025-12-19 11:15:06,022 - INFO - 評価用軌跡を抽出...
2025-12-19 11:15:06,022 - INFO - ================================================================================
2025-12-19 11:15:06,022 - INFO - 評価用軌跡抽出を開始（スナップショット特徴量用）
2025-12-19 11:15:06,022 - INFO - Cutoff日: 2021-10-01 00:00:00
2025-12-19 11:15:06,022 - INFO - 履歴ウィンドウ: 3ヶ月
2025-12-19 11:15:06,022 - INFO - 将来窓: 21～24ヶ月
2025-12-19 11:15:06,022 - INFO - 拡張ラベル期間: 21～12ヶ月
2025-12-19 11:15:06,022 - INFO - プロジェクト: 全プロジェクト
2025-12-19 11:15:06,022 - INFO - 継続判定: この期間で承諾=1、この期間で拒否=0、依頼なし→拡張期間チェック、評価時は拡張期間にも依頼なしで除外（予測の母集団に入れない）
2025-12-19 11:15:06,022 - INFO - ================================================================================
2025-12-19 11:15:06,023 - INFO - 履歴期間: 2021-07-01 00:00:00 ～ 2021-10-01 00:00:00
2025-12-19 11:15:06,023 - INFO - 評価期間: 2023-07-01 00:00:00 ～ 2023-10-01 00:00:00
2025-12-19 11:15:06,024 - INFO - 履歴期間内のレビュアー数: 126
2025-12-19 11:15:06,142 - INFO - ================================================================================
2025-12-19 11:15:06,142 - INFO - 評価用軌跡抽出完了: 55サンプル
2025-12-19 11:15:06,142 - INFO -   スキップ（最小依頼数未満）: 0
2025-12-19 11:15:06,142 - INFO -   スキップ（訓練期間末尾まで依頼なし）: 71
2025-12-19 11:15:06,142 - INFO -   正例（この期間で承諾あり）: 49 (89.1%)
2025-12-19 11:15:06,142 - INFO -   負例（この期間で承諾なし）: 6 (10.9%)
2025-12-19 11:15:06,142 - INFO -     - 依頼あり→拒否（重み=1.0）: 6
2025-12-19 11:15:06,142 - INFO - ================================================================================
2025-12-19 11:15:06,142 - INFO - 予測を実行...
2025-12-19 11:15:08,527 - INFO - ================================================================================
2025-12-19 11:15:08,528 - INFO - 評価結果 (6-9m → 6-9m):
2025-12-19 11:15:08,528 - INFO -   AUC-ROC: 0.4592
2025-12-19 11:15:08,528 - INFO -   AUC-PR: 0.8952
2025-12-19 11:15:08,528 - INFO -   Precision: 0.8909
2025-12-19 11:15:08,528 - INFO -   Recall: 1.0000
2025-12-19 11:15:08,528 - INFO -   F1 Score: 0.9423
2025-12-19 11:15:08,528 - INFO - ================================================================================
2025-12-19 11:15:08,529 - INFO - 結果を保存: outputs/chromium_50projects_irl/train_6-9m/eval_6-9m
2025-12-19 11:15:08,532 - INFO - 
【9/10】パターン実行中...
2025-12-19 11:15:08,532 - INFO - ================================================================================
2025-12-19 11:15:08,532 - INFO - パターン: 6-9m → 9-12m
2025-12-19 11:15:08,532 - INFO - 訓練期間: 2021-07-01 00:00:00 ～ 2021-10-01 00:00:00
2025-12-19 11:15:08,532 - INFO - 評価期間: 2023-10-01 00:00:00 ～ 2024-01-01 00:00:00
2025-12-19 11:15:08,532 - INFO - ================================================================================
2025-12-19 11:15:08,532 - INFO - レビュー依頼データを読み込み: data/chromium_50proj_2021_2024_feat.csv
2025-12-19 11:15:08,768 - INFO - 総レビュー依頼数: 39385
2025-12-19 11:15:08,769 - INFO - 承諾数: 30785 (78.2%)
2025-12-19 11:15:08,769 - INFO - 拒否数: 8600 (21.8%)
2025-12-19 11:15:08,769 - INFO - 将来窓設定: 0～27ヶ月
2025-12-19 11:15:08,769 - INFO - 訓練用軌跡を抽出...
2025-12-19 11:15:08,769 - INFO - ================================================================================
2025-12-19 11:15:08,769 - INFO - レビュー承諾予測用軌跡抽出を開始（データリークなし版）
2025-12-19 11:15:08,769 - INFO - 訓練期間全体: 2021-07-01 00:00:00 ～ 2021-10-01 00:00:00
2025-12-19 11:15:08,769 - INFO - 将来窓: 0～27ヶ月
2025-12-19 11:15:08,769 - INFO - 拡張ラベル期間: 0～12ヶ月
2025-12-19 11:15:08,769 - INFO - プロジェクト: 全プロジェクト
2025-12-19 11:15:08,770 - INFO - ラベル定義: この期間で承諾=1、この期間で拒否=0、依頼なし→拡張期間チェック、訓練時は拡張期間にも依頼なしで除外
2025-12-19 11:15:08,770 - INFO - データリーク防止: 訓練期間内でラベル計算
2025-12-19 11:15:08,770 - INFO - ================================================================================
2025-12-19 11:15:08,770 - INFO - 特徴量計算期間（訓練全体）: 2021-07-01 00:00:00 ～ 2021-10-01 00:00:00
2025-12-19 11:15:08,770 - INFO - 全体ラベル期間（train_end時点から）: 2021-10-01 00:00:00 ～ 2024-01-01 00:00:00
2025-12-19 11:15:08,776 - INFO - 特徴量計算期間内のレビュアー数: 126
2025-12-19 11:15:09,389 - INFO - ================================================================================
2025-12-19 11:15:09,389 - INFO - 軌跡抽出完了: 104サンプル（レビュアー）
2025-12-19 11:15:09,389 - INFO -   スキップ（最小依頼数未満）: 0
2025-12-19 11:15:09,389 - INFO -   スキップ（訓練期間末尾まで依頼なし）: 22
2025-12-19 11:15:09,389 - INFO -   正例（この期間で承諾あり）: 94 (90.4%)
2025-12-19 11:15:09,389 - INFO -   負例（この期間で承諾なし）: 10 (9.6%)
2025-12-19 11:15:09,389 - INFO -     - 依頼あり→拒否（重み=1.0）: 10
2025-12-19 11:15:09,389 - INFO -   総ステップ数: 208
2025-12-19 11:15:09,389 - INFO -   継続ステップ率: 57.2% (119/208)
2025-12-19 11:15:09,389 - INFO - ================================================================================
/Users/kazuki-h/research/multiproject_research/.venv/lib/python3.13/site-packages/torch/nn/modules/rnn.py:123: UserWarning: dropout option adds dropout after all but last recurrent layer, so non-zero dropout expects num_layers greater than 1, but got dropout=0.2 and num_layers=1
  warnings.warn(
2025-12-19 11:15:09,391 - INFO - 継続予測IRLシステムを初期化しました
2025-12-19 11:15:09,391 - INFO - 訓練データ正例率: 90.4% (94/104)
2025-12-19 11:15:09,391 - INFO - Focal Loss パラメータ更新: alpha=0.400, gamma=1.000
2025-12-19 11:15:09,391 - INFO - 正例率 90.4% に基づき自動調整: バランス重視（正例率≥60%・軽い正例優先)
2025-12-19 11:15:09,391 - INFO - IRLモデルを訓練...
2025-12-19 11:15:09,391 - INFO - ============================================================
2025-12-19 11:15:09,391 - INFO - 時系列IRL訓練開始
2025-12-19 11:15:09,392 - INFO - 軌跡数: 104
2025-12-19 11:15:09,392 - INFO - エポック数: 20
2025-12-19 11:15:09,392 - INFO - ============================================================
2025-12-19 11:15:09,575 - INFO - エポック 0: 平均損失 = 1.1541
2025-12-19 11:15:11,335 - INFO - エポック 10: 平均損失 = 1.0117
2025-12-19 11:15:13,084 - INFO - 時系列IRL訓練完了
2025-12-19 11:15:13,084 - INFO - 訓練データ上で最適閾値を決定...
2025-12-19 11:15:15,487 - INFO - 最適閾値: 0.0320
2025-12-19 11:15:15,487 - INFO - 訓練データ性能: Precision=0.904, Recall=1.000, F1=0.949
2025-12-19 11:15:15,488 - INFO - モデルを保存: outputs/chromium_50projects_irl/train_6-9m/irl_model.pt
2025-12-19 11:15:15,488 - INFO - 最適閾値を保存: outputs/chromium_50projects_irl/train_6-9m/optimal_threshold.json
2025-12-19 11:15:15,488 - INFO - 評価用軌跡を抽出...
2025-12-19 11:15:15,488 - INFO - ================================================================================
2025-12-19 11:15:15,488 - INFO - 評価用軌跡抽出を開始（スナップショット特徴量用）
2025-12-19 11:15:15,488 - INFO - Cutoff日: 2021-10-01 00:00:00
2025-12-19 11:15:15,488 - INFO - 履歴ウィンドウ: 3ヶ月
2025-12-19 11:15:15,488 - INFO - 将来窓: 24～27ヶ月
2025-12-19 11:15:15,488 - INFO - 拡張ラベル期間: 24～12ヶ月
2025-12-19 11:15:15,488 - INFO - プロジェクト: 全プロジェクト
2025-12-19 11:15:15,488 - INFO - 継続判定: この期間で承諾=1、この期間で拒否=0、依頼なし→拡張期間チェック、評価時は拡張期間にも依頼なしで除外（予測の母集団に入れない）
2025-12-19 11:15:15,488 - INFO - ================================================================================
2025-12-19 11:15:15,488 - INFO - 履歴期間: 2021-07-01 00:00:00 ～ 2021-10-01 00:00:00
2025-12-19 11:15:15,488 - INFO - 評価期間: 2023-10-01 00:00:00 ～ 2024-01-01 00:00:00
2025-12-19 11:15:15,491 - INFO - 履歴期間内のレビュアー数: 126
2025-12-19 11:15:15,641 - INFO - ================================================================================
2025-12-19 11:15:15,641 - INFO - 評価用軌跡抽出完了: 62サンプル
2025-12-19 11:15:15,641 - INFO -   スキップ（最小依頼数未満）: 0
2025-12-19 11:15:15,641 - INFO -   スキップ（訓練期間末尾まで依頼なし）: 64
2025-12-19 11:15:15,641 - INFO -   正例（この期間で承諾あり）: 57 (91.9%)
2025-12-19 11:15:15,641 - INFO -   負例（この期間で承諾なし）: 5 (8.1%)
2025-12-19 11:15:15,641 - INFO -     - 依頼あり→拒否（重み=1.0）: 5
2025-12-19 11:15:15,641 - INFO - ================================================================================
2025-12-19 11:15:15,642 - INFO - 予測を実行...
2025-12-19 11:15:18,015 - INFO - ================================================================================
2025-12-19 11:15:18,015 - INFO - 評価結果 (6-9m → 9-12m):
2025-12-19 11:15:18,015 - INFO -   AUC-ROC: 0.5123
2025-12-19 11:15:18,015 - INFO -   AUC-PR: 0.9430
2025-12-19 11:15:18,015 - INFO -   Precision: 0.9194
2025-12-19 11:15:18,015 - INFO -   Recall: 1.0000
2025-12-19 11:15:18,015 - INFO -   F1 Score: 0.9580
2025-12-19 11:15:18,015 - INFO - ================================================================================
2025-12-19 11:15:18,016 - INFO - 結果を保存: outputs/chromium_50projects_irl/train_6-9m/eval_9-12m
2025-12-19 11:15:18,019 - INFO - 
【10/10】パターン実行中...
2025-12-19 11:15:18,019 - INFO - ================================================================================
2025-12-19 11:15:18,019 - INFO - パターン: 9-12m → 9-12m
2025-12-19 11:15:18,019 - INFO - 訓練期間: 2021-10-01 00:00:00 ～ 2022-01-01 00:00:00
2025-12-19 11:15:18,019 - INFO - 評価期間: 2023-10-01 00:00:00 ～ 2024-01-01 00:00:00
2025-12-19 11:15:18,019 - INFO - ================================================================================
2025-12-19 11:15:18,019 - INFO - レビュー依頼データを読み込み: data/chromium_50proj_2021_2024_feat.csv
2025-12-19 11:15:18,195 - INFO - 総レビュー依頼数: 39385
2025-12-19 11:15:18,195 - INFO - 承諾数: 30785 (78.2%)
2025-12-19 11:15:18,195 - INFO - 拒否数: 8600 (21.8%)
2025-12-19 11:15:18,195 - INFO - 将来窓設定: 0～24ヶ月
2025-12-19 11:15:18,195 - INFO - 訓練用軌跡を抽出...
2025-12-19 11:15:18,195 - INFO - ================================================================================
2025-12-19 11:15:18,195 - INFO - レビュー承諾予測用軌跡抽出を開始（データリークなし版）
2025-12-19 11:15:18,195 - INFO - 訓練期間全体: 2021-10-01 00:00:00 ～ 2022-01-01 00:00:00
2025-12-19 11:15:18,195 - INFO - 将来窓: 0～24ヶ月
2025-12-19 11:15:18,195 - INFO - 拡張ラベル期間: 0～12ヶ月
2025-12-19 11:15:18,195 - INFO - プロジェクト: 全プロジェクト
2025-12-19 11:15:18,195 - INFO - ラベル定義: この期間で承諾=1、この期間で拒否=0、依頼なし→拡張期間チェック、訓練時は拡張期間にも依頼なしで除外
2025-12-19 11:15:18,195 - INFO - データリーク防止: 訓練期間内でラベル計算
2025-12-19 11:15:18,195 - INFO - ================================================================================
2025-12-19 11:15:18,196 - INFO - 特徴量計算期間（訓練全体）: 2021-10-01 00:00:00 ～ 2022-01-01 00:00:00
2025-12-19 11:15:18,196 - INFO - 全体ラベル期間（train_end時点から）: 2022-01-01 00:00:00 ～ 2024-01-01 00:00:00
2025-12-19 11:15:18,201 - INFO - 特徴量計算期間内のレビュアー数: 124
2025-12-19 11:15:18,777 - INFO - ================================================================================
2025-12-19 11:15:18,777 - INFO - 軌跡抽出完了: 104サンプル（レビュアー）
2025-12-19 11:15:18,777 - INFO -   スキップ（最小依頼数未満）: 0
2025-12-19 11:15:18,777 - INFO -   スキップ（訓練期間末尾まで依頼なし）: 20
2025-12-19 11:15:18,777 - INFO -   正例（この期間で承諾あり）: 98 (94.2%)
2025-12-19 11:15:18,777 - INFO -   負例（この期間で承諾なし）: 6 (5.8%)
2025-12-19 11:15:18,777 - INFO -     - 依頼あり→拒否（重み=1.0）: 6
2025-12-19 11:15:18,777 - INFO -   総ステップ数: 208
2025-12-19 11:15:18,777 - INFO -   継続ステップ率: 59.6% (124/208)
2025-12-19 11:15:18,777 - INFO - ================================================================================
/Users/kazuki-h/research/multiproject_research/.venv/lib/python3.13/site-packages/torch/nn/modules/rnn.py:123: UserWarning: dropout option adds dropout after all but last recurrent layer, so non-zero dropout expects num_layers greater than 1, but got dropout=0.2 and num_layers=1
  warnings.warn(
2025-12-19 11:15:18,780 - INFO - 継続予測IRLシステムを初期化しました
2025-12-19 11:15:18,780 - INFO - 訓練データ正例率: 94.2% (98/104)
2025-12-19 11:15:18,780 - INFO - Focal Loss パラメータ更新: alpha=0.400, gamma=1.000
2025-12-19 11:15:18,780 - INFO - 正例率 94.2% に基づき自動調整: バランス重視（正例率≥60%・軽い正例優先)
2025-12-19 11:15:18,780 - INFO - IRLモデルを訓練...
2025-12-19 11:15:18,780 - INFO - ============================================================
2025-12-19 11:15:18,780 - INFO - 時系列IRL訓練開始
2025-12-19 11:15:18,780 - INFO - 軌跡数: 104
2025-12-19 11:15:18,780 - INFO - エポック数: 20
2025-12-19 11:15:18,780 - INFO - ============================================================
2025-12-19 11:15:19,035 - INFO - エポック 0: 平均損失 = 1.1393
2025-12-19 11:15:20,939 - INFO - エポック 10: 平均損失 = 0.8603
2025-12-19 11:15:22,656 - INFO - 時系列IRL訓練完了
2025-12-19 11:15:22,656 - INFO - 訓練データ上で最適閾値を決定...
2025-12-19 11:15:24,782 - INFO - 最適閾値: 0.0540
2025-12-19 11:15:24,782 - INFO - 訓練データ性能: Precision=0.942, Recall=1.000, F1=0.970
2025-12-19 11:15:24,783 - INFO - モデルを保存: outputs/chromium_50projects_irl/train_9-12m/irl_model.pt
2025-12-19 11:15:24,784 - INFO - 最適閾値を保存: outputs/chromium_50projects_irl/train_9-12m/optimal_threshold.json
2025-12-19 11:15:24,784 - INFO - 評価用軌跡を抽出...
2025-12-19 11:15:24,784 - INFO - ================================================================================
2025-12-19 11:15:24,784 - INFO - 評価用軌跡抽出を開始（スナップショット特徴量用）
2025-12-19 11:15:24,784 - INFO - Cutoff日: 2022-01-01 00:00:00
2025-12-19 11:15:24,784 - INFO - 履歴ウィンドウ: 3ヶ月
2025-12-19 11:15:24,784 - INFO - 将来窓: 21～24ヶ月
2025-12-19 11:15:24,784 - INFO - 拡張ラベル期間: 21～12ヶ月
2025-12-19 11:15:24,784 - INFO - プロジェクト: 全プロジェクト
2025-12-19 11:15:24,784 - INFO - 継続判定: この期間で承諾=1、この期間で拒否=0、依頼なし→拡張期間チェック、評価時は拡張期間にも依頼なしで除外（予測の母集団に入れない）
2025-12-19 11:15:24,784 - INFO - ================================================================================
2025-12-19 11:15:24,784 - INFO - 履歴期間: 2021-10-01 00:00:00 ～ 2022-01-01 00:00:00
2025-12-19 11:15:24,784 - INFO - 評価期間: 2023-10-01 00:00:00 ～ 2024-01-01 00:00:00
2025-12-19 11:15:24,786 - INFO - 履歴期間内のレビュアー数: 124
2025-12-19 11:15:24,949 - INFO - ================================================================================
2025-12-19 11:15:24,949 - INFO - 評価用軌跡抽出完了: 70サンプル
2025-12-19 11:15:24,949 - INFO -   スキップ（最小依頼数未満）: 0
2025-12-19 11:15:24,949 - INFO -   スキップ（訓練期間末尾まで依頼なし）: 54
2025-12-19 11:15:24,949 - INFO -   正例（この期間で承諾あり）: 63 (90.0%)
2025-12-19 11:15:24,949 - INFO -   負例（この期間で承諾なし）: 7 (10.0%)
2025-12-19 11:15:24,949 - INFO -     - 依頼あり→拒否（重み=1.0）: 7
2025-12-19 11:15:24,949 - INFO - ================================================================================
2025-12-19 11:15:24,949 - INFO - 予測を実行...
2025-12-19 11:15:27,074 - INFO - ================================================================================
2025-12-19 11:15:27,074 - INFO - 評価結果 (9-12m → 9-12m):
2025-12-19 11:15:27,074 - INFO -   AUC-ROC: 0.2132
2025-12-19 11:15:27,074 - INFO -   AUC-PR: 0.8310
2025-12-19 11:15:27,074 - INFO -   Precision: 0.9000
2025-12-19 11:15:27,074 - INFO -   Recall: 1.0000
2025-12-19 11:15:27,074 - INFO -   F1 Score: 0.9474
2025-12-19 11:15:27,074 - INFO - ================================================================================
2025-12-19 11:15:27,075 - INFO - 結果を保存: outputs/chromium_50projects_irl/train_9-12m/eval_9-12m
2025-12-19 11:15:27,079 - INFO - ================================================================================
2025-12-19 11:15:27,079 - INFO - メトリクスマトリクスを作成中...
2025-12-19 11:15:27,079 - INFO - ================================================================================
2025-12-19 11:15:27,082 - INFO - 保存: outputs/chromium_50projects_irl/matrix_AUC_ROC.csv
2025-12-19 11:15:27,085 - INFO - 
           0-3m      3-6m      6-9m     9-12m
0-3m   0.266106  0.788889  0.441043  0.611979
3-6m        NaN  0.262411  0.298611  0.414179
6-9m        NaN       NaN  0.459184  0.512281
9-12m       NaN       NaN       NaN  0.213152
2025-12-19 11:15:27,086 - INFO - 保存: outputs/chromium_50projects_irl/matrix_AUC_PR.csv
2025-12-19 11:15:27,087 - INFO - 
           0-3m      3-6m      6-9m     9-12m
0-3m   0.794738  0.989654  0.821252  0.956904
3-6m        NaN  0.919084  0.742887  0.941689
6-9m        NaN       NaN  0.895193  0.943041
9-12m       NaN       NaN       NaN  0.830996
2025-12-19 11:15:27,088 - INFO - 保存: outputs/chromium_50projects_irl/matrix_PRECISION.csv
2025-12-19 11:15:27,089 - INFO - 
          0-3m      3-6m      6-9m     9-12m
0-3m   0.87931  0.957447  0.844828  0.914286
3-6m       NaN  0.940000  0.842105  0.943662
6-9m       NaN       NaN  0.890909  0.919355
9-12m      NaN       NaN       NaN  0.900000
2025-12-19 11:15:27,089 - INFO - 保存: outputs/chromium_50projects_irl/matrix_RECALL.csv
2025-12-19 11:15:27,090 - INFO - 
       0-3m  3-6m  6-9m  9-12m
0-3m    1.0   1.0   1.0    1.0
3-6m    NaN   1.0   1.0    1.0
6-9m    NaN   NaN   1.0    1.0
9-12m   NaN   NaN   NaN    1.0
2025-12-19 11:15:27,091 - INFO - 保存: outputs/chromium_50projects_irl/matrix_f1_score.csv
2025-12-19 11:15:27,092 - INFO - 
          0-3m      3-6m      6-9m     9-12m
0-3m   0.93578  0.978261  0.915888  0.955224
3-6m       NaN  0.969072  0.914286  0.971014
6-9m       NaN       NaN  0.942308  0.957983
9-12m      NaN       NaN       NaN  0.947368
2025-12-19 11:15:27,092 - INFO - ================================================================================
2025-12-19 11:15:27,092 - INFO - マトリクス作成完了
2025-12-19 11:15:27,092 - INFO - ================================================================================
2025-12-19 11:15:27,092 - INFO - ================================================================================
2025-12-19 11:15:27,092 - INFO - 全パターンの訓練・評価が完了しました
2025-12-19 11:15:27,092 - INFO - 結果: outputs/chromium_50projects_irl
2025-12-19 11:15:27,092 - INFO - ================================================================================
