2025-12-18 11:47:13,733 - INFO - 訓練期間ベース: 2021-01-01 00:00:00
2025-12-18 11:47:13,733 - INFO - 評価期間ベース: 2023-01-01 00:00:00
2025-12-18 11:47:13,734 - INFO - 生成されたパターン数: 10
2025-12-18 11:47:13,734 - INFO -   0-3m → 0-3m
2025-12-18 11:47:13,734 - INFO -   0-3m → 3-6m
2025-12-18 11:47:13,734 - INFO -   0-3m → 6-9m
2025-12-18 11:47:13,734 - INFO -   0-3m → 9-12m
2025-12-18 11:47:13,734 - INFO -   3-6m → 3-6m
2025-12-18 11:47:13,734 - INFO -   3-6m → 6-9m
2025-12-18 11:47:13,734 - INFO -   3-6m → 9-12m
2025-12-18 11:47:13,734 - INFO -   6-9m → 6-9m
2025-12-18 11:47:13,734 - INFO -   6-9m → 9-12m
2025-12-18 11:47:13,734 - INFO -   9-12m → 9-12m
2025-12-18 11:47:13,734 - INFO - ================================================================================
2025-12-18 11:47:13,734 - INFO - 全10パターンの訓練・評価を開始
2025-12-18 11:47:13,734 - INFO - ================================================================================
2025-12-18 11:47:13,734 - INFO - 
【1/10】パターン実行中...
2025-12-18 11:47:13,734 - INFO - ================================================================================
2025-12-18 11:47:13,734 - INFO - パターン: 0-3m → 0-3m
2025-12-18 11:47:13,734 - INFO - 訓練期間: 2021-01-01 00:00:00 ～ 2021-04-01 00:00:00
2025-12-18 11:47:13,734 - INFO - 評価期間: 2023-01-01 00:00:00 ～ 2023-04-01 00:00:00
2025-12-18 11:47:13,734 - INFO - ================================================================================
2025-12-18 11:47:14,747 - INFO - レビュー依頼データを読み込み: data/chromium_50proj_2021_2024_feat.csv
2025-12-18 11:47:14,751 - INFO - 総レビュー依頼数: 236
2025-12-18 11:47:14,751 - INFO - 承諾数: 169 (71.6%)
2025-12-18 11:47:14,751 - INFO - 拒否数: 67 (28.4%)
2025-12-18 11:47:14,751 - INFO - 将来窓設定: 0～24ヶ月
2025-12-18 11:47:14,751 - INFO - 訓練用軌跡を抽出...
2025-12-18 11:47:14,751 - INFO - ================================================================================
2025-12-18 11:47:14,751 - INFO - レビュー承諾予測用軌跡抽出を開始（データリークなし版）
2025-12-18 11:47:14,751 - INFO - 訓練期間全体: 2021-01-01 00:00:00 ～ 2021-04-01 00:00:00
2025-12-18 11:47:14,751 - INFO - 将来窓: 0～24ヶ月
2025-12-18 11:47:14,751 - INFO - 拡張ラベル期間: 0～12ヶ月
2025-12-18 11:47:14,751 - INFO - プロジェクト: 全プロジェクト
2025-12-18 11:47:14,751 - INFO - ラベル定義: この期間で承諾=1、この期間で拒否=0、依頼なし→拡張期間チェック、訓練時は拡張期間にも依頼なしで除外
2025-12-18 11:47:14,751 - INFO - データリーク防止: 訓練期間内でラベル計算
2025-12-18 11:47:14,751 - INFO - ================================================================================
2025-12-18 11:47:14,752 - INFO - 特徴量計算期間（訓練全体）: 2021-01-01 00:00:00 ～ 2021-04-01 00:00:00
2025-12-18 11:47:14,752 - INFO - 全体ラベル期間（train_end時点から）: 2021-04-01 00:00:00 ～ 2023-04-01 00:00:00
2025-12-18 11:47:14,752 - INFO - 特徴量計算期間内のレビュアー数: 6
2025-12-18 11:47:14,759 - INFO - ================================================================================
2025-12-18 11:47:14,759 - INFO - 軌跡抽出完了: 3サンプル（レビュアー）
2025-12-18 11:47:14,759 - INFO -   スキップ（最小依頼数未満）: 0
2025-12-18 11:47:14,759 - INFO -   スキップ（訓練期間末尾まで依頼なし）: 3
2025-12-18 11:47:14,759 - INFO -   正例（この期間で承諾あり）: 3 (100.0%)
2025-12-18 11:47:14,759 - INFO -   負例（この期間で承諾なし）: 0 (0.0%)
2025-12-18 11:47:14,759 - INFO -   総ステップ数: 6
2025-12-18 11:47:14,759 - INFO -   継続ステップ率: 50.0% (3/6)
2025-12-18 11:47:14,759 - INFO - ================================================================================
/Users/kazuki-h/research/multiproject_research/.venv/lib/python3.13/site-packages/torch/nn/modules/rnn.py:123: UserWarning: dropout option adds dropout after all but last recurrent layer, so non-zero dropout expects num_layers greater than 1, but got dropout=0.2 and num_layers=1
  warnings.warn(
2025-12-18 11:47:15,122 - INFO - 継続予測IRLシステムを初期化しました
2025-12-18 11:47:15,122 - INFO - 訓練データ正例率: 100.0% (3/3)
2025-12-18 11:47:15,122 - INFO - Focal Loss パラメータ更新: alpha=0.400, gamma=1.000
2025-12-18 11:47:15,122 - INFO - 正例率 100.0% に基づき自動調整: バランス重視（正例率≥60%・軽い正例優先)
2025-12-18 11:47:15,122 - INFO - IRLモデルを訓練...
2025-12-18 11:47:15,122 - INFO - ============================================================
2025-12-18 11:47:15,122 - INFO - 時系列IRL訓練開始
2025-12-18 11:47:15,122 - INFO - 軌跡数: 3
2025-12-18 11:47:15,122 - INFO - エポック数: 50
2025-12-18 11:47:15,122 - INFO - ============================================================
2025-12-18 11:47:15,141 - INFO - エポック 0: 平均損失 = 1.1653
2025-12-18 11:47:15,184 - INFO - エポック 10: 平均損失 = 1.1481
2025-12-18 11:47:15,226 - INFO - エポック 20: 平均損失 = 1.1064
2025-12-18 11:47:15,268 - INFO - エポック 30: 平均損失 = 1.0891
2025-12-18 11:47:15,310 - INFO - エポック 40: 平均損失 = 1.0256
2025-12-18 11:47:15,349 - INFO - 時系列IRL訓練完了
2025-12-18 11:47:15,349 - INFO - 訓練データ上で最適閾値を決定...
2025-12-18 11:47:15,351 - INFO - 最適閾値: 0.3503
2025-12-18 11:47:15,351 - INFO - 訓練データ性能: Precision=1.000, Recall=1.000, F1=1.000
2025-12-18 11:47:15,354 - INFO - モデルを保存: outputs/chromium_50projects_irl/train_0-3m/irl_model.pt
2025-12-18 11:47:15,354 - INFO - 最適閾値を保存: outputs/chromium_50projects_irl/train_0-3m/optimal_threshold.json
2025-12-18 11:47:15,355 - INFO - 評価用軌跡を抽出...
2025-12-18 11:47:15,355 - INFO - ================================================================================
2025-12-18 11:47:15,355 - INFO - 評価用軌跡抽出を開始（スナップショット特徴量用）
2025-12-18 11:47:15,355 - INFO - Cutoff日: 2021-04-01 00:00:00
2025-12-18 11:47:15,355 - INFO - 履歴ウィンドウ: 3ヶ月
2025-12-18 11:47:15,355 - INFO - 将来窓: 21～24ヶ月
2025-12-18 11:47:15,355 - INFO - 拡張ラベル期間: 21～12ヶ月
2025-12-18 11:47:15,355 - INFO - プロジェクト: 全プロジェクト
2025-12-18 11:47:15,355 - INFO - 継続判定: この期間で承諾=1、この期間で拒否=0、依頼なし→拡張期間チェック、評価時は拡張期間にも依頼なしで除外（予測の母集団に入れない）
2025-12-18 11:47:15,355 - INFO - ================================================================================
2025-12-18 11:47:15,355 - INFO - 履歴期間: 2021-01-01 00:00:00 ～ 2021-04-01 00:00:00
2025-12-18 11:47:15,355 - INFO - 評価期間: 2023-01-01 00:00:00 ～ 2023-04-01 00:00:00
2025-12-18 11:47:15,356 - INFO - 履歴期間内のレビュアー数: 6
2025-12-18 11:47:15,360 - INFO - ================================================================================
2025-12-18 11:47:15,360 - INFO - 評価用軌跡抽出完了: 3サンプル
2025-12-18 11:47:15,360 - INFO -   スキップ（最小依頼数未満）: 0
2025-12-18 11:47:15,360 - INFO -   スキップ（訓練期間末尾まで依頼なし）: 3
2025-12-18 11:47:15,360 - INFO -   正例（この期間で承諾あり）: 3 (100.0%)
2025-12-18 11:47:15,360 - INFO -   負例（この期間で承諾なし）: 0 (0.0%)
2025-12-18 11:47:15,360 - INFO - ================================================================================
2025-12-18 11:47:15,360 - INFO - 予測を実行...
/Users/kazuki-h/research/multiproject_research/.venv/lib/python3.13/site-packages/sklearn/metrics/_ranking.py:424: UndefinedMetricWarning: Only one class is present in y_true. ROC AUC score is not defined in that case.
  warnings.warn(
2025-12-18 11:47:15,365 - INFO - ================================================================================
2025-12-18 11:47:15,365 - INFO - 評価結果 (0-3m → 0-3m):
2025-12-18 11:47:15,365 - INFO -   AUC-ROC: nan
2025-12-18 11:47:15,365 - INFO -   AUC-PR: 1.0000
2025-12-18 11:47:15,365 - INFO -   Precision: 1.0000
2025-12-18 11:47:15,365 - INFO -   Recall: 1.0000
2025-12-18 11:47:15,365 - INFO -   F1 Score: 1.0000
2025-12-18 11:47:15,365 - INFO - ================================================================================
2025-12-18 11:47:15,367 - INFO - 結果を保存: outputs/chromium_50projects_irl/train_0-3m/eval_0-3m
2025-12-18 11:47:15,367 - INFO - 
【2/10】パターン実行中...
2025-12-18 11:47:15,367 - INFO - ================================================================================
2025-12-18 11:47:15,367 - INFO - パターン: 0-3m → 3-6m
2025-12-18 11:47:15,367 - INFO - 訓練期間: 2021-01-01 00:00:00 ～ 2021-04-01 00:00:00
2025-12-18 11:47:15,367 - INFO - 評価期間: 2023-04-01 00:00:00 ～ 2023-07-01 00:00:00
2025-12-18 11:47:15,367 - INFO - ================================================================================
2025-12-18 11:47:15,367 - INFO - レビュー依頼データを読み込み: data/chromium_50proj_2021_2024_feat.csv
2025-12-18 11:47:15,370 - INFO - 総レビュー依頼数: 236
2025-12-18 11:47:15,370 - INFO - 承諾数: 169 (71.6%)
2025-12-18 11:47:15,370 - INFO - 拒否数: 67 (28.4%)
2025-12-18 11:47:15,370 - INFO - 将来窓設定: 0～27ヶ月
2025-12-18 11:47:15,370 - INFO - 訓練用軌跡を抽出...
2025-12-18 11:47:15,370 - INFO - ================================================================================
2025-12-18 11:47:15,370 - INFO - レビュー承諾予測用軌跡抽出を開始（データリークなし版）
2025-12-18 11:47:15,370 - INFO - 訓練期間全体: 2021-01-01 00:00:00 ～ 2021-04-01 00:00:00
2025-12-18 11:47:15,370 - INFO - 将来窓: 0～27ヶ月
2025-12-18 11:47:15,370 - INFO - 拡張ラベル期間: 0～12ヶ月
2025-12-18 11:47:15,370 - INFO - プロジェクト: 全プロジェクト
2025-12-18 11:47:15,370 - INFO - ラベル定義: この期間で承諾=1、この期間で拒否=0、依頼なし→拡張期間チェック、訓練時は拡張期間にも依頼なしで除外
2025-12-18 11:47:15,370 - INFO - データリーク防止: 訓練期間内でラベル計算
2025-12-18 11:47:15,370 - INFO - ================================================================================
2025-12-18 11:47:15,370 - INFO - 特徴量計算期間（訓練全体）: 2021-01-01 00:00:00 ～ 2021-04-01 00:00:00
2025-12-18 11:47:15,370 - INFO - 全体ラベル期間（train_end時点から）: 2021-04-01 00:00:00 ～ 2023-07-01 00:00:00
2025-12-18 11:47:15,371 - INFO - 特徴量計算期間内のレビュアー数: 6
2025-12-18 11:47:15,378 - INFO - ================================================================================
2025-12-18 11:47:15,378 - INFO - 軌跡抽出完了: 3サンプル（レビュアー）
2025-12-18 11:47:15,378 - INFO -   スキップ（最小依頼数未満）: 0
2025-12-18 11:47:15,378 - INFO -   スキップ（訓練期間末尾まで依頼なし）: 3
2025-12-18 11:47:15,378 - INFO -   正例（この期間で承諾あり）: 3 (100.0%)
2025-12-18 11:47:15,378 - INFO -   負例（この期間で承諾なし）: 0 (0.0%)
2025-12-18 11:47:15,378 - INFO -   総ステップ数: 6
2025-12-18 11:47:15,378 - INFO -   継続ステップ率: 50.0% (3/6)
2025-12-18 11:47:15,378 - INFO - ================================================================================
/Users/kazuki-h/research/multiproject_research/.venv/lib/python3.13/site-packages/torch/nn/modules/rnn.py:123: UserWarning: dropout option adds dropout after all but last recurrent layer, so non-zero dropout expects num_layers greater than 1, but got dropout=0.2 and num_layers=1
  warnings.warn(
2025-12-18 11:47:15,379 - INFO - 継続予測IRLシステムを初期化しました
2025-12-18 11:47:15,379 - INFO - 訓練データ正例率: 100.0% (3/3)
2025-12-18 11:47:15,379 - INFO - Focal Loss パラメータ更新: alpha=0.400, gamma=1.000
2025-12-18 11:47:15,379 - INFO - 正例率 100.0% に基づき自動調整: バランス重視（正例率≥60%・軽い正例優先)
2025-12-18 11:47:15,379 - INFO - IRLモデルを訓練...
2025-12-18 11:47:15,379 - INFO - ============================================================
2025-12-18 11:47:15,379 - INFO - 時系列IRL訓練開始
2025-12-18 11:47:15,379 - INFO - 軌跡数: 3
2025-12-18 11:47:15,379 - INFO - エポック数: 50
2025-12-18 11:47:15,379 - INFO - ============================================================
2025-12-18 11:47:15,385 - INFO - エポック 0: 平均損失 = 1.1619
2025-12-18 11:47:15,430 - INFO - エポック 10: 平均損失 = 1.1545
2025-12-18 11:47:15,475 - INFO - エポック 20: 平均損失 = 1.1374
2025-12-18 11:47:15,520 - INFO - エポック 30: 平均損失 = 1.1085
2025-12-18 11:47:15,562 - INFO - エポック 40: 平均損失 = 1.0515
2025-12-18 11:47:15,616 - INFO - 時系列IRL訓練完了
2025-12-18 11:47:15,616 - INFO - 訓練データ上で最適閾値を決定...
2025-12-18 11:47:15,618 - INFO - 最適閾値: 0.3510
2025-12-18 11:47:15,618 - INFO - 訓練データ性能: Precision=1.000, Recall=1.000, F1=1.000
2025-12-18 11:47:15,619 - INFO - モデルを保存: outputs/chromium_50projects_irl/train_0-3m/irl_model.pt
2025-12-18 11:47:15,619 - INFO - 最適閾値を保存: outputs/chromium_50projects_irl/train_0-3m/optimal_threshold.json
2025-12-18 11:47:15,619 - INFO - 評価用軌跡を抽出...
2025-12-18 11:47:15,619 - INFO - ================================================================================
2025-12-18 11:47:15,619 - INFO - 評価用軌跡抽出を開始（スナップショット特徴量用）
2025-12-18 11:47:15,619 - INFO - Cutoff日: 2021-04-01 00:00:00
2025-12-18 11:47:15,619 - INFO - 履歴ウィンドウ: 3ヶ月
2025-12-18 11:47:15,619 - INFO - 将来窓: 24～27ヶ月
2025-12-18 11:47:15,619 - INFO - 拡張ラベル期間: 24～12ヶ月
2025-12-18 11:47:15,619 - INFO - プロジェクト: 全プロジェクト
2025-12-18 11:47:15,619 - INFO - 継続判定: この期間で承諾=1、この期間で拒否=0、依頼なし→拡張期間チェック、評価時は拡張期間にも依頼なしで除外（予測の母集団に入れない）
2025-12-18 11:47:15,619 - INFO - ================================================================================
2025-12-18 11:47:15,619 - INFO - 履歴期間: 2021-01-01 00:00:00 ～ 2021-04-01 00:00:00
2025-12-18 11:47:15,619 - INFO - 評価期間: 2023-04-01 00:00:00 ～ 2023-07-01 00:00:00
2025-12-18 11:47:15,620 - INFO - 履歴期間内のレビュアー数: 6
2025-12-18 11:47:15,624 - INFO - ================================================================================
2025-12-18 11:47:15,624 - INFO - 評価用軌跡抽出完了: 2サンプル
2025-12-18 11:47:15,624 - INFO -   スキップ（最小依頼数未満）: 0
2025-12-18 11:47:15,624 - INFO -   スキップ（訓練期間末尾まで依頼なし）: 4
2025-12-18 11:47:15,624 - INFO -   正例（この期間で承諾あり）: 2 (100.0%)
2025-12-18 11:47:15,624 - INFO -   負例（この期間で承諾なし）: 0 (0.0%)
2025-12-18 11:47:15,624 - INFO - ================================================================================
2025-12-18 11:47:15,624 - INFO - 予測を実行...
/Users/kazuki-h/research/multiproject_research/.venv/lib/python3.13/site-packages/sklearn/metrics/_ranking.py:424: UndefinedMetricWarning: Only one class is present in y_true. ROC AUC score is not defined in that case.
  warnings.warn(
2025-12-18 11:47:15,627 - INFO - ================================================================================
2025-12-18 11:47:15,627 - INFO - 評価結果 (0-3m → 3-6m):
2025-12-18 11:47:15,627 - INFO -   AUC-ROC: nan
2025-12-18 11:47:15,627 - INFO -   AUC-PR: 1.0000
2025-12-18 11:47:15,627 - INFO -   Precision: 1.0000
2025-12-18 11:47:15,627 - INFO -   Recall: 1.0000
2025-12-18 11:47:15,627 - INFO -   F1 Score: 1.0000
2025-12-18 11:47:15,627 - INFO - ================================================================================
2025-12-18 11:47:15,628 - INFO - 結果を保存: outputs/chromium_50projects_irl/train_0-3m/eval_3-6m
2025-12-18 11:47:15,628 - INFO - 
【3/10】パターン実行中...
2025-12-18 11:47:15,629 - INFO - ================================================================================
2025-12-18 11:47:15,629 - INFO - パターン: 0-3m → 6-9m
2025-12-18 11:47:15,629 - INFO - 訓練期間: 2021-01-01 00:00:00 ～ 2021-04-01 00:00:00
2025-12-18 11:47:15,629 - INFO - 評価期間: 2023-07-01 00:00:00 ～ 2023-10-01 00:00:00
2025-12-18 11:47:15,629 - INFO - ================================================================================
2025-12-18 11:47:15,629 - INFO - レビュー依頼データを読み込み: data/chromium_50proj_2021_2024_feat.csv
2025-12-18 11:47:15,631 - INFO - 総レビュー依頼数: 236
2025-12-18 11:47:15,631 - INFO - 承諾数: 169 (71.6%)
2025-12-18 11:47:15,632 - INFO - 拒否数: 67 (28.4%)
2025-12-18 11:47:15,632 - INFO - 将来窓設定: 0～30ヶ月
2025-12-18 11:47:15,632 - INFO - 訓練用軌跡を抽出...
2025-12-18 11:47:15,632 - INFO - ================================================================================
2025-12-18 11:47:15,632 - INFO - レビュー承諾予測用軌跡抽出を開始（データリークなし版）
2025-12-18 11:47:15,632 - INFO - 訓練期間全体: 2021-01-01 00:00:00 ～ 2021-04-01 00:00:00
2025-12-18 11:47:15,632 - INFO - 将来窓: 0～30ヶ月
2025-12-18 11:47:15,632 - INFO - 拡張ラベル期間: 0～12ヶ月
2025-12-18 11:47:15,632 - INFO - プロジェクト: 全プロジェクト
2025-12-18 11:47:15,632 - INFO - ラベル定義: この期間で承諾=1、この期間で拒否=0、依頼なし→拡張期間チェック、訓練時は拡張期間にも依頼なしで除外
2025-12-18 11:47:15,632 - INFO - データリーク防止: 訓練期間内でラベル計算
2025-12-18 11:47:15,632 - INFO - ================================================================================
2025-12-18 11:47:15,632 - INFO - 特徴量計算期間（訓練全体）: 2021-01-01 00:00:00 ～ 2021-04-01 00:00:00
2025-12-18 11:47:15,632 - INFO - 全体ラベル期間（train_end時点から）: 2021-04-01 00:00:00 ～ 2023-10-01 00:00:00
2025-12-18 11:47:15,632 - INFO - 特徴量計算期間内のレビュアー数: 6
2025-12-18 11:47:15,640 - INFO - ================================================================================
2025-12-18 11:47:15,640 - INFO - 軌跡抽出完了: 3サンプル（レビュアー）
2025-12-18 11:47:15,640 - INFO -   スキップ（最小依頼数未満）: 0
2025-12-18 11:47:15,640 - INFO -   スキップ（訓練期間末尾まで依頼なし）: 3
2025-12-18 11:47:15,640 - INFO -   正例（この期間で承諾あり）: 3 (100.0%)
2025-12-18 11:47:15,640 - INFO -   負例（この期間で承諾なし）: 0 (0.0%)
2025-12-18 11:47:15,640 - INFO -   総ステップ数: 6
2025-12-18 11:47:15,640 - INFO -   継続ステップ率: 50.0% (3/6)
2025-12-18 11:47:15,640 - INFO - ================================================================================
/Users/kazuki-h/research/multiproject_research/.venv/lib/python3.13/site-packages/torch/nn/modules/rnn.py:123: UserWarning: dropout option adds dropout after all but last recurrent layer, so non-zero dropout expects num_layers greater than 1, but got dropout=0.2 and num_layers=1
  warnings.warn(
2025-12-18 11:47:15,641 - INFO - 継続予測IRLシステムを初期化しました
2025-12-18 11:47:15,641 - INFO - 訓練データ正例率: 100.0% (3/3)
2025-12-18 11:47:15,641 - INFO - Focal Loss パラメータ更新: alpha=0.400, gamma=1.000
2025-12-18 11:47:15,641 - INFO - 正例率 100.0% に基づき自動調整: バランス重視（正例率≥60%・軽い正例優先)
2025-12-18 11:47:15,641 - INFO - IRLモデルを訓練...
2025-12-18 11:47:15,641 - INFO - ============================================================
2025-12-18 11:47:15,641 - INFO - 時系列IRL訓練開始
2025-12-18 11:47:15,641 - INFO - 軌跡数: 3
2025-12-18 11:47:15,641 - INFO - エポック数: 50
2025-12-18 11:47:15,641 - INFO - ============================================================
2025-12-18 11:47:15,648 - INFO - エポック 0: 平均損失 = 1.1725
2025-12-18 11:47:15,725 - INFO - エポック 10: 平均損失 = 1.1476
2025-12-18 11:47:15,850 - INFO - エポック 20: 平均損失 = 1.1188
2025-12-18 11:47:15,981 - INFO - エポック 30: 平均損失 = 1.0870
2025-12-18 11:47:16,066 - INFO - エポック 40: 平均損失 = 1.0563
2025-12-18 11:47:16,143 - INFO - 時系列IRL訓練完了
2025-12-18 11:47:16,143 - INFO - 訓練データ上で最適閾値を決定...
2025-12-18 11:47:16,145 - INFO - 最適閾値: 0.3936
2025-12-18 11:47:16,145 - INFO - 訓練データ性能: Precision=1.000, Recall=1.000, F1=1.000
2025-12-18 11:47:16,146 - INFO - モデルを保存: outputs/chromium_50projects_irl/train_0-3m/irl_model.pt
2025-12-18 11:47:16,147 - INFO - 最適閾値を保存: outputs/chromium_50projects_irl/train_0-3m/optimal_threshold.json
2025-12-18 11:47:16,147 - INFO - 評価用軌跡を抽出...
2025-12-18 11:47:16,147 - INFO - ================================================================================
2025-12-18 11:47:16,147 - INFO - 評価用軌跡抽出を開始（スナップショット特徴量用）
2025-12-18 11:47:16,147 - INFO - Cutoff日: 2021-04-01 00:00:00
2025-12-18 11:47:16,147 - INFO - 履歴ウィンドウ: 3ヶ月
2025-12-18 11:47:16,147 - INFO - 将来窓: 27～30ヶ月
2025-12-18 11:47:16,147 - INFO - 拡張ラベル期間: 27～12ヶ月
2025-12-18 11:47:16,147 - INFO - プロジェクト: 全プロジェクト
2025-12-18 11:47:16,147 - INFO - 継続判定: この期間で承諾=1、この期間で拒否=0、依頼なし→拡張期間チェック、評価時は拡張期間にも依頼なしで除外（予測の母集団に入れない）
2025-12-18 11:47:16,147 - INFO - ================================================================================
2025-12-18 11:47:16,147 - INFO - 履歴期間: 2021-01-01 00:00:00 ～ 2021-04-01 00:00:00
2025-12-18 11:47:16,147 - INFO - 評価期間: 2023-07-01 00:00:00 ～ 2023-10-01 00:00:00
2025-12-18 11:47:16,148 - INFO - 履歴期間内のレビュアー数: 6
2025-12-18 11:47:16,152 - INFO - ================================================================================
2025-12-18 11:47:16,152 - INFO - 評価用軌跡抽出完了: 2サンプル
2025-12-18 11:47:16,152 - INFO -   スキップ（最小依頼数未満）: 0
2025-12-18 11:47:16,152 - INFO -   スキップ（訓練期間末尾まで依頼なし）: 4
2025-12-18 11:47:16,152 - INFO -   正例（この期間で承諾あり）: 1 (50.0%)
2025-12-18 11:47:16,152 - INFO -   負例（この期間で承諾なし）: 1 (50.0%)
2025-12-18 11:47:16,152 - INFO -     - 依頼あり→拒否（重み=1.0）: 1
2025-12-18 11:47:16,152 - INFO - ================================================================================
2025-12-18 11:47:16,152 - INFO - 予測を実行...
2025-12-18 11:47:16,159 - INFO - ================================================================================
2025-12-18 11:47:16,159 - INFO - 評価結果 (0-3m → 6-9m):
2025-12-18 11:47:16,159 - INFO -   AUC-ROC: 0.0000
2025-12-18 11:47:16,159 - INFO -   AUC-PR: 0.2500
2025-12-18 11:47:16,159 - INFO -   Precision: 0.5000
2025-12-18 11:47:16,159 - INFO -   Recall: 1.0000
2025-12-18 11:47:16,159 - INFO -   F1 Score: 0.6667
2025-12-18 11:47:16,159 - INFO - ================================================================================
2025-12-18 11:47:16,161 - INFO - 結果を保存: outputs/chromium_50projects_irl/train_0-3m/eval_6-9m
2025-12-18 11:47:16,161 - INFO - 
【4/10】パターン実行中...
2025-12-18 11:47:16,161 - INFO - ================================================================================
2025-12-18 11:47:16,161 - INFO - パターン: 0-3m → 9-12m
2025-12-18 11:47:16,161 - INFO - 訓練期間: 2021-01-01 00:00:00 ～ 2021-04-01 00:00:00
2025-12-18 11:47:16,161 - INFO - 評価期間: 2023-10-01 00:00:00 ～ 2024-01-01 00:00:00
2025-12-18 11:47:16,161 - INFO - ================================================================================
2025-12-18 11:47:16,161 - INFO - レビュー依頼データを読み込み: data/chromium_50proj_2021_2024_feat.csv
2025-12-18 11:47:16,165 - INFO - 総レビュー依頼数: 236
2025-12-18 11:47:16,166 - INFO - 承諾数: 169 (71.6%)
2025-12-18 11:47:16,166 - INFO - 拒否数: 67 (28.4%)
2025-12-18 11:47:16,166 - INFO - 将来窓設定: 0～33ヶ月
2025-12-18 11:47:16,166 - INFO - 訓練用軌跡を抽出...
2025-12-18 11:47:16,166 - INFO - ================================================================================
2025-12-18 11:47:16,166 - INFO - レビュー承諾予測用軌跡抽出を開始（データリークなし版）
2025-12-18 11:47:16,166 - INFO - 訓練期間全体: 2021-01-01 00:00:00 ～ 2021-04-01 00:00:00
2025-12-18 11:47:16,166 - INFO - 将来窓: 0～33ヶ月
2025-12-18 11:47:16,166 - INFO - 拡張ラベル期間: 0～12ヶ月
2025-12-18 11:47:16,166 - INFO - プロジェクト: 全プロジェクト
2025-12-18 11:47:16,166 - INFO - ラベル定義: この期間で承諾=1、この期間で拒否=0、依頼なし→拡張期間チェック、訓練時は拡張期間にも依頼なしで除外
2025-12-18 11:47:16,166 - INFO - データリーク防止: 訓練期間内でラベル計算
2025-12-18 11:47:16,166 - INFO - ================================================================================
2025-12-18 11:47:16,166 - INFO - 特徴量計算期間（訓練全体）: 2021-01-01 00:00:00 ～ 2021-04-01 00:00:00
2025-12-18 11:47:16,166 - INFO - 全体ラベル期間（train_end時点から）: 2021-04-01 00:00:00 ～ 2024-01-01 00:00:00
2025-12-18 11:47:16,167 - INFO - 特徴量計算期間内のレビュアー数: 6
2025-12-18 11:47:16,178 - INFO - ================================================================================
2025-12-18 11:47:16,178 - INFO - 軌跡抽出完了: 3サンプル（レビュアー）
2025-12-18 11:47:16,178 - INFO -   スキップ（最小依頼数未満）: 0
2025-12-18 11:47:16,178 - INFO -   スキップ（訓練期間末尾まで依頼なし）: 3
2025-12-18 11:47:16,178 - INFO -   正例（この期間で承諾あり）: 3 (100.0%)
2025-12-18 11:47:16,178 - INFO -   負例（この期間で承諾なし）: 0 (0.0%)
2025-12-18 11:47:16,178 - INFO -   総ステップ数: 6
2025-12-18 11:47:16,178 - INFO -   継続ステップ率: 50.0% (3/6)
2025-12-18 11:47:16,178 - INFO - ================================================================================
/Users/kazuki-h/research/multiproject_research/.venv/lib/python3.13/site-packages/torch/nn/modules/rnn.py:123: UserWarning: dropout option adds dropout after all but last recurrent layer, so non-zero dropout expects num_layers greater than 1, but got dropout=0.2 and num_layers=1
  warnings.warn(
2025-12-18 11:47:16,179 - INFO - 継続予測IRLシステムを初期化しました
2025-12-18 11:47:16,179 - INFO - 訓練データ正例率: 100.0% (3/3)
2025-12-18 11:47:16,179 - INFO - Focal Loss パラメータ更新: alpha=0.400, gamma=1.000
2025-12-18 11:47:16,179 - INFO - 正例率 100.0% に基づき自動調整: バランス重視（正例率≥60%・軽い正例優先)
2025-12-18 11:47:16,179 - INFO - IRLモデルを訓練...
2025-12-18 11:47:16,179 - INFO - ============================================================
2025-12-18 11:47:16,179 - INFO - 時系列IRL訓練開始
2025-12-18 11:47:16,179 - INFO - 軌跡数: 3
2025-12-18 11:47:16,179 - INFO - エポック数: 50
2025-12-18 11:47:16,179 - INFO - ============================================================
2025-12-18 11:47:16,189 - INFO - エポック 0: 平均損失 = 1.1567
2025-12-18 11:47:16,277 - INFO - エポック 10: 平均損失 = 1.1714
2025-12-18 11:47:16,362 - INFO - エポック 20: 平均損失 = 1.1393
2025-12-18 11:47:16,450 - INFO - エポック 30: 平均損失 = 1.1299
2025-12-18 11:47:16,523 - INFO - エポック 40: 平均損失 = 1.1213
2025-12-18 11:47:16,593 - INFO - 時系列IRL訓練完了
2025-12-18 11:47:16,593 - INFO - 訓練データ上で最適閾値を決定...
2025-12-18 11:47:16,595 - INFO - 最適閾値: 0.4237
2025-12-18 11:47:16,595 - INFO - 訓練データ性能: Precision=1.000, Recall=1.000, F1=1.000
2025-12-18 11:47:16,598 - INFO - モデルを保存: outputs/chromium_50projects_irl/train_0-3m/irl_model.pt
2025-12-18 11:47:16,599 - INFO - 最適閾値を保存: outputs/chromium_50projects_irl/train_0-3m/optimal_threshold.json
2025-12-18 11:47:16,599 - INFO - 評価用軌跡を抽出...
2025-12-18 11:47:16,599 - INFO - ================================================================================
2025-12-18 11:47:16,599 - INFO - 評価用軌跡抽出を開始（スナップショット特徴量用）
2025-12-18 11:47:16,599 - INFO - Cutoff日: 2021-04-01 00:00:00
2025-12-18 11:47:16,599 - INFO - 履歴ウィンドウ: 3ヶ月
2025-12-18 11:47:16,599 - INFO - 将来窓: 30～33ヶ月
2025-12-18 11:47:16,599 - INFO - 拡張ラベル期間: 30～12ヶ月
2025-12-18 11:47:16,599 - INFO - プロジェクト: 全プロジェクト
2025-12-18 11:47:16,599 - INFO - 継続判定: この期間で承諾=1、この期間で拒否=0、依頼なし→拡張期間チェック、評価時は拡張期間にも依頼なしで除外（予測の母集団に入れない）
2025-12-18 11:47:16,599 - INFO - ================================================================================
2025-12-18 11:47:16,599 - INFO - 履歴期間: 2021-01-01 00:00:00 ～ 2021-04-01 00:00:00
2025-12-18 11:47:16,599 - INFO - 評価期間: 2023-10-01 00:00:00 ～ 2024-01-01 00:00:00
2025-12-18 11:47:16,600 - INFO - 履歴期間内のレビュアー数: 6
2025-12-18 11:47:16,602 - INFO - ================================================================================
2025-12-18 11:47:16,602 - INFO - 評価用軌跡抽出完了: 0サンプル
2025-12-18 11:47:16,602 - INFO -   スキップ（最小依頼数未満）: 0
2025-12-18 11:47:16,602 - INFO -   スキップ（訓練期間末尾まで依頼なし）: 6
2025-12-18 11:47:16,602 - INFO - ================================================================================
2025-12-18 11:47:16,602 - ERROR - 評価用軌跡が抽出できませんでした
2025-12-18 11:47:16,602 - WARNING - パターン 0-3m → 9-12m をスキップ
2025-12-18 11:47:16,602 - INFO - 
【5/10】パターン実行中...
2025-12-18 11:47:16,602 - INFO - ================================================================================
2025-12-18 11:47:16,602 - INFO - パターン: 3-6m → 3-6m
2025-12-18 11:47:16,602 - INFO - 訓練期間: 2021-04-01 00:00:00 ～ 2021-07-01 00:00:00
2025-12-18 11:47:16,602 - INFO - 評価期間: 2023-04-01 00:00:00 ～ 2023-07-01 00:00:00
2025-12-18 11:47:16,602 - INFO - ================================================================================
2025-12-18 11:47:16,602 - INFO - レビュー依頼データを読み込み: data/chromium_50proj_2021_2024_feat.csv
2025-12-18 11:47:16,607 - INFO - 総レビュー依頼数: 236
2025-12-18 11:47:16,607 - INFO - 承諾数: 169 (71.6%)
2025-12-18 11:47:16,607 - INFO - 拒否数: 67 (28.4%)
2025-12-18 11:47:16,608 - INFO - 将来窓設定: 0～24ヶ月
2025-12-18 11:47:16,608 - INFO - 訓練用軌跡を抽出...
2025-12-18 11:47:16,608 - INFO - ================================================================================
2025-12-18 11:47:16,608 - INFO - レビュー承諾予測用軌跡抽出を開始（データリークなし版）
2025-12-18 11:47:16,608 - INFO - 訓練期間全体: 2021-04-01 00:00:00 ～ 2021-07-01 00:00:00
2025-12-18 11:47:16,608 - INFO - 将来窓: 0～24ヶ月
2025-12-18 11:47:16,608 - INFO - 拡張ラベル期間: 0～12ヶ月
2025-12-18 11:47:16,608 - INFO - プロジェクト: 全プロジェクト
2025-12-18 11:47:16,608 - INFO - ラベル定義: この期間で承諾=1、この期間で拒否=0、依頼なし→拡張期間チェック、訓練時は拡張期間にも依頼なしで除外
2025-12-18 11:47:16,608 - INFO - データリーク防止: 訓練期間内でラベル計算
2025-12-18 11:47:16,608 - INFO - ================================================================================
2025-12-18 11:47:16,608 - INFO - 特徴量計算期間（訓練全体）: 2021-04-01 00:00:00 ～ 2021-07-01 00:00:00
2025-12-18 11:47:16,608 - INFO - 全体ラベル期間（train_end時点から）: 2021-07-01 00:00:00 ～ 2023-07-01 00:00:00
2025-12-18 11:47:16,609 - INFO - 特徴量計算期間内のレビュアー数: 4
2025-12-18 11:47:16,623 - INFO - ================================================================================
2025-12-18 11:47:16,623 - INFO - 軌跡抽出完了: 4サンプル（レビュアー）
2025-12-18 11:47:16,623 - INFO -   スキップ（最小依頼数未満）: 0
2025-12-18 11:47:16,623 - INFO -   スキップ（訓練期間末尾まで依頼なし）: 0
2025-12-18 11:47:16,623 - INFO -   正例（この期間で承諾あり）: 4 (100.0%)
2025-12-18 11:47:16,623 - INFO -   負例（この期間で承諾なし）: 0 (0.0%)
2025-12-18 11:47:16,623 - INFO -   総ステップ数: 8
2025-12-18 11:47:16,623 - INFO -   継続ステップ率: 25.0% (2/8)
2025-12-18 11:47:16,623 - INFO - ================================================================================
/Users/kazuki-h/research/multiproject_research/.venv/lib/python3.13/site-packages/torch/nn/modules/rnn.py:123: UserWarning: dropout option adds dropout after all but last recurrent layer, so non-zero dropout expects num_layers greater than 1, but got dropout=0.2 and num_layers=1
  warnings.warn(
2025-12-18 11:47:16,624 - INFO - 継続予測IRLシステムを初期化しました
2025-12-18 11:47:16,624 - INFO - 訓練データ正例率: 100.0% (4/4)
2025-12-18 11:47:16,624 - INFO - Focal Loss パラメータ更新: alpha=0.400, gamma=1.000
2025-12-18 11:47:16,624 - INFO - 正例率 100.0% に基づき自動調整: バランス重視（正例率≥60%・軽い正例優先)
2025-12-18 11:47:16,624 - INFO - IRLモデルを訓練...
2025-12-18 11:47:16,624 - INFO - ============================================================
2025-12-18 11:47:16,624 - INFO - 時系列IRL訓練開始
2025-12-18 11:47:16,624 - INFO - 軌跡数: 4
2025-12-18 11:47:16,624 - INFO - エポック数: 50
2025-12-18 11:47:16,625 - INFO - ============================================================
2025-12-18 11:47:16,638 - INFO - エポック 0: 平均損失 = 1.1175
2025-12-18 11:47:16,728 - INFO - エポック 10: 平均損失 = 1.0230
2025-12-18 11:47:16,809 - INFO - エポック 20: 平均損失 = 0.9247
2025-12-18 11:47:16,885 - INFO - エポック 30: 平均損失 = 0.7382
2025-12-18 11:47:16,956 - INFO - エポック 40: 平均損失 = 0.5976
2025-12-18 11:47:17,018 - INFO - 時系列IRL訓練完了
2025-12-18 11:47:17,018 - INFO - 訓練データ上で最適閾値を決定...
2025-12-18 11:47:17,020 - INFO - 最適閾値: 0.1939
2025-12-18 11:47:17,020 - INFO - 訓練データ性能: Precision=1.000, Recall=1.000, F1=1.000
2025-12-18 11:47:17,021 - INFO - モデルを保存: outputs/chromium_50projects_irl/train_3-6m/irl_model.pt
2025-12-18 11:47:17,021 - INFO - 最適閾値を保存: outputs/chromium_50projects_irl/train_3-6m/optimal_threshold.json
2025-12-18 11:47:17,021 - INFO - 評価用軌跡を抽出...
2025-12-18 11:47:17,021 - INFO - ================================================================================
2025-12-18 11:47:17,021 - INFO - 評価用軌跡抽出を開始（スナップショット特徴量用）
2025-12-18 11:47:17,021 - INFO - Cutoff日: 2021-07-01 00:00:00
2025-12-18 11:47:17,021 - INFO - 履歴ウィンドウ: 3ヶ月
2025-12-18 11:47:17,021 - INFO - 将来窓: 21～24ヶ月
2025-12-18 11:47:17,021 - INFO - 拡張ラベル期間: 21～12ヶ月
2025-12-18 11:47:17,021 - INFO - プロジェクト: 全プロジェクト
2025-12-18 11:47:17,021 - INFO - 継続判定: この期間で承諾=1、この期間で拒否=0、依頼なし→拡張期間チェック、評価時は拡張期間にも依頼なしで除外（予測の母集団に入れない）
2025-12-18 11:47:17,021 - INFO - ================================================================================
2025-12-18 11:47:17,022 - INFO - 履歴期間: 2021-04-01 00:00:00 ～ 2021-07-01 00:00:00
2025-12-18 11:47:17,022 - INFO - 評価期間: 2023-04-01 00:00:00 ～ 2023-07-01 00:00:00
2025-12-18 11:47:17,022 - INFO - 履歴期間内のレビュアー数: 4
2025-12-18 11:47:17,025 - INFO - ================================================================================
2025-12-18 11:47:17,026 - INFO - 評価用軌跡抽出完了: 2サンプル
2025-12-18 11:47:17,026 - INFO -   スキップ（最小依頼数未満）: 0
2025-12-18 11:47:17,026 - INFO -   スキップ（訓練期間末尾まで依頼なし）: 2
2025-12-18 11:47:17,026 - INFO -   正例（この期間で承諾あり）: 2 (100.0%)
2025-12-18 11:47:17,026 - INFO -   負例（この期間で承諾なし）: 0 (0.0%)
2025-12-18 11:47:17,026 - INFO - ================================================================================
2025-12-18 11:47:17,026 - INFO - 予測を実行...
/Users/kazuki-h/research/multiproject_research/.venv/lib/python3.13/site-packages/sklearn/metrics/_ranking.py:424: UndefinedMetricWarning: Only one class is present in y_true. ROC AUC score is not defined in that case.
  warnings.warn(
2025-12-18 11:47:17,028 - INFO - ================================================================================
2025-12-18 11:47:17,028 - INFO - 評価結果 (3-6m → 3-6m):
2025-12-18 11:47:17,029 - INFO -   AUC-ROC: nan
2025-12-18 11:47:17,029 - INFO -   AUC-PR: 1.0000
2025-12-18 11:47:17,029 - INFO -   Precision: 1.0000
2025-12-18 11:47:17,029 - INFO -   Recall: 1.0000
2025-12-18 11:47:17,029 - INFO -   F1 Score: 1.0000
2025-12-18 11:47:17,029 - INFO - ================================================================================
2025-12-18 11:47:17,029 - INFO - 結果を保存: outputs/chromium_50projects_irl/train_3-6m/eval_3-6m
2025-12-18 11:47:17,030 - INFO - 
【6/10】パターン実行中...
2025-12-18 11:47:17,030 - INFO - ================================================================================
2025-12-18 11:47:17,030 - INFO - パターン: 3-6m → 6-9m
2025-12-18 11:47:17,030 - INFO - 訓練期間: 2021-04-01 00:00:00 ～ 2021-07-01 00:00:00
2025-12-18 11:47:17,030 - INFO - 評価期間: 2023-07-01 00:00:00 ～ 2023-10-01 00:00:00
2025-12-18 11:47:17,030 - INFO - ================================================================================
2025-12-18 11:47:17,030 - INFO - レビュー依頼データを読み込み: data/chromium_50proj_2021_2024_feat.csv
2025-12-18 11:47:17,033 - INFO - 総レビュー依頼数: 236
2025-12-18 11:47:17,033 - INFO - 承諾数: 169 (71.6%)
2025-12-18 11:47:17,033 - INFO - 拒否数: 67 (28.4%)
2025-12-18 11:47:17,033 - INFO - 将来窓設定: 0～27ヶ月
2025-12-18 11:47:17,033 - INFO - 訓練用軌跡を抽出...
2025-12-18 11:47:17,033 - INFO - ================================================================================
2025-12-18 11:47:17,033 - INFO - レビュー承諾予測用軌跡抽出を開始（データリークなし版）
2025-12-18 11:47:17,033 - INFO - 訓練期間全体: 2021-04-01 00:00:00 ～ 2021-07-01 00:00:00
2025-12-18 11:47:17,033 - INFO - 将来窓: 0～27ヶ月
2025-12-18 11:47:17,033 - INFO - 拡張ラベル期間: 0～12ヶ月
2025-12-18 11:47:17,033 - INFO - プロジェクト: 全プロジェクト
2025-12-18 11:47:17,033 - INFO - ラベル定義: この期間で承諾=1、この期間で拒否=0、依頼なし→拡張期間チェック、訓練時は拡張期間にも依頼なしで除外
2025-12-18 11:47:17,033 - INFO - データリーク防止: 訓練期間内でラベル計算
2025-12-18 11:47:17,033 - INFO - ================================================================================
2025-12-18 11:47:17,033 - INFO - 特徴量計算期間（訓練全体）: 2021-04-01 00:00:00 ～ 2021-07-01 00:00:00
2025-12-18 11:47:17,033 - INFO - 全体ラベル期間（train_end時点から）: 2021-07-01 00:00:00 ～ 2023-10-01 00:00:00
2025-12-18 11:47:17,034 - INFO - 特徴量計算期間内のレビュアー数: 4
2025-12-18 11:47:17,042 - INFO - ================================================================================
2025-12-18 11:47:17,042 - INFO - 軌跡抽出完了: 4サンプル（レビュアー）
2025-12-18 11:47:17,042 - INFO -   スキップ（最小依頼数未満）: 0
2025-12-18 11:47:17,042 - INFO -   スキップ（訓練期間末尾まで依頼なし）: 0
2025-12-18 11:47:17,042 - INFO -   正例（この期間で承諾あり）: 4 (100.0%)
2025-12-18 11:47:17,042 - INFO -   負例（この期間で承諾なし）: 0 (0.0%)
2025-12-18 11:47:17,042 - INFO -   総ステップ数: 8
2025-12-18 11:47:17,042 - INFO -   継続ステップ率: 25.0% (2/8)
2025-12-18 11:47:17,042 - INFO - ================================================================================
/Users/kazuki-h/research/multiproject_research/.venv/lib/python3.13/site-packages/torch/nn/modules/rnn.py:123: UserWarning: dropout option adds dropout after all but last recurrent layer, so non-zero dropout expects num_layers greater than 1, but got dropout=0.2 and num_layers=1
  warnings.warn(
2025-12-18 11:47:17,043 - INFO - 継続予測IRLシステムを初期化しました
2025-12-18 11:47:17,043 - INFO - 訓練データ正例率: 100.0% (4/4)
2025-12-18 11:47:17,043 - INFO - Focal Loss パラメータ更新: alpha=0.400, gamma=1.000
2025-12-18 11:47:17,043 - INFO - 正例率 100.0% に基づき自動調整: バランス重視（正例率≥60%・軽い正例優先)
2025-12-18 11:47:17,043 - INFO - IRLモデルを訓練...
2025-12-18 11:47:17,043 - INFO - ============================================================
2025-12-18 11:47:17,043 - INFO - 時系列IRL訓練開始
2025-12-18 11:47:17,043 - INFO - 軌跡数: 4
2025-12-18 11:47:17,043 - INFO - エポック数: 50
2025-12-18 11:47:17,043 - INFO - ============================================================
2025-12-18 11:47:17,052 - INFO - エポック 0: 平均損失 = 1.1382
2025-12-18 11:47:17,123 - INFO - エポック 10: 平均損失 = 1.0794
2025-12-18 11:47:17,237 - INFO - エポック 20: 平均損失 = 0.9504
2025-12-18 11:47:17,312 - INFO - エポック 30: 平均損失 = 0.7383
2025-12-18 11:47:17,386 - INFO - エポック 40: 平均損失 = 0.5698
2025-12-18 11:47:17,454 - INFO - 時系列IRL訓練完了
2025-12-18 11:47:17,454 - INFO - 訓練データ上で最適閾値を決定...
2025-12-18 11:47:17,456 - INFO - 最適閾値: 0.2008
2025-12-18 11:47:17,456 - INFO - 訓練データ性能: Precision=1.000, Recall=1.000, F1=1.000
2025-12-18 11:47:17,457 - INFO - モデルを保存: outputs/chromium_50projects_irl/train_3-6m/irl_model.pt
2025-12-18 11:47:17,457 - INFO - 最適閾値を保存: outputs/chromium_50projects_irl/train_3-6m/optimal_threshold.json
2025-12-18 11:47:17,457 - INFO - 評価用軌跡を抽出...
2025-12-18 11:47:17,457 - INFO - ================================================================================
2025-12-18 11:47:17,457 - INFO - 評価用軌跡抽出を開始（スナップショット特徴量用）
2025-12-18 11:47:17,457 - INFO - Cutoff日: 2021-07-01 00:00:00
2025-12-18 11:47:17,457 - INFO - 履歴ウィンドウ: 3ヶ月
2025-12-18 11:47:17,457 - INFO - 将来窓: 24～27ヶ月
2025-12-18 11:47:17,457 - INFO - 拡張ラベル期間: 24～12ヶ月
2025-12-18 11:47:17,457 - INFO - プロジェクト: 全プロジェクト
2025-12-18 11:47:17,457 - INFO - 継続判定: この期間で承諾=1、この期間で拒否=0、依頼なし→拡張期間チェック、評価時は拡張期間にも依頼なしで除外（予測の母集団に入れない）
2025-12-18 11:47:17,457 - INFO - ================================================================================
2025-12-18 11:47:17,458 - INFO - 履歴期間: 2021-04-01 00:00:00 ～ 2021-07-01 00:00:00
2025-12-18 11:47:17,458 - INFO - 評価期間: 2023-07-01 00:00:00 ～ 2023-10-01 00:00:00
2025-12-18 11:47:17,458 - INFO - 履歴期間内のレビュアー数: 4
2025-12-18 11:47:17,462 - INFO - ================================================================================
2025-12-18 11:47:17,462 - INFO - 評価用軌跡抽出完了: 2サンプル
2025-12-18 11:47:17,462 - INFO -   スキップ（最小依頼数未満）: 0
2025-12-18 11:47:17,462 - INFO -   スキップ（訓練期間末尾まで依頼なし）: 2
2025-12-18 11:47:17,462 - INFO -   正例（この期間で承諾あり）: 1 (50.0%)
2025-12-18 11:47:17,462 - INFO -   負例（この期間で承諾なし）: 1 (50.0%)
2025-12-18 11:47:17,462 - INFO -     - 依頼あり→拒否（重み=1.0）: 1
2025-12-18 11:47:17,462 - INFO - ================================================================================
2025-12-18 11:47:17,462 - INFO - 予測を実行...
2025-12-18 11:47:17,466 - INFO - ================================================================================
2025-12-18 11:47:17,466 - INFO - 評価結果 (3-6m → 6-9m):
2025-12-18 11:47:17,466 - INFO -   AUC-ROC: 0.0000
2025-12-18 11:47:17,466 - INFO -   AUC-PR: 0.2500
2025-12-18 11:47:17,466 - INFO -   Precision: 0.5000
2025-12-18 11:47:17,466 - INFO -   Recall: 1.0000
2025-12-18 11:47:17,466 - INFO -   F1 Score: 0.6667
2025-12-18 11:47:17,466 - INFO - ================================================================================
2025-12-18 11:47:17,467 - INFO - 結果を保存: outputs/chromium_50projects_irl/train_3-6m/eval_6-9m
2025-12-18 11:47:17,467 - INFO - 
【7/10】パターン実行中...
2025-12-18 11:47:17,467 - INFO - ================================================================================
2025-12-18 11:47:17,467 - INFO - パターン: 3-6m → 9-12m
2025-12-18 11:47:17,467 - INFO - 訓練期間: 2021-04-01 00:00:00 ～ 2021-07-01 00:00:00
2025-12-18 11:47:17,467 - INFO - 評価期間: 2023-10-01 00:00:00 ～ 2024-01-01 00:00:00
2025-12-18 11:47:17,467 - INFO - ================================================================================
2025-12-18 11:47:17,467 - INFO - レビュー依頼データを読み込み: data/chromium_50proj_2021_2024_feat.csv
2025-12-18 11:47:17,470 - INFO - 総レビュー依頼数: 236
2025-12-18 11:47:17,470 - INFO - 承諾数: 169 (71.6%)
2025-12-18 11:47:17,470 - INFO - 拒否数: 67 (28.4%)
2025-12-18 11:47:17,470 - INFO - 将来窓設定: 0～30ヶ月
2025-12-18 11:47:17,470 - INFO - 訓練用軌跡を抽出...
2025-12-18 11:47:17,470 - INFO - ================================================================================
2025-12-18 11:47:17,470 - INFO - レビュー承諾予測用軌跡抽出を開始（データリークなし版）
2025-12-18 11:47:17,470 - INFO - 訓練期間全体: 2021-04-01 00:00:00 ～ 2021-07-01 00:00:00
2025-12-18 11:47:17,470 - INFO - 将来窓: 0～30ヶ月
2025-12-18 11:47:17,470 - INFO - 拡張ラベル期間: 0～12ヶ月
2025-12-18 11:47:17,470 - INFO - プロジェクト: 全プロジェクト
2025-12-18 11:47:17,470 - INFO - ラベル定義: この期間で承諾=1、この期間で拒否=0、依頼なし→拡張期間チェック、訓練時は拡張期間にも依頼なしで除外
2025-12-18 11:47:17,470 - INFO - データリーク防止: 訓練期間内でラベル計算
2025-12-18 11:47:17,470 - INFO - ================================================================================
2025-12-18 11:47:17,470 - INFO - 特徴量計算期間（訓練全体）: 2021-04-01 00:00:00 ～ 2021-07-01 00:00:00
2025-12-18 11:47:17,470 - INFO - 全体ラベル期間（train_end時点から）: 2021-07-01 00:00:00 ～ 2024-01-01 00:00:00
2025-12-18 11:47:17,471 - INFO - 特徴量計算期間内のレビュアー数: 4
2025-12-18 11:47:17,482 - INFO - ================================================================================
2025-12-18 11:47:17,482 - INFO - 軌跡抽出完了: 4サンプル（レビュアー）
2025-12-18 11:47:17,482 - INFO -   スキップ（最小依頼数未満）: 0
2025-12-18 11:47:17,482 - INFO -   スキップ（訓練期間末尾まで依頼なし）: 0
2025-12-18 11:47:17,482 - INFO -   正例（この期間で承諾あり）: 4 (100.0%)
2025-12-18 11:47:17,482 - INFO -   負例（この期間で承諾なし）: 0 (0.0%)
2025-12-18 11:47:17,482 - INFO -   総ステップ数: 8
2025-12-18 11:47:17,482 - INFO -   継続ステップ率: 25.0% (2/8)
2025-12-18 11:47:17,482 - INFO - ================================================================================
/Users/kazuki-h/research/multiproject_research/.venv/lib/python3.13/site-packages/torch/nn/modules/rnn.py:123: UserWarning: dropout option adds dropout after all but last recurrent layer, so non-zero dropout expects num_layers greater than 1, but got dropout=0.2 and num_layers=1
  warnings.warn(
2025-12-18 11:47:17,483 - INFO - 継続予測IRLシステムを初期化しました
2025-12-18 11:47:17,484 - INFO - 訓練データ正例率: 100.0% (4/4)
2025-12-18 11:47:17,484 - INFO - Focal Loss パラメータ更新: alpha=0.400, gamma=1.000
2025-12-18 11:47:17,484 - INFO - 正例率 100.0% に基づき自動調整: バランス重視（正例率≥60%・軽い正例優先)
2025-12-18 11:47:17,484 - INFO - IRLモデルを訓練...
2025-12-18 11:47:17,484 - INFO - ============================================================
2025-12-18 11:47:17,484 - INFO - 時系列IRL訓練開始
2025-12-18 11:47:17,484 - INFO - 軌跡数: 4
2025-12-18 11:47:17,484 - INFO - エポック数: 50
2025-12-18 11:47:17,484 - INFO - ============================================================
2025-12-18 11:47:17,492 - INFO - エポック 0: 平均損失 = 1.1478
2025-12-18 11:47:17,573 - INFO - エポック 10: 平均損失 = 1.0863
2025-12-18 11:47:17,654 - INFO - エポック 20: 平均損失 = 1.0268
2025-12-18 11:47:17,732 - INFO - エポック 30: 平均損失 = 0.8258
2025-12-18 11:47:17,802 - INFO - エポック 40: 平均損失 = 0.6312
2025-12-18 11:47:17,875 - INFO - 時系列IRL訓練完了
2025-12-18 11:47:17,876 - INFO - 訓練データ上で最適閾値を決定...
2025-12-18 11:47:17,878 - INFO - 最適閾値: 0.1656
2025-12-18 11:47:17,878 - INFO - 訓練データ性能: Precision=1.000, Recall=1.000, F1=1.000
2025-12-18 11:47:17,880 - INFO - モデルを保存: outputs/chromium_50projects_irl/train_3-6m/irl_model.pt
2025-12-18 11:47:17,881 - INFO - 最適閾値を保存: outputs/chromium_50projects_irl/train_3-6m/optimal_threshold.json
2025-12-18 11:47:17,881 - INFO - 評価用軌跡を抽出...
2025-12-18 11:47:17,881 - INFO - ================================================================================
2025-12-18 11:47:17,881 - INFO - 評価用軌跡抽出を開始（スナップショット特徴量用）
2025-12-18 11:47:17,881 - INFO - Cutoff日: 2021-07-01 00:00:00
2025-12-18 11:47:17,881 - INFO - 履歴ウィンドウ: 3ヶ月
2025-12-18 11:47:17,881 - INFO - 将来窓: 27～30ヶ月
2025-12-18 11:47:17,881 - INFO - 拡張ラベル期間: 27～12ヶ月
2025-12-18 11:47:17,881 - INFO - プロジェクト: 全プロジェクト
2025-12-18 11:47:17,881 - INFO - 継続判定: この期間で承諾=1、この期間で拒否=0、依頼なし→拡張期間チェック、評価時は拡張期間にも依頼なしで除外（予測の母集団に入れない）
2025-12-18 11:47:17,881 - INFO - ================================================================================
2025-12-18 11:47:17,881 - INFO - 履歴期間: 2021-04-01 00:00:00 ～ 2021-07-01 00:00:00
2025-12-18 11:47:17,881 - INFO - 評価期間: 2023-10-01 00:00:00 ～ 2024-01-01 00:00:00
2025-12-18 11:47:17,882 - INFO - 履歴期間内のレビュアー数: 4
2025-12-18 11:47:17,884 - INFO - ================================================================================
2025-12-18 11:47:17,884 - INFO - 評価用軌跡抽出完了: 0サンプル
2025-12-18 11:47:17,884 - INFO -   スキップ（最小依頼数未満）: 0
2025-12-18 11:47:17,884 - INFO -   スキップ（訓練期間末尾まで依頼なし）: 4
2025-12-18 11:47:17,884 - INFO - ================================================================================
2025-12-18 11:47:17,884 - ERROR - 評価用軌跡が抽出できませんでした
2025-12-18 11:47:17,884 - WARNING - パターン 3-6m → 9-12m をスキップ
2025-12-18 11:47:17,884 - INFO - 
【8/10】パターン実行中...
2025-12-18 11:47:17,884 - INFO - ================================================================================
2025-12-18 11:47:17,884 - INFO - パターン: 6-9m → 6-9m
2025-12-18 11:47:17,884 - INFO - 訓練期間: 2021-07-01 00:00:00 ～ 2021-10-01 00:00:00
2025-12-18 11:47:17,884 - INFO - 評価期間: 2023-07-01 00:00:00 ～ 2023-10-01 00:00:00
2025-12-18 11:47:17,884 - INFO - ================================================================================
2025-12-18 11:47:17,884 - INFO - レビュー依頼データを読み込み: data/chromium_50proj_2021_2024_feat.csv
2025-12-18 11:47:17,887 - INFO - 総レビュー依頼数: 236
2025-12-18 11:47:17,887 - INFO - 承諾数: 169 (71.6%)
2025-12-18 11:47:17,887 - INFO - 拒否数: 67 (28.4%)
2025-12-18 11:47:17,887 - INFO - 将来窓設定: 0～24ヶ月
2025-12-18 11:47:17,887 - INFO - 訓練用軌跡を抽出...
2025-12-18 11:47:17,887 - INFO - ================================================================================
2025-12-18 11:47:17,887 - INFO - レビュー承諾予測用軌跡抽出を開始（データリークなし版）
2025-12-18 11:47:17,887 - INFO - 訓練期間全体: 2021-07-01 00:00:00 ～ 2021-10-01 00:00:00
2025-12-18 11:47:17,887 - INFO - 将来窓: 0～24ヶ月
2025-12-18 11:47:17,888 - INFO - 拡張ラベル期間: 0～12ヶ月
2025-12-18 11:47:17,888 - INFO - プロジェクト: 全プロジェクト
2025-12-18 11:47:17,888 - INFO - ラベル定義: この期間で承諾=1、この期間で拒否=0、依頼なし→拡張期間チェック、訓練時は拡張期間にも依頼なしで除外
2025-12-18 11:47:17,888 - INFO - データリーク防止: 訓練期間内でラベル計算
2025-12-18 11:47:17,888 - INFO - ================================================================================
2025-12-18 11:47:17,888 - INFO - 特徴量計算期間（訓練全体）: 2021-07-01 00:00:00 ～ 2021-10-01 00:00:00
2025-12-18 11:47:17,888 - INFO - 全体ラベル期間（train_end時点から）: 2021-10-01 00:00:00 ～ 2023-10-01 00:00:00
2025-12-18 11:47:17,888 - INFO - 特徴量計算期間内のレビュアー数: 6
2025-12-18 11:47:17,900 - INFO - ================================================================================
2025-12-18 11:47:17,900 - INFO - 軌跡抽出完了: 4サンプル（レビュアー）
2025-12-18 11:47:17,900 - INFO -   スキップ（最小依頼数未満）: 0
2025-12-18 11:47:17,900 - INFO -   スキップ（訓練期間末尾まで依頼なし）: 2
2025-12-18 11:47:17,900 - INFO -   正例（この期間で承諾あり）: 4 (100.0%)
2025-12-18 11:47:17,900 - INFO -   負例（この期間で承諾なし）: 0 (0.0%)
2025-12-18 11:47:17,900 - INFO -   総ステップ数: 8
2025-12-18 11:47:17,900 - INFO -   継続ステップ率: 62.5% (5/8)
2025-12-18 11:47:17,900 - INFO - ================================================================================
/Users/kazuki-h/research/multiproject_research/.venv/lib/python3.13/site-packages/torch/nn/modules/rnn.py:123: UserWarning: dropout option adds dropout after all but last recurrent layer, so non-zero dropout expects num_layers greater than 1, but got dropout=0.2 and num_layers=1
  warnings.warn(
2025-12-18 11:47:17,901 - INFO - 継続予測IRLシステムを初期化しました
2025-12-18 11:47:17,902 - INFO - 訓練データ正例率: 100.0% (4/4)
2025-12-18 11:47:17,902 - INFO - Focal Loss パラメータ更新: alpha=0.400, gamma=1.000
2025-12-18 11:47:17,902 - INFO - 正例率 100.0% に基づき自動調整: バランス重視（正例率≥60%・軽い正例優先)
2025-12-18 11:47:17,902 - INFO - IRLモデルを訓練...
2025-12-18 11:47:17,902 - INFO - ============================================================
2025-12-18 11:47:17,902 - INFO - 時系列IRL訓練開始
2025-12-18 11:47:17,902 - INFO - 軌跡数: 4
2025-12-18 11:47:17,902 - INFO - エポック数: 50
2025-12-18 11:47:17,902 - INFO - ============================================================
2025-12-18 11:47:17,912 - INFO - エポック 0: 平均損失 = 1.2069
2025-12-18 11:47:17,991 - INFO - エポック 10: 平均損失 = 1.1763
2025-12-18 11:47:18,061 - INFO - エポック 20: 平均損失 = 1.1871
2025-12-18 11:47:18,125 - INFO - エポック 30: 平均損失 = 1.1435
2025-12-18 11:47:18,188 - INFO - エポック 40: 平均損失 = 1.1509
2025-12-18 11:47:18,243 - INFO - 時系列IRL訓練完了
2025-12-18 11:47:18,244 - INFO - 訓練データ上で最適閾値を決定...
2025-12-18 11:47:18,245 - INFO - 最適閾値: 0.4853
2025-12-18 11:47:18,246 - INFO - 訓練データ性能: Precision=1.000, Recall=1.000, F1=1.000
2025-12-18 11:47:18,247 - INFO - モデルを保存: outputs/chromium_50projects_irl/train_6-9m/irl_model.pt
2025-12-18 11:47:18,247 - INFO - 最適閾値を保存: outputs/chromium_50projects_irl/train_6-9m/optimal_threshold.json
2025-12-18 11:47:18,247 - INFO - 評価用軌跡を抽出...
2025-12-18 11:47:18,247 - INFO - ================================================================================
2025-12-18 11:47:18,247 - INFO - 評価用軌跡抽出を開始（スナップショット特徴量用）
2025-12-18 11:47:18,247 - INFO - Cutoff日: 2021-10-01 00:00:00
2025-12-18 11:47:18,247 - INFO - 履歴ウィンドウ: 3ヶ月
2025-12-18 11:47:18,247 - INFO - 将来窓: 21～24ヶ月
2025-12-18 11:47:18,247 - INFO - 拡張ラベル期間: 21～12ヶ月
2025-12-18 11:47:18,247 - INFO - プロジェクト: 全プロジェクト
2025-12-18 11:47:18,247 - INFO - 継続判定: この期間で承諾=1、この期間で拒否=0、依頼なし→拡張期間チェック、評価時は拡張期間にも依頼なしで除外（予測の母集団に入れない）
2025-12-18 11:47:18,247 - INFO - ================================================================================
2025-12-18 11:47:18,247 - INFO - 履歴期間: 2021-07-01 00:00:00 ～ 2021-10-01 00:00:00
2025-12-18 11:47:18,247 - INFO - 評価期間: 2023-07-01 00:00:00 ～ 2023-10-01 00:00:00
2025-12-18 11:47:18,248 - INFO - 履歴期間内のレビュアー数: 6
2025-12-18 11:47:18,252 - INFO - ================================================================================
2025-12-18 11:47:18,252 - INFO - 評価用軌跡抽出完了: 3サンプル
2025-12-18 11:47:18,252 - INFO -   スキップ（最小依頼数未満）: 0
2025-12-18 11:47:18,252 - INFO -   スキップ（訓練期間末尾まで依頼なし）: 3
2025-12-18 11:47:18,252 - INFO -   正例（この期間で承諾あり）: 2 (66.7%)
2025-12-18 11:47:18,252 - INFO -   負例（この期間で承諾なし）: 1 (33.3%)
2025-12-18 11:47:18,252 - INFO -     - 依頼あり→拒否（重み=1.0）: 1
2025-12-18 11:47:18,252 - INFO - ================================================================================
2025-12-18 11:47:18,252 - INFO - 予測を実行...
2025-12-18 11:47:18,256 - INFO - ================================================================================
2025-12-18 11:47:18,256 - INFO - 評価結果 (6-9m → 6-9m):
2025-12-18 11:47:18,256 - INFO -   AUC-ROC: 0.5000
2025-12-18 11:47:18,256 - INFO -   AUC-PR: 0.7917
2025-12-18 11:47:18,256 - INFO -   Precision: 0.6667
2025-12-18 11:47:18,256 - INFO -   Recall: 1.0000
2025-12-18 11:47:18,256 - INFO -   F1 Score: 0.8000
2025-12-18 11:47:18,256 - INFO - ================================================================================
2025-12-18 11:47:18,257 - INFO - 結果を保存: outputs/chromium_50projects_irl/train_6-9m/eval_6-9m
2025-12-18 11:47:18,257 - INFO - 
【9/10】パターン実行中...
2025-12-18 11:47:18,257 - INFO - ================================================================================
2025-12-18 11:47:18,257 - INFO - パターン: 6-9m → 9-12m
2025-12-18 11:47:18,257 - INFO - 訓練期間: 2021-07-01 00:00:00 ～ 2021-10-01 00:00:00
2025-12-18 11:47:18,257 - INFO - 評価期間: 2023-10-01 00:00:00 ～ 2024-01-01 00:00:00
2025-12-18 11:47:18,257 - INFO - ================================================================================
2025-12-18 11:47:18,257 - INFO - レビュー依頼データを読み込み: data/chromium_50proj_2021_2024_feat.csv
2025-12-18 11:47:18,260 - INFO - 総レビュー依頼数: 236
2025-12-18 11:47:18,260 - INFO - 承諾数: 169 (71.6%)
2025-12-18 11:47:18,260 - INFO - 拒否数: 67 (28.4%)
2025-12-18 11:47:18,260 - INFO - 将来窓設定: 0～27ヶ月
2025-12-18 11:47:18,260 - INFO - 訓練用軌跡を抽出...
2025-12-18 11:47:18,260 - INFO - ================================================================================
2025-12-18 11:47:18,260 - INFO - レビュー承諾予測用軌跡抽出を開始（データリークなし版）
2025-12-18 11:47:18,260 - INFO - 訓練期間全体: 2021-07-01 00:00:00 ～ 2021-10-01 00:00:00
2025-12-18 11:47:18,260 - INFO - 将来窓: 0～27ヶ月
2025-12-18 11:47:18,260 - INFO - 拡張ラベル期間: 0～12ヶ月
2025-12-18 11:47:18,260 - INFO - プロジェクト: 全プロジェクト
2025-12-18 11:47:18,260 - INFO - ラベル定義: この期間で承諾=1、この期間で拒否=0、依頼なし→拡張期間チェック、訓練時は拡張期間にも依頼なしで除外
2025-12-18 11:47:18,260 - INFO - データリーク防止: 訓練期間内でラベル計算
2025-12-18 11:47:18,260 - INFO - ================================================================================
2025-12-18 11:47:18,260 - INFO - 特徴量計算期間（訓練全体）: 2021-07-01 00:00:00 ～ 2021-10-01 00:00:00
2025-12-18 11:47:18,260 - INFO - 全体ラベル期間（train_end時点から）: 2021-10-01 00:00:00 ～ 2024-01-01 00:00:00
2025-12-18 11:47:18,261 - INFO - 特徴量計算期間内のレビュアー数: 6
2025-12-18 11:47:18,270 - INFO - ================================================================================
2025-12-18 11:47:18,270 - INFO - 軌跡抽出完了: 4サンプル（レビュアー）
2025-12-18 11:47:18,270 - INFO -   スキップ（最小依頼数未満）: 0
2025-12-18 11:47:18,270 - INFO -   スキップ（訓練期間末尾まで依頼なし）: 2
2025-12-18 11:47:18,270 - INFO -   正例（この期間で承諾あり）: 4 (100.0%)
2025-12-18 11:47:18,270 - INFO -   負例（この期間で承諾なし）: 0 (0.0%)
2025-12-18 11:47:18,270 - INFO -   総ステップ数: 8
2025-12-18 11:47:18,270 - INFO -   継続ステップ率: 62.5% (5/8)
2025-12-18 11:47:18,270 - INFO - ================================================================================
/Users/kazuki-h/research/multiproject_research/.venv/lib/python3.13/site-packages/torch/nn/modules/rnn.py:123: UserWarning: dropout option adds dropout after all but last recurrent layer, so non-zero dropout expects num_layers greater than 1, but got dropout=0.2 and num_layers=1
  warnings.warn(
2025-12-18 11:47:18,271 - INFO - 継続予測IRLシステムを初期化しました
2025-12-18 11:47:18,271 - INFO - 訓練データ正例率: 100.0% (4/4)
2025-12-18 11:47:18,271 - INFO - Focal Loss パラメータ更新: alpha=0.400, gamma=1.000
2025-12-18 11:47:18,271 - INFO - 正例率 100.0% に基づき自動調整: バランス重視（正例率≥60%・軽い正例優先)
2025-12-18 11:47:18,271 - INFO - IRLモデルを訓練...
2025-12-18 11:47:18,271 - INFO - ============================================================
2025-12-18 11:47:18,271 - INFO - 時系列IRL訓練開始
2025-12-18 11:47:18,271 - INFO - 軌跡数: 4
2025-12-18 11:47:18,271 - INFO - エポック数: 50
2025-12-18 11:47:18,271 - INFO - ============================================================
2025-12-18 11:47:18,279 - INFO - エポック 0: 平均損失 = 1.1596
2025-12-18 11:47:18,351 - INFO - エポック 10: 平均損失 = 1.1565
2025-12-18 11:47:18,420 - INFO - エポック 20: 平均損失 = 1.1586
2025-12-18 11:47:18,485 - INFO - エポック 30: 平均損失 = 1.1506
2025-12-18 11:47:18,563 - INFO - エポック 40: 平均損失 = 1.1343
2025-12-18 11:47:18,636 - INFO - 時系列IRL訓練完了
2025-12-18 11:47:18,636 - INFO - 訓練データ上で最適閾値を決定...
2025-12-18 11:47:18,638 - INFO - 最適閾値: 0.5008
2025-12-18 11:47:18,638 - INFO - 訓練データ性能: Precision=1.000, Recall=1.000, F1=1.000
2025-12-18 11:47:18,641 - INFO - モデルを保存: outputs/chromium_50projects_irl/train_6-9m/irl_model.pt
2025-12-18 11:47:18,641 - INFO - 最適閾値を保存: outputs/chromium_50projects_irl/train_6-9m/optimal_threshold.json
2025-12-18 11:47:18,641 - INFO - 評価用軌跡を抽出...
2025-12-18 11:47:18,641 - INFO - ================================================================================
2025-12-18 11:47:18,641 - INFO - 評価用軌跡抽出を開始（スナップショット特徴量用）
2025-12-18 11:47:18,641 - INFO - Cutoff日: 2021-10-01 00:00:00
2025-12-18 11:47:18,641 - INFO - 履歴ウィンドウ: 3ヶ月
2025-12-18 11:47:18,641 - INFO - 将来窓: 24～27ヶ月
2025-12-18 11:47:18,641 - INFO - 拡張ラベル期間: 24～12ヶ月
2025-12-18 11:47:18,641 - INFO - プロジェクト: 全プロジェクト
2025-12-18 11:47:18,641 - INFO - 継続判定: この期間で承諾=1、この期間で拒否=0、依頼なし→拡張期間チェック、評価時は拡張期間にも依頼なしで除外（予測の母集団に入れない）
2025-12-18 11:47:18,641 - INFO - ================================================================================
2025-12-18 11:47:18,641 - INFO - 履歴期間: 2021-07-01 00:00:00 ～ 2021-10-01 00:00:00
2025-12-18 11:47:18,641 - INFO - 評価期間: 2023-10-01 00:00:00 ～ 2024-01-01 00:00:00
2025-12-18 11:47:18,642 - INFO - 履歴期間内のレビュアー数: 6
2025-12-18 11:47:18,644 - INFO - ================================================================================
2025-12-18 11:47:18,644 - INFO - 評価用軌跡抽出完了: 0サンプル
2025-12-18 11:47:18,644 - INFO -   スキップ（最小依頼数未満）: 0
2025-12-18 11:47:18,644 - INFO -   スキップ（訓練期間末尾まで依頼なし）: 6
2025-12-18 11:47:18,644 - INFO - ================================================================================
2025-12-18 11:47:18,644 - ERROR - 評価用軌跡が抽出できませんでした
2025-12-18 11:47:18,644 - WARNING - パターン 6-9m → 9-12m をスキップ
2025-12-18 11:47:18,644 - INFO - 
【10/10】パターン実行中...
2025-12-18 11:47:18,644 - INFO - ================================================================================
2025-12-18 11:47:18,644 - INFO - パターン: 9-12m → 9-12m
2025-12-18 11:47:18,644 - INFO - 訓練期間: 2021-10-01 00:00:00 ～ 2022-01-01 00:00:00
2025-12-18 11:47:18,644 - INFO - 評価期間: 2023-10-01 00:00:00 ～ 2024-01-01 00:00:00
2025-12-18 11:47:18,644 - INFO - ================================================================================
2025-12-18 11:47:18,644 - INFO - レビュー依頼データを読み込み: data/chromium_50proj_2021_2024_feat.csv
2025-12-18 11:47:18,647 - INFO - 総レビュー依頼数: 236
2025-12-18 11:47:18,648 - INFO - 承諾数: 169 (71.6%)
2025-12-18 11:47:18,648 - INFO - 拒否数: 67 (28.4%)
2025-12-18 11:47:18,648 - INFO - 将来窓設定: 0～24ヶ月
2025-12-18 11:47:18,648 - INFO - 訓練用軌跡を抽出...
2025-12-18 11:47:18,648 - INFO - ================================================================================
2025-12-18 11:47:18,648 - INFO - レビュー承諾予測用軌跡抽出を開始（データリークなし版）
2025-12-18 11:47:18,648 - INFO - 訓練期間全体: 2021-10-01 00:00:00 ～ 2022-01-01 00:00:00
2025-12-18 11:47:18,648 - INFO - 将来窓: 0～24ヶ月
2025-12-18 11:47:18,648 - INFO - 拡張ラベル期間: 0～12ヶ月
2025-12-18 11:47:18,648 - INFO - プロジェクト: 全プロジェクト
2025-12-18 11:47:18,648 - INFO - ラベル定義: この期間で承諾=1、この期間で拒否=0、依頼なし→拡張期間チェック、訓練時は拡張期間にも依頼なしで除外
2025-12-18 11:47:18,648 - INFO - データリーク防止: 訓練期間内でラベル計算
2025-12-18 11:47:18,648 - INFO - ================================================================================
2025-12-18 11:47:18,648 - INFO - 特徴量計算期間（訓練全体）: 2021-10-01 00:00:00 ～ 2022-01-01 00:00:00
2025-12-18 11:47:18,648 - INFO - 全体ラベル期間（train_end時点から）: 2022-01-01 00:00:00 ～ 2024-01-01 00:00:00
2025-12-18 11:47:18,649 - INFO - 特徴量計算期間内のレビュアー数: 11
2025-12-18 11:47:18,669 - INFO - ================================================================================
2025-12-18 11:47:18,669 - INFO - 軌跡抽出完了: 10サンプル（レビュアー）
2025-12-18 11:47:18,669 - INFO -   スキップ（最小依頼数未満）: 0
2025-12-18 11:47:18,670 - INFO -   スキップ（訓練期間末尾まで依頼なし）: 1
2025-12-18 11:47:18,670 - INFO -   正例（この期間で承諾あり）: 10 (100.0%)
2025-12-18 11:47:18,670 - INFO -   負例（この期間で承諾なし）: 0 (0.0%)
2025-12-18 11:47:18,670 - INFO -   総ステップ数: 20
2025-12-18 11:47:18,670 - INFO -   継続ステップ率: 80.0% (16/20)
2025-12-18 11:47:18,670 - INFO - ================================================================================
/Users/kazuki-h/research/multiproject_research/.venv/lib/python3.13/site-packages/torch/nn/modules/rnn.py:123: UserWarning: dropout option adds dropout after all but last recurrent layer, so non-zero dropout expects num_layers greater than 1, but got dropout=0.2 and num_layers=1
  warnings.warn(
2025-12-18 11:47:18,670 - INFO - 継続予測IRLシステムを初期化しました
2025-12-18 11:47:18,671 - INFO - 訓練データ正例率: 100.0% (10/10)
2025-12-18 11:47:18,671 - INFO - Focal Loss パラメータ更新: alpha=0.400, gamma=1.000
2025-12-18 11:47:18,671 - INFO - 正例率 100.0% に基づき自動調整: バランス重視（正例率≥60%・軽い正例優先)
2025-12-18 11:47:18,671 - INFO - IRLモデルを訓練...
2025-12-18 11:47:18,671 - INFO - ============================================================
2025-12-18 11:47:18,671 - INFO - 時系列IRL訓練開始
2025-12-18 11:47:18,671 - INFO - 軌跡数: 10
2025-12-18 11:47:18,671 - INFO - エポック数: 50
2025-12-18 11:47:18,671 - INFO - ============================================================
2025-12-18 11:47:18,690 - INFO - エポック 0: 平均損失 = 1.0704
2025-12-18 11:47:18,879 - INFO - エポック 10: 平均損失 = 1.0031
2025-12-18 11:47:19,056 - INFO - エポック 20: 平均損失 = 0.9131
2025-12-18 11:47:19,248 - INFO - エポック 30: 平均損失 = 0.8603
2025-12-18 11:47:19,408 - INFO - エポック 40: 平均損失 = 0.8049
2025-12-18 11:47:19,547 - INFO - 時系列IRL訓練完了
2025-12-18 11:47:19,548 - INFO - 訓練データ上で最適閾値を決定...
2025-12-18 11:47:19,556 - INFO - 最適閾値: 0.5565
2025-12-18 11:47:19,556 - INFO - 訓練データ性能: Precision=1.000, Recall=1.000, F1=1.000
2025-12-18 11:47:19,557 - INFO - モデルを保存: outputs/chromium_50projects_irl/train_9-12m/irl_model.pt
2025-12-18 11:47:19,557 - INFO - 最適閾値を保存: outputs/chromium_50projects_irl/train_9-12m/optimal_threshold.json
2025-12-18 11:47:19,557 - INFO - 評価用軌跡を抽出...
2025-12-18 11:47:19,557 - INFO - ================================================================================
2025-12-18 11:47:19,557 - INFO - 評価用軌跡抽出を開始（スナップショット特徴量用）
2025-12-18 11:47:19,557 - INFO - Cutoff日: 2022-01-01 00:00:00
2025-12-18 11:47:19,557 - INFO - 履歴ウィンドウ: 3ヶ月
2025-12-18 11:47:19,557 - INFO - 将来窓: 21～24ヶ月
2025-12-18 11:47:19,557 - INFO - 拡張ラベル期間: 21～12ヶ月
2025-12-18 11:47:19,557 - INFO - プロジェクト: 全プロジェクト
2025-12-18 11:47:19,557 - INFO - 継続判定: この期間で承諾=1、この期間で拒否=0、依頼なし→拡張期間チェック、評価時は拡張期間にも依頼なしで除外（予測の母集団に入れない）
2025-12-18 11:47:19,557 - INFO - ================================================================================
2025-12-18 11:47:19,558 - INFO - 履歴期間: 2021-10-01 00:00:00 ～ 2022-01-01 00:00:00
2025-12-18 11:47:19,558 - INFO - 評価期間: 2023-10-01 00:00:00 ～ 2024-01-01 00:00:00
2025-12-18 11:47:19,559 - INFO - 履歴期間内のレビュアー数: 11
2025-12-18 11:47:19,562 - INFO - ================================================================================
2025-12-18 11:47:19,562 - INFO - 評価用軌跡抽出完了: 0サンプル
2025-12-18 11:47:19,562 - INFO -   スキップ（最小依頼数未満）: 0
2025-12-18 11:47:19,562 - INFO -   スキップ（訓練期間末尾まで依頼なし）: 11
2025-12-18 11:47:19,562 - INFO - ================================================================================
2025-12-18 11:47:19,562 - ERROR - 評価用軌跡が抽出できませんでした
2025-12-18 11:47:19,562 - WARNING - パターン 9-12m → 9-12m をスキップ
2025-12-18 11:47:19,562 - INFO - ================================================================================
2025-12-18 11:47:19,562 - INFO - メトリクスマトリクスを作成中...
2025-12-18 11:47:19,562 - INFO - ================================================================================
2025-12-18 11:47:19,565 - INFO - 保存: outputs/chromium_50projects_irl/matrix_AUC_ROC.csv
2025-12-18 11:47:19,567 - INFO - 
       0-3m  3-6m  6-9m  9-12m
0-3m    NaN   NaN   0.0    NaN
3-6m    NaN   NaN   0.0    NaN
6-9m    NaN   NaN   0.5    NaN
9-12m   NaN   NaN   NaN    NaN
2025-12-18 11:47:19,568 - INFO - 保存: outputs/chromium_50projects_irl/matrix_AUC_PR.csv
2025-12-18 11:47:19,569 - INFO - 
       0-3m  3-6m      6-9m  9-12m
0-3m    1.0   1.0  0.250000    NaN
3-6m    NaN   1.0  0.250000    NaN
6-9m    NaN   NaN  0.791667    NaN
9-12m   NaN   NaN       NaN    NaN
2025-12-18 11:47:19,570 - INFO - 保存: outputs/chromium_50projects_irl/matrix_PRECISION.csv
2025-12-18 11:47:19,571 - INFO - 
       0-3m  3-6m      6-9m  9-12m
0-3m    1.0   1.0  0.500000    NaN
3-6m    NaN   1.0  0.500000    NaN
6-9m    NaN   NaN  0.666667    NaN
9-12m   NaN   NaN       NaN    NaN
2025-12-18 11:47:19,571 - INFO - 保存: outputs/chromium_50projects_irl/matrix_RECALL.csv
2025-12-18 11:47:19,572 - INFO - 
       0-3m  3-6m  6-9m  9-12m
0-3m    1.0   1.0   1.0    NaN
3-6m    NaN   1.0   1.0    NaN
6-9m    NaN   NaN   1.0    NaN
9-12m   NaN   NaN   NaN    NaN
2025-12-18 11:47:19,573 - INFO - 保存: outputs/chromium_50projects_irl/matrix_f1_score.csv
2025-12-18 11:47:19,574 - INFO - 
       0-3m  3-6m      6-9m  9-12m
0-3m    1.0   1.0  0.666667    NaN
3-6m    NaN   1.0  0.666667    NaN
6-9m    NaN   NaN  0.800000    NaN
9-12m   NaN   NaN       NaN    NaN
2025-12-18 11:47:19,574 - INFO - ================================================================================
2025-12-18 11:47:19,574 - INFO - マトリクス作成完了
2025-12-18 11:47:19,574 - INFO - ================================================================================
2025-12-18 11:47:19,574 - INFO - ================================================================================
2025-12-18 11:47:19,574 - INFO - 全パターンの訓練・評価が完了しました
2025-12-18 11:47:19,574 - INFO - 結果: outputs/chromium_50projects_irl
2025-12-18 11:47:19,574 - INFO - ================================================================================
