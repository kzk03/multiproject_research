2025-12-19 11:34:18,528 - INFO - 訓練期間ベース: 2021-01-01 00:00:00
2025-12-19 11:34:18,528 - INFO - 評価期間ベース: 2023-01-01 00:00:00
2025-12-19 11:34:18,528 - INFO - 生成されたパターン数: 10
2025-12-19 11:34:18,528 - INFO -   0-3m → 0-3m
2025-12-19 11:34:18,528 - INFO -   0-3m → 3-6m
2025-12-19 11:34:18,528 - INFO -   0-3m → 6-9m
2025-12-19 11:34:18,528 - INFO -   0-3m → 9-12m
2025-12-19 11:34:18,528 - INFO -   3-6m → 3-6m
2025-12-19 11:34:18,528 - INFO -   3-6m → 6-9m
2025-12-19 11:34:18,528 - INFO -   3-6m → 9-12m
2025-12-19 11:34:18,528 - INFO -   6-9m → 6-9m
2025-12-19 11:34:18,528 - INFO -   6-9m → 9-12m
2025-12-19 11:34:18,528 - INFO -   9-12m → 9-12m
2025-12-19 11:34:18,528 - INFO - ================================================================================
2025-12-19 11:34:18,528 - INFO - 全10パターンの訓練・評価を開始
2025-12-19 11:34:18,528 - INFO - ================================================================================
2025-12-19 11:34:18,528 - INFO - 
【1/10】パターン実行中...
2025-12-19 11:34:18,528 - INFO - ================================================================================
2025-12-19 11:34:18,528 - INFO - パターン: 0-3m → 0-3m
2025-12-19 11:34:18,528 - INFO - 訓練期間: 2021-01-01 00:00:00 ～ 2021-04-01 00:00:00
2025-12-19 11:34:18,528 - INFO - 評価期間: 2023-01-01 00:00:00 ～ 2023-04-01 00:00:00
2025-12-19 11:34:18,528 - INFO - ================================================================================
2025-12-19 11:34:19,850 - INFO - レビュー依頼データを読み込み: data/chromium_50proj_2021_2024_feat_clean.csv
2025-12-19 11:34:19,935 - INFO - 総レビュー依頼数: 16121
2025-12-19 11:34:19,936 - INFO - 承諾数: 12139 (75.3%)
2025-12-19 11:34:19,936 - INFO - 拒否数: 3982 (24.7%)
2025-12-19 11:34:19,936 - INFO - 将来窓設定: 0～24ヶ月
2025-12-19 11:34:19,936 - INFO - 訓練用軌跡を抽出...
2025-12-19 11:34:19,936 - INFO - ================================================================================
2025-12-19 11:34:19,936 - INFO - レビュー承諾予測用軌跡抽出を開始（データリークなし版）
2025-12-19 11:34:19,936 - INFO - 訓練期間全体: 2021-01-01 00:00:00 ～ 2021-04-01 00:00:00
2025-12-19 11:34:19,936 - INFO - 将来窓: 0～24ヶ月
2025-12-19 11:34:19,936 - INFO - 拡張ラベル期間: 0～12ヶ月
2025-12-19 11:34:19,936 - INFO - プロジェクト: 全プロジェクト
2025-12-19 11:34:19,936 - INFO - ラベル定義: この期間で承諾=1、この期間で拒否=0、依頼なし→拡張期間チェック、訓練時は拡張期間にも依頼なしで除外
2025-12-19 11:34:19,936 - INFO - データリーク防止: 訓練期間内でラベル計算
2025-12-19 11:34:19,936 - INFO - ================================================================================
2025-12-19 11:34:19,936 - INFO - 特徴量計算期間（訓練全体）: 2021-01-01 00:00:00 ～ 2021-04-01 00:00:00
2025-12-19 11:34:19,936 - INFO - 全体ラベル期間（train_end時点から）: 2021-04-01 00:00:00 ～ 2023-04-01 00:00:00
2025-12-19 11:34:19,938 - INFO - 特徴量計算期間内のレビュアー数: 139
2025-12-19 11:34:20,351 - INFO - ================================================================================
2025-12-19 11:34:20,351 - INFO - 軌跡抽出完了: 98サンプル（レビュアー）
2025-12-19 11:34:20,351 - INFO -   スキップ（最小依頼数未満）: 0
2025-12-19 11:34:20,351 - INFO -   スキップ（訓練期間末尾まで依頼なし）: 41
2025-12-19 11:34:20,351 - INFO -   正例（この期間で承諾あり）: 93 (94.9%)
2025-12-19 11:34:20,351 - INFO -   負例（この期間で承諾なし）: 5 (5.1%)
2025-12-19 11:34:20,351 - INFO -     - 依頼あり→拒否（重み=1.0）: 5
2025-12-19 11:34:20,351 - INFO -   総ステップ数: 196
2025-12-19 11:34:20,351 - INFO -   継続ステップ率: 62.8% (123/196)
2025-12-19 11:34:20,351 - INFO - ================================================================================
/Users/kazuki-h/research/multiproject_research/.venv/lib/python3.13/site-packages/torch/nn/modules/rnn.py:123: UserWarning: dropout option adds dropout after all but last recurrent layer, so non-zero dropout expects num_layers greater than 1, but got dropout=0.2 and num_layers=1
  warnings.warn(
2025-12-19 11:34:20,754 - INFO - 継続予測IRLシステムを初期化しました
2025-12-19 11:34:20,754 - INFO - 訓練データ正例率: 94.9% (93/98)
2025-12-19 11:34:20,754 - INFO - Focal Loss パラメータ更新: alpha=0.400, gamma=1.000
2025-12-19 11:34:20,754 - INFO - 正例率 94.9% に基づき自動調整: バランス重視（正例率≥60%・軽い正例優先)
2025-12-19 11:34:20,754 - INFO - IRLモデルを訓練...
2025-12-19 11:34:20,754 - INFO - ============================================================
2025-12-19 11:34:20,754 - INFO - 時系列IRL訓練開始
2025-12-19 11:34:20,754 - INFO - 軌跡数: 98
2025-12-19 11:34:20,754 - INFO - エポック数: 20
2025-12-19 11:34:20,754 - INFO - ============================================================
2025-12-19 11:34:21,020 - INFO - エポック 0: 平均損失 = 1.1446
2025-12-19 11:34:22,871 - INFO - エポック 10: 平均損失 = 0.8057
2025-12-19 11:34:24,410 - INFO - 時系列IRL訓練完了
2025-12-19 11:34:24,410 - INFO - 訓練データ上で最適閾値を決定...
2025-12-19 11:34:24,602 - INFO - 最適閾値: 0.0721
2025-12-19 11:34:24,602 - INFO - 訓練データ性能: Precision=0.949, Recall=1.000, F1=0.974
2025-12-19 11:34:24,604 - INFO - モデルを保存: outputs/chromium_50projects_irl/train_0-3m/irl_model.pt
2025-12-19 11:34:24,604 - INFO - 最適閾値を保存: outputs/chromium_50projects_irl/train_0-3m/optimal_threshold.json
2025-12-19 11:34:24,604 - INFO - 評価用軌跡を抽出...
2025-12-19 11:34:24,604 - INFO - ================================================================================
2025-12-19 11:34:24,605 - INFO - 評価用軌跡抽出を開始（スナップショット特徴量用）
2025-12-19 11:34:24,605 - INFO - Cutoff日: 2021-04-01 00:00:00
2025-12-19 11:34:24,605 - INFO - 履歴ウィンドウ: 3ヶ月
2025-12-19 11:34:24,605 - INFO - 将来窓: 21～24ヶ月
2025-12-19 11:34:24,605 - INFO - 拡張ラベル期間: 21～12ヶ月
2025-12-19 11:34:24,605 - INFO - プロジェクト: 全プロジェクト
2025-12-19 11:34:24,605 - INFO - 継続判定: この期間で承諾=1、この期間で拒否=0、依頼なし→拡張期間チェック、評価時は拡張期間にも依頼なしで除外（予測の母集団に入れない）
2025-12-19 11:34:24,605 - INFO - ================================================================================
2025-12-19 11:34:24,605 - INFO - 履歴期間: 2021-01-01 00:00:00 ～ 2021-04-01 00:00:00
2025-12-19 11:34:24,605 - INFO - 評価期間: 2023-01-01 00:00:00 ～ 2023-04-01 00:00:00
2025-12-19 11:34:24,606 - INFO - 履歴期間内のレビュアー数: 139
2025-12-19 11:34:24,707 - INFO - ================================================================================
2025-12-19 11:34:24,707 - INFO - 評価用軌跡抽出完了: 53サンプル
2025-12-19 11:34:24,707 - INFO -   スキップ（最小依頼数未満）: 0
2025-12-19 11:34:24,707 - INFO -   スキップ（訓練期間末尾まで依頼なし）: 86
2025-12-19 11:34:24,707 - INFO -   正例（この期間で承諾あり）: 48 (90.6%)
2025-12-19 11:34:24,707 - INFO -   負例（この期間で承諾なし）: 5 (9.4%)
2025-12-19 11:34:24,707 - INFO -     - 依頼あり→拒否（重み=1.0）: 5
2025-12-19 11:34:24,707 - INFO - ================================================================================
2025-12-19 11:34:24,707 - INFO - 予測を実行...
2025-12-19 11:34:24,827 - INFO - ================================================================================
2025-12-19 11:34:24,827 - INFO - 評価結果 (0-3m → 0-3m):
2025-12-19 11:34:24,827 - INFO -   AUC-ROC: 0.2792
2025-12-19 11:34:24,827 - INFO -   AUC-PR: 0.8579
2025-12-19 11:34:24,827 - INFO -   Precision: 0.9057
2025-12-19 11:34:24,827 - INFO -   Recall: 1.0000
2025-12-19 11:34:24,827 - INFO -   F1 Score: 0.9505
2025-12-19 11:34:24,827 - INFO - ================================================================================
2025-12-19 11:34:24,829 - INFO - 結果を保存: outputs/chromium_50projects_irl/train_0-3m/eval_0-3m
2025-12-19 11:34:24,831 - INFO - 
【2/10】パターン実行中...
2025-12-19 11:34:24,831 - INFO - ================================================================================
2025-12-19 11:34:24,831 - INFO - パターン: 0-3m → 3-6m
2025-12-19 11:34:24,831 - INFO - 訓練期間: 2021-01-01 00:00:00 ～ 2021-04-01 00:00:00
2025-12-19 11:34:24,831 - INFO - 評価期間: 2023-04-01 00:00:00 ～ 2023-07-01 00:00:00
2025-12-19 11:34:24,831 - INFO - ================================================================================
2025-12-19 11:34:24,831 - INFO - レビュー依頼データを読み込み: data/chromium_50proj_2021_2024_feat_clean.csv
2025-12-19 11:34:24,908 - INFO - 総レビュー依頼数: 16121
2025-12-19 11:34:24,908 - INFO - 承諾数: 12139 (75.3%)
2025-12-19 11:34:24,908 - INFO - 拒否数: 3982 (24.7%)
2025-12-19 11:34:24,908 - INFO - 将来窓設定: 0～27ヶ月
2025-12-19 11:34:24,908 - INFO - 訓練用軌跡を抽出...
2025-12-19 11:34:24,908 - INFO - ================================================================================
2025-12-19 11:34:24,908 - INFO - レビュー承諾予測用軌跡抽出を開始（データリークなし版）
2025-12-19 11:34:24,908 - INFO - 訓練期間全体: 2021-01-01 00:00:00 ～ 2021-04-01 00:00:00
2025-12-19 11:34:24,909 - INFO - 将来窓: 0～27ヶ月
2025-12-19 11:34:24,909 - INFO - 拡張ラベル期間: 0～12ヶ月
2025-12-19 11:34:24,909 - INFO - プロジェクト: 全プロジェクト
2025-12-19 11:34:24,909 - INFO - ラベル定義: この期間で承諾=1、この期間で拒否=0、依頼なし→拡張期間チェック、訓練時は拡張期間にも依頼なしで除外
2025-12-19 11:34:24,909 - INFO - データリーク防止: 訓練期間内でラベル計算
2025-12-19 11:34:24,909 - INFO - ================================================================================
2025-12-19 11:34:24,909 - INFO - 特徴量計算期間（訓練全体）: 2021-01-01 00:00:00 ～ 2021-04-01 00:00:00
2025-12-19 11:34:24,909 - INFO - 全体ラベル期間（train_end時点から）: 2021-04-01 00:00:00 ～ 2023-07-01 00:00:00
2025-12-19 11:34:24,911 - INFO - 特徴量計算期間内のレビュアー数: 139
2025-12-19 11:34:25,318 - INFO - ================================================================================
2025-12-19 11:34:25,318 - INFO - 軌跡抽出完了: 100サンプル（レビュアー）
2025-12-19 11:34:25,318 - INFO -   スキップ（最小依頼数未満）: 0
2025-12-19 11:34:25,318 - INFO -   スキップ（訓練期間末尾まで依頼なし）: 39
2025-12-19 11:34:25,318 - INFO -   正例（この期間で承諾あり）: 95 (95.0%)
2025-12-19 11:34:25,318 - INFO -   負例（この期間で承諾なし）: 5 (5.0%)
2025-12-19 11:34:25,319 - INFO -     - 依頼あり→拒否（重み=1.0）: 5
2025-12-19 11:34:25,319 - INFO -   総ステップ数: 200
2025-12-19 11:34:25,319 - INFO -   継続ステップ率: 62.5% (125/200)
2025-12-19 11:34:25,319 - INFO - ================================================================================
/Users/kazuki-h/research/multiproject_research/.venv/lib/python3.13/site-packages/torch/nn/modules/rnn.py:123: UserWarning: dropout option adds dropout after all but last recurrent layer, so non-zero dropout expects num_layers greater than 1, but got dropout=0.2 and num_layers=1
  warnings.warn(
2025-12-19 11:34:25,320 - INFO - 継続予測IRLシステムを初期化しました
2025-12-19 11:34:25,320 - INFO - 訓練データ正例率: 95.0% (95/100)
2025-12-19 11:34:25,320 - INFO - Focal Loss パラメータ更新: alpha=0.400, gamma=1.000
2025-12-19 11:34:25,320 - INFO - 正例率 95.0% に基づき自動調整: バランス重視（正例率≥60%・軽い正例優先)
2025-12-19 11:34:25,320 - INFO - IRLモデルを訓練...
2025-12-19 11:34:25,320 - INFO - ============================================================
2025-12-19 11:34:25,320 - INFO - 時系列IRL訓練開始
2025-12-19 11:34:25,320 - INFO - 軌跡数: 100
2025-12-19 11:34:25,320 - INFO - エポック数: 20
2025-12-19 11:34:25,320 - INFO - ============================================================
2025-12-19 11:34:25,518 - INFO - エポック 0: 平均損失 = 1.1984
2025-12-19 11:34:27,441 - INFO - エポック 10: 平均損失 = 0.8858
2025-12-19 11:34:29,092 - INFO - 時系列IRL訓練完了
2025-12-19 11:34:29,092 - INFO - 訓練データ上で最適閾値を決定...
2025-12-19 11:34:29,286 - INFO - 最適閾値: 0.1290
2025-12-19 11:34:29,286 - INFO - 訓練データ性能: Precision=0.950, Recall=1.000, F1=0.974
2025-12-19 11:34:29,287 - INFO - モデルを保存: outputs/chromium_50projects_irl/train_0-3m/irl_model.pt
2025-12-19 11:34:29,287 - INFO - 最適閾値を保存: outputs/chromium_50projects_irl/train_0-3m/optimal_threshold.json
2025-12-19 11:34:29,287 - INFO - 評価用軌跡を抽出...
2025-12-19 11:34:29,287 - INFO - ================================================================================
2025-12-19 11:34:29,287 - INFO - 評価用軌跡抽出を開始（スナップショット特徴量用）
2025-12-19 11:34:29,287 - INFO - Cutoff日: 2021-04-01 00:00:00
2025-12-19 11:34:29,287 - INFO - 履歴ウィンドウ: 3ヶ月
2025-12-19 11:34:29,287 - INFO - 将来窓: 24～27ヶ月
2025-12-19 11:34:29,287 - INFO - 拡張ラベル期間: 24～12ヶ月
2025-12-19 11:34:29,287 - INFO - プロジェクト: 全プロジェクト
2025-12-19 11:34:29,287 - INFO - 継続判定: この期間で承諾=1、この期間で拒否=0、依頼なし→拡張期間チェック、評価時は拡張期間にも依頼なしで除外（予測の母集団に入れない）
2025-12-19 11:34:29,287 - INFO - ================================================================================
2025-12-19 11:34:29,287 - INFO - 履歴期間: 2021-01-01 00:00:00 ～ 2021-04-01 00:00:00
2025-12-19 11:34:29,287 - INFO - 評価期間: 2023-04-01 00:00:00 ～ 2023-07-01 00:00:00
2025-12-19 11:34:29,289 - INFO - 履歴期間内のレビュアー数: 139
2025-12-19 11:34:29,376 - INFO - ================================================================================
2025-12-19 11:34:29,377 - INFO - 評価用軌跡抽出完了: 42サンプル
2025-12-19 11:34:29,377 - INFO -   スキップ（最小依頼数未満）: 0
2025-12-19 11:34:29,377 - INFO -   スキップ（訓練期間末尾まで依頼なし）: 97
2025-12-19 11:34:29,377 - INFO -   正例（この期間で承諾あり）: 42 (100.0%)
2025-12-19 11:34:29,377 - INFO -   負例（この期間で承諾なし）: 0 (0.0%)
2025-12-19 11:34:29,377 - INFO - ================================================================================
2025-12-19 11:34:29,377 - INFO - 予測を実行...
/Users/kazuki-h/research/multiproject_research/.venv/lib/python3.13/site-packages/sklearn/metrics/_ranking.py:424: UndefinedMetricWarning: Only one class is present in y_true. ROC AUC score is not defined in that case.
  warnings.warn(
2025-12-19 11:34:29,487 - INFO - ================================================================================
2025-12-19 11:34:29,487 - INFO - 評価結果 (0-3m → 3-6m):
2025-12-19 11:34:29,487 - INFO -   AUC-ROC: nan
2025-12-19 11:34:29,487 - INFO -   AUC-PR: 1.0000
2025-12-19 11:34:29,487 - INFO -   Precision: 1.0000
2025-12-19 11:34:29,487 - INFO -   Recall: 1.0000
2025-12-19 11:34:29,487 - INFO -   F1 Score: 1.0000
2025-12-19 11:34:29,487 - INFO - ================================================================================
2025-12-19 11:34:29,488 - INFO - 結果を保存: outputs/chromium_50projects_irl/train_0-3m/eval_3-6m
2025-12-19 11:34:29,490 - INFO - 
【3/10】パターン実行中...
2025-12-19 11:34:29,490 - INFO - ================================================================================
2025-12-19 11:34:29,490 - INFO - パターン: 0-3m → 6-9m
2025-12-19 11:34:29,490 - INFO - 訓練期間: 2021-01-01 00:00:00 ～ 2021-04-01 00:00:00
2025-12-19 11:34:29,490 - INFO - 評価期間: 2023-07-01 00:00:00 ～ 2023-10-01 00:00:00
2025-12-19 11:34:29,490 - INFO - ================================================================================
2025-12-19 11:34:29,490 - INFO - レビュー依頼データを読み込み: data/chromium_50proj_2021_2024_feat_clean.csv
2025-12-19 11:34:29,565 - INFO - 総レビュー依頼数: 16121
2025-12-19 11:34:29,565 - INFO - 承諾数: 12139 (75.3%)
2025-12-19 11:34:29,565 - INFO - 拒否数: 3982 (24.7%)
2025-12-19 11:34:29,565 - INFO - 将来窓設定: 0～30ヶ月
2025-12-19 11:34:29,565 - INFO - 訓練用軌跡を抽出...
2025-12-19 11:34:29,565 - INFO - ================================================================================
2025-12-19 11:34:29,565 - INFO - レビュー承諾予測用軌跡抽出を開始（データリークなし版）
2025-12-19 11:34:29,565 - INFO - 訓練期間全体: 2021-01-01 00:00:00 ～ 2021-04-01 00:00:00
2025-12-19 11:34:29,565 - INFO - 将来窓: 0～30ヶ月
2025-12-19 11:34:29,565 - INFO - 拡張ラベル期間: 0～12ヶ月
2025-12-19 11:34:29,565 - INFO - プロジェクト: 全プロジェクト
2025-12-19 11:34:29,565 - INFO - ラベル定義: この期間で承諾=1、この期間で拒否=0、依頼なし→拡張期間チェック、訓練時は拡張期間にも依頼なしで除外
2025-12-19 11:34:29,565 - INFO - データリーク防止: 訓練期間内でラベル計算
2025-12-19 11:34:29,565 - INFO - ================================================================================
2025-12-19 11:34:29,565 - INFO - 特徴量計算期間（訓練全体）: 2021-01-01 00:00:00 ～ 2021-04-01 00:00:00
2025-12-19 11:34:29,565 - INFO - 全体ラベル期間（train_end時点から）: 2021-04-01 00:00:00 ～ 2023-10-01 00:00:00
2025-12-19 11:34:29,567 - INFO - 特徴量計算期間内のレビュアー数: 139
2025-12-19 11:34:29,990 - INFO - ================================================================================
2025-12-19 11:34:29,990 - INFO - 軌跡抽出完了: 101サンプル（レビュアー）
2025-12-19 11:34:29,990 - INFO -   スキップ（最小依頼数未満）: 0
2025-12-19 11:34:29,990 - INFO -   スキップ（訓練期間末尾まで依頼なし）: 38
2025-12-19 11:34:29,990 - INFO -   正例（この期間で承諾あり）: 96 (95.0%)
2025-12-19 11:34:29,990 - INFO -   負例（この期間で承諾なし）: 5 (5.0%)
2025-12-19 11:34:29,990 - INFO -     - 依頼あり→拒否（重み=1.0）: 5
2025-12-19 11:34:29,990 - INFO -   総ステップ数: 202
2025-12-19 11:34:29,990 - INFO -   継続ステップ率: 62.9% (127/202)
2025-12-19 11:34:29,990 - INFO - ================================================================================
/Users/kazuki-h/research/multiproject_research/.venv/lib/python3.13/site-packages/torch/nn/modules/rnn.py:123: UserWarning: dropout option adds dropout after all but last recurrent layer, so non-zero dropout expects num_layers greater than 1, but got dropout=0.2 and num_layers=1
  warnings.warn(
2025-12-19 11:34:29,992 - INFO - 継続予測IRLシステムを初期化しました
2025-12-19 11:34:29,992 - INFO - 訓練データ正例率: 95.0% (96/101)
2025-12-19 11:34:29,992 - INFO - Focal Loss パラメータ更新: alpha=0.400, gamma=1.000
2025-12-19 11:34:29,992 - INFO - 正例率 95.0% に基づき自動調整: バランス重視（正例率≥60%・軽い正例優先)
2025-12-19 11:34:29,992 - INFO - IRLモデルを訓練...
2025-12-19 11:34:29,992 - INFO - ============================================================
2025-12-19 11:34:29,992 - INFO - 時系列IRL訓練開始
2025-12-19 11:34:29,992 - INFO - 軌跡数: 101
2025-12-19 11:34:29,992 - INFO - エポック数: 20
2025-12-19 11:34:29,992 - INFO - ============================================================
2025-12-19 11:34:30,177 - INFO - エポック 0: 平均損失 = 1.1367
2025-12-19 11:34:32,421 - INFO - エポック 10: 平均損失 = 0.8687
2025-12-19 11:34:34,346 - INFO - 時系列IRL訓練完了
2025-12-19 11:34:34,347 - INFO - 訓練データ上で最適閾値を決定...
2025-12-19 11:34:34,540 - INFO - 最適閾値: 0.1416
2025-12-19 11:34:34,540 - INFO - 訓練データ性能: Precision=0.950, Recall=1.000, F1=0.975
2025-12-19 11:34:34,542 - INFO - モデルを保存: outputs/chromium_50projects_irl/train_0-3m/irl_model.pt
2025-12-19 11:34:34,542 - INFO - 最適閾値を保存: outputs/chromium_50projects_irl/train_0-3m/optimal_threshold.json
2025-12-19 11:34:34,542 - INFO - 評価用軌跡を抽出...
2025-12-19 11:34:34,542 - INFO - ================================================================================
2025-12-19 11:34:34,542 - INFO - 評価用軌跡抽出を開始（スナップショット特徴量用）
2025-12-19 11:34:34,542 - INFO - Cutoff日: 2021-04-01 00:00:00
2025-12-19 11:34:34,542 - INFO - 履歴ウィンドウ: 3ヶ月
2025-12-19 11:34:34,542 - INFO - 将来窓: 27～30ヶ月
2025-12-19 11:34:34,542 - INFO - 拡張ラベル期間: 27～12ヶ月
2025-12-19 11:34:34,542 - INFO - プロジェクト: 全プロジェクト
2025-12-19 11:34:34,542 - INFO - 継続判定: この期間で承諾=1、この期間で拒否=0、依頼なし→拡張期間チェック、評価時は拡張期間にも依頼なしで除外（予測の母集団に入れない）
2025-12-19 11:34:34,542 - INFO - ================================================================================
2025-12-19 11:34:34,542 - INFO - 履歴期間: 2021-01-01 00:00:00 ～ 2021-04-01 00:00:00
2025-12-19 11:34:34,543 - INFO - 評価期間: 2023-07-01 00:00:00 ～ 2023-10-01 00:00:00
2025-12-19 11:34:34,544 - INFO - 履歴期間内のレビュアー数: 139
2025-12-19 11:34:34,641 - INFO - ================================================================================
2025-12-19 11:34:34,641 - INFO - 評価用軌跡抽出完了: 51サンプル
2025-12-19 11:34:34,641 - INFO -   スキップ（最小依頼数未満）: 0
2025-12-19 11:34:34,641 - INFO -   スキップ（訓練期間末尾まで依頼なし）: 88
2025-12-19 11:34:34,641 - INFO -   正例（この期間で承諾あり）: 44 (86.3%)
2025-12-19 11:34:34,641 - INFO -   負例（この期間で承諾なし）: 7 (13.7%)
2025-12-19 11:34:34,641 - INFO -     - 依頼あり→拒否（重み=1.0）: 7
2025-12-19 11:34:34,641 - INFO - ================================================================================
2025-12-19 11:34:34,641 - INFO - 予測を実行...
2025-12-19 11:34:34,790 - INFO - ================================================================================
2025-12-19 11:34:34,790 - INFO - 評価結果 (0-3m → 6-9m):
2025-12-19 11:34:34,790 - INFO -   AUC-ROC: 0.4578
2025-12-19 11:34:34,790 - INFO -   AUC-PR: 0.8372
2025-12-19 11:34:34,790 - INFO -   Precision: 0.8627
2025-12-19 11:34:34,790 - INFO -   Recall: 1.0000
2025-12-19 11:34:34,790 - INFO -   F1 Score: 0.9263
2025-12-19 11:34:34,790 - INFO - ================================================================================
2025-12-19 11:34:34,791 - INFO - 結果を保存: outputs/chromium_50projects_irl/train_0-3m/eval_6-9m
2025-12-19 11:34:34,792 - INFO - 
【4/10】パターン実行中...
2025-12-19 11:34:34,792 - INFO - ================================================================================
2025-12-19 11:34:34,792 - INFO - パターン: 0-3m → 9-12m
2025-12-19 11:34:34,792 - INFO - 訓練期間: 2021-01-01 00:00:00 ～ 2021-04-01 00:00:00
2025-12-19 11:34:34,792 - INFO - 評価期間: 2023-10-01 00:00:00 ～ 2024-01-01 00:00:00
2025-12-19 11:34:34,792 - INFO - ================================================================================
2025-12-19 11:34:34,792 - INFO - レビュー依頼データを読み込み: data/chromium_50proj_2021_2024_feat_clean.csv
2025-12-19 11:34:34,871 - INFO - 総レビュー依頼数: 16121
2025-12-19 11:34:34,872 - INFO - 承諾数: 12139 (75.3%)
2025-12-19 11:34:34,872 - INFO - 拒否数: 3982 (24.7%)
2025-12-19 11:34:34,872 - INFO - 将来窓設定: 0～33ヶ月
2025-12-19 11:34:34,872 - INFO - 訓練用軌跡を抽出...
2025-12-19 11:34:34,872 - INFO - ================================================================================
2025-12-19 11:34:34,872 - INFO - レビュー承諾予測用軌跡抽出を開始（データリークなし版）
2025-12-19 11:34:34,872 - INFO - 訓練期間全体: 2021-01-01 00:00:00 ～ 2021-04-01 00:00:00
2025-12-19 11:34:34,872 - INFO - 将来窓: 0～33ヶ月
2025-12-19 11:34:34,872 - INFO - 拡張ラベル期間: 0～12ヶ月
2025-12-19 11:34:34,872 - INFO - プロジェクト: 全プロジェクト
2025-12-19 11:34:34,872 - INFO - ラベル定義: この期間で承諾=1、この期間で拒否=0、依頼なし→拡張期間チェック、訓練時は拡張期間にも依頼なしで除外
2025-12-19 11:34:34,872 - INFO - データリーク防止: 訓練期間内でラベル計算
2025-12-19 11:34:34,872 - INFO - ================================================================================
2025-12-19 11:34:34,872 - INFO - 特徴量計算期間（訓練全体）: 2021-01-01 00:00:00 ～ 2021-04-01 00:00:00
2025-12-19 11:34:34,872 - INFO - 全体ラベル期間（train_end時点から）: 2021-04-01 00:00:00 ～ 2024-01-01 00:00:00
2025-12-19 11:34:34,875 - INFO - 特徴量計算期間内のレビュアー数: 139
2025-12-19 11:34:35,358 - INFO - ================================================================================
2025-12-19 11:34:35,358 - INFO - 軌跡抽出完了: 110サンプル（レビュアー）
2025-12-19 11:34:35,358 - INFO -   スキップ（最小依頼数未満）: 0
2025-12-19 11:34:35,358 - INFO -   スキップ（訓練期間末尾まで依頼なし）: 29
2025-12-19 11:34:35,358 - INFO -   正例（この期間で承諾あり）: 105 (95.5%)
2025-12-19 11:34:35,358 - INFO -   負例（この期間で承諾なし）: 5 (4.5%)
2025-12-19 11:34:35,358 - INFO -     - 依頼あり→拒否（重み=1.0）: 5
2025-12-19 11:34:35,358 - INFO -   総ステップ数: 220
2025-12-19 11:34:35,358 - INFO -   継続ステップ率: 62.3% (137/220)
2025-12-19 11:34:35,358 - INFO - ================================================================================
/Users/kazuki-h/research/multiproject_research/.venv/lib/python3.13/site-packages/torch/nn/modules/rnn.py:123: UserWarning: dropout option adds dropout after all but last recurrent layer, so non-zero dropout expects num_layers greater than 1, but got dropout=0.2 and num_layers=1
  warnings.warn(
2025-12-19 11:34:35,364 - INFO - 継続予測IRLシステムを初期化しました
2025-12-19 11:34:35,364 - INFO - 訓練データ正例率: 95.5% (105/110)
2025-12-19 11:34:35,364 - INFO - Focal Loss パラメータ更新: alpha=0.400, gamma=1.000
2025-12-19 11:34:35,364 - INFO - 正例率 95.5% に基づき自動調整: バランス重視（正例率≥60%・軽い正例優先)
2025-12-19 11:34:35,364 - INFO - IRLモデルを訓練...
2025-12-19 11:34:35,364 - INFO - ============================================================
2025-12-19 11:34:35,364 - INFO - 時系列IRL訓練開始
2025-12-19 11:34:35,364 - INFO - 軌跡数: 110
2025-12-19 11:34:35,364 - INFO - エポック数: 20
2025-12-19 11:34:35,364 - INFO - ============================================================
2025-12-19 11:34:35,585 - INFO - エポック 0: 平均損失 = 1.1467
2025-12-19 11:34:37,635 - INFO - エポック 10: 平均損失 = 0.8089
2025-12-19 11:34:39,410 - INFO - 時系列IRL訓練完了
2025-12-19 11:34:39,411 - INFO - 訓練データ上で最適閾値を決定...
2025-12-19 11:34:39,623 - INFO - 最適閾値: 0.1515
2025-12-19 11:34:39,624 - INFO - 訓練データ性能: Precision=0.955, Recall=1.000, F1=0.977
2025-12-19 11:34:39,625 - INFO - モデルを保存: outputs/chromium_50projects_irl/train_0-3m/irl_model.pt
2025-12-19 11:34:39,625 - INFO - 最適閾値を保存: outputs/chromium_50projects_irl/train_0-3m/optimal_threshold.json
2025-12-19 11:34:39,625 - INFO - 評価用軌跡を抽出...
2025-12-19 11:34:39,625 - INFO - ================================================================================
2025-12-19 11:34:39,625 - INFO - 評価用軌跡抽出を開始（スナップショット特徴量用）
2025-12-19 11:34:39,625 - INFO - Cutoff日: 2021-04-01 00:00:00
2025-12-19 11:34:39,625 - INFO - 履歴ウィンドウ: 3ヶ月
2025-12-19 11:34:39,625 - INFO - 将来窓: 30～33ヶ月
2025-12-19 11:34:39,625 - INFO - 拡張ラベル期間: 30～12ヶ月
2025-12-19 11:34:39,625 - INFO - プロジェクト: 全プロジェクト
2025-12-19 11:34:39,625 - INFO - 継続判定: この期間で承諾=1、この期間で拒否=0、依頼なし→拡張期間チェック、評価時は拡張期間にも依頼なしで除外（予測の母集団に入れない）
2025-12-19 11:34:39,625 - INFO - ================================================================================
2025-12-19 11:34:39,625 - INFO - 履歴期間: 2021-01-01 00:00:00 ～ 2021-04-01 00:00:00
2025-12-19 11:34:39,625 - INFO - 評価期間: 2023-10-01 00:00:00 ～ 2024-01-01 00:00:00
2025-12-19 11:34:39,627 - INFO - 履歴期間内のレビュアー数: 139
2025-12-19 11:34:39,823 - INFO - ================================================================================
2025-12-19 11:34:39,823 - INFO - 評価用軌跡抽出完了: 65サンプル
2025-12-19 11:34:39,823 - INFO -   スキップ（最小依頼数未満）: 0
2025-12-19 11:34:39,823 - INFO -   スキップ（訓練期間末尾まで依頼なし）: 74
2025-12-19 11:34:39,823 - INFO -   正例（この期間で承諾あり）: 61 (93.8%)
2025-12-19 11:34:39,823 - INFO -   負例（この期間で承諾なし）: 4 (6.2%)
2025-12-19 11:34:39,823 - INFO -     - 依頼あり→拒否（重み=1.0）: 4
2025-12-19 11:34:39,823 - INFO - ================================================================================
2025-12-19 11:34:39,823 - INFO - 予測を実行...
2025-12-19 11:34:40,014 - INFO - ================================================================================
2025-12-19 11:34:40,014 - INFO - 評価結果 (0-3m → 9-12m):
2025-12-19 11:34:40,014 - INFO -   AUC-ROC: 0.6148
2025-12-19 11:34:40,014 - INFO -   AUC-PR: 0.9696
2025-12-19 11:34:40,014 - INFO -   Precision: 0.9385
2025-12-19 11:34:40,014 - INFO -   Recall: 1.0000
2025-12-19 11:34:40,014 - INFO -   F1 Score: 0.9683
2025-12-19 11:34:40,014 - INFO - ================================================================================
2025-12-19 11:34:40,016 - INFO - 結果を保存: outputs/chromium_50projects_irl/train_0-3m/eval_9-12m
2025-12-19 11:34:40,017 - INFO - 
【5/10】パターン実行中...
2025-12-19 11:34:40,017 - INFO - ================================================================================
2025-12-19 11:34:40,017 - INFO - パターン: 3-6m → 3-6m
2025-12-19 11:34:40,017 - INFO - 訓練期間: 2021-04-01 00:00:00 ～ 2021-07-01 00:00:00
2025-12-19 11:34:40,017 - INFO - 評価期間: 2023-04-01 00:00:00 ～ 2023-07-01 00:00:00
2025-12-19 11:34:40,017 - INFO - ================================================================================
2025-12-19 11:34:40,017 - INFO - レビュー依頼データを読み込み: data/chromium_50proj_2021_2024_feat_clean.csv
2025-12-19 11:34:40,098 - INFO - 総レビュー依頼数: 16121
2025-12-19 11:34:40,098 - INFO - 承諾数: 12139 (75.3%)
2025-12-19 11:34:40,099 - INFO - 拒否数: 3982 (24.7%)
2025-12-19 11:34:40,099 - INFO - 将来窓設定: 0～24ヶ月
2025-12-19 11:34:40,099 - INFO - 訓練用軌跡を抽出...
2025-12-19 11:34:40,099 - INFO - ================================================================================
2025-12-19 11:34:40,099 - INFO - レビュー承諾予測用軌跡抽出を開始（データリークなし版）
2025-12-19 11:34:40,099 - INFO - 訓練期間全体: 2021-04-01 00:00:00 ～ 2021-07-01 00:00:00
2025-12-19 11:34:40,099 - INFO - 将来窓: 0～24ヶ月
2025-12-19 11:34:40,099 - INFO - 拡張ラベル期間: 0～12ヶ月
2025-12-19 11:34:40,099 - INFO - プロジェクト: 全プロジェクト
2025-12-19 11:34:40,099 - INFO - ラベル定義: この期間で承諾=1、この期間で拒否=0、依頼なし→拡張期間チェック、訓練時は拡張期間にも依頼なしで除外
2025-12-19 11:34:40,099 - INFO - データリーク防止: 訓練期間内でラベル計算
2025-12-19 11:34:40,099 - INFO - ================================================================================
2025-12-19 11:34:40,099 - INFO - 特徴量計算期間（訓練全体）: 2021-04-01 00:00:00 ～ 2021-07-01 00:00:00
2025-12-19 11:34:40,099 - INFO - 全体ラベル期間（train_end時点から）: 2021-07-01 00:00:00 ～ 2023-07-01 00:00:00
2025-12-19 11:34:40,101 - INFO - 特徴量計算期間内のレビュアー数: 123
2025-12-19 11:34:40,449 - INFO - ================================================================================
2025-12-19 11:34:40,449 - INFO - 軌跡抽出完了: 95サンプル（レビュアー）
2025-12-19 11:34:40,449 - INFO -   スキップ（最小依頼数未満）: 0
2025-12-19 11:34:40,449 - INFO -   スキップ（訓練期間末尾まで依頼なし）: 28
2025-12-19 11:34:40,449 - INFO -   正例（この期間で承諾あり）: 93 (97.9%)
2025-12-19 11:34:40,449 - INFO -   負例（この期間で承諾なし）: 2 (2.1%)
2025-12-19 11:34:40,449 - INFO -     - 依頼あり→拒否（重み=1.0）: 2
2025-12-19 11:34:40,449 - INFO -   総ステップ数: 190
2025-12-19 11:34:40,449 - INFO -   継続ステップ率: 63.7% (121/190)
2025-12-19 11:34:40,449 - INFO - ================================================================================
/Users/kazuki-h/research/multiproject_research/.venv/lib/python3.13/site-packages/torch/nn/modules/rnn.py:123: UserWarning: dropout option adds dropout after all but last recurrent layer, so non-zero dropout expects num_layers greater than 1, but got dropout=0.2 and num_layers=1
  warnings.warn(
2025-12-19 11:34:40,451 - INFO - 継続予測IRLシステムを初期化しました
2025-12-19 11:34:40,451 - INFO - 訓練データ正例率: 97.9% (93/95)
2025-12-19 11:34:40,451 - INFO - Focal Loss パラメータ更新: alpha=0.400, gamma=1.000
2025-12-19 11:34:40,451 - INFO - 正例率 97.9% に基づき自動調整: バランス重視（正例率≥60%・軽い正例優先)
2025-12-19 11:34:40,451 - INFO - IRLモデルを訓練...
2025-12-19 11:34:40,451 - INFO - ============================================================
2025-12-19 11:34:40,451 - INFO - 時系列IRL訓練開始
2025-12-19 11:34:40,451 - INFO - 軌跡数: 95
2025-12-19 11:34:40,451 - INFO - エポック数: 20
2025-12-19 11:34:40,451 - INFO - ============================================================
2025-12-19 11:34:40,620 - INFO - エポック 0: 平均損失 = 1.1620
2025-12-19 11:34:42,469 - INFO - エポック 10: 平均損失 = 0.9242
2025-12-19 11:34:44,020 - INFO - 時系列IRL訓練完了
2025-12-19 11:34:44,020 - INFO - 訓練データ上で最適閾値を決定...
2025-12-19 11:34:44,218 - INFO - 最適閾値: 0.1576
2025-12-19 11:34:44,218 - INFO - 訓練データ性能: Precision=0.979, Recall=1.000, F1=0.989
2025-12-19 11:34:44,220 - INFO - モデルを保存: outputs/chromium_50projects_irl/train_3-6m/irl_model.pt
2025-12-19 11:34:44,220 - INFO - 最適閾値を保存: outputs/chromium_50projects_irl/train_3-6m/optimal_threshold.json
2025-12-19 11:34:44,220 - INFO - 評価用軌跡を抽出...
2025-12-19 11:34:44,220 - INFO - ================================================================================
2025-12-19 11:34:44,220 - INFO - 評価用軌跡抽出を開始（スナップショット特徴量用）
2025-12-19 11:34:44,220 - INFO - Cutoff日: 2021-07-01 00:00:00
2025-12-19 11:34:44,220 - INFO - 履歴ウィンドウ: 3ヶ月
2025-12-19 11:34:44,220 - INFO - 将来窓: 21～24ヶ月
2025-12-19 11:34:44,220 - INFO - 拡張ラベル期間: 21～12ヶ月
2025-12-19 11:34:44,220 - INFO - プロジェクト: 全プロジェクト
2025-12-19 11:34:44,220 - INFO - 継続判定: この期間で承諾=1、この期間で拒否=0、依頼なし→拡張期間チェック、評価時は拡張期間にも依頼なしで除外（予測の母集団に入れない）
2025-12-19 11:34:44,220 - INFO - ================================================================================
2025-12-19 11:34:44,220 - INFO - 履歴期間: 2021-04-01 00:00:00 ～ 2021-07-01 00:00:00
2025-12-19 11:34:44,220 - INFO - 評価期間: 2023-04-01 00:00:00 ～ 2023-07-01 00:00:00
2025-12-19 11:34:44,221 - INFO - 履歴期間内のレビュアー数: 123
2025-12-19 11:34:44,308 - INFO - ================================================================================
2025-12-19 11:34:44,308 - INFO - 評価用軌跡抽出完了: 42サンプル
2025-12-19 11:34:44,308 - INFO -   スキップ（最小依頼数未満）: 0
2025-12-19 11:34:44,308 - INFO -   スキップ（訓練期間末尾まで依頼なし）: 81
2025-12-19 11:34:44,308 - INFO -   正例（この期間で承諾あり）: 42 (100.0%)
2025-12-19 11:34:44,308 - INFO -   負例（この期間で承諾なし）: 0 (0.0%)
2025-12-19 11:34:44,308 - INFO - ================================================================================
2025-12-19 11:34:44,308 - INFO - 予測を実行...
/Users/kazuki-h/research/multiproject_research/.venv/lib/python3.13/site-packages/sklearn/metrics/_ranking.py:424: UndefinedMetricWarning: Only one class is present in y_true. ROC AUC score is not defined in that case.
  warnings.warn(
2025-12-19 11:34:44,434 - INFO - ================================================================================
2025-12-19 11:34:44,434 - INFO - 評価結果 (3-6m → 3-6m):
2025-12-19 11:34:44,434 - INFO -   AUC-ROC: nan
2025-12-19 11:34:44,434 - INFO -   AUC-PR: 1.0000
2025-12-19 11:34:44,434 - INFO -   Precision: 1.0000
2025-12-19 11:34:44,434 - INFO -   Recall: 1.0000
2025-12-19 11:34:44,434 - INFO -   F1 Score: 1.0000
2025-12-19 11:34:44,434 - INFO - ================================================================================
2025-12-19 11:34:44,435 - INFO - 結果を保存: outputs/chromium_50projects_irl/train_3-6m/eval_3-6m
2025-12-19 11:34:44,437 - INFO - 
【6/10】パターン実行中...
2025-12-19 11:34:44,437 - INFO - ================================================================================
2025-12-19 11:34:44,437 - INFO - パターン: 3-6m → 6-9m
2025-12-19 11:34:44,437 - INFO - 訓練期間: 2021-04-01 00:00:00 ～ 2021-07-01 00:00:00
2025-12-19 11:34:44,437 - INFO - 評価期間: 2023-07-01 00:00:00 ～ 2023-10-01 00:00:00
2025-12-19 11:34:44,437 - INFO - ================================================================================
2025-12-19 11:34:44,437 - INFO - レビュー依頼データを読み込み: data/chromium_50proj_2021_2024_feat_clean.csv
2025-12-19 11:34:44,524 - INFO - 総レビュー依頼数: 16121
2025-12-19 11:34:44,524 - INFO - 承諾数: 12139 (75.3%)
2025-12-19 11:34:44,524 - INFO - 拒否数: 3982 (24.7%)
2025-12-19 11:34:44,524 - INFO - 将来窓設定: 0～27ヶ月
2025-12-19 11:34:44,524 - INFO - 訓練用軌跡を抽出...
2025-12-19 11:34:44,524 - INFO - ================================================================================
2025-12-19 11:34:44,524 - INFO - レビュー承諾予測用軌跡抽出を開始（データリークなし版）
2025-12-19 11:34:44,524 - INFO - 訓練期間全体: 2021-04-01 00:00:00 ～ 2021-07-01 00:00:00
2025-12-19 11:34:44,524 - INFO - 将来窓: 0～27ヶ月
2025-12-19 11:34:44,524 - INFO - 拡張ラベル期間: 0～12ヶ月
2025-12-19 11:34:44,524 - INFO - プロジェクト: 全プロジェクト
2025-12-19 11:34:44,524 - INFO - ラベル定義: この期間で承諾=1、この期間で拒否=0、依頼なし→拡張期間チェック、訓練時は拡張期間にも依頼なしで除外
2025-12-19 11:34:44,524 - INFO - データリーク防止: 訓練期間内でラベル計算
2025-12-19 11:34:44,524 - INFO - ================================================================================
2025-12-19 11:34:44,524 - INFO - 特徴量計算期間（訓練全体）: 2021-04-01 00:00:00 ～ 2021-07-01 00:00:00
2025-12-19 11:34:44,524 - INFO - 全体ラベル期間（train_end時点から）: 2021-07-01 00:00:00 ～ 2023-10-01 00:00:00
2025-12-19 11:34:44,527 - INFO - 特徴量計算期間内のレビュアー数: 123
2025-12-19 11:34:44,902 - INFO - ================================================================================
2025-12-19 11:34:44,902 - INFO - 軌跡抽出完了: 97サンプル（レビュアー）
2025-12-19 11:34:44,902 - INFO -   スキップ（最小依頼数未満）: 0
2025-12-19 11:34:44,903 - INFO -   スキップ（訓練期間末尾まで依頼なし）: 26
2025-12-19 11:34:44,903 - INFO -   正例（この期間で承諾あり）: 93 (95.9%)
2025-12-19 11:34:44,903 - INFO -   負例（この期間で承諾なし）: 4 (4.1%)
2025-12-19 11:34:44,903 - INFO -     - 依頼あり→拒否（重み=1.0）: 4
2025-12-19 11:34:44,903 - INFO -   総ステップ数: 194
2025-12-19 11:34:44,903 - INFO -   継続ステップ率: 63.4% (123/194)
2025-12-19 11:34:44,903 - INFO - ================================================================================
/Users/kazuki-h/research/multiproject_research/.venv/lib/python3.13/site-packages/torch/nn/modules/rnn.py:123: UserWarning: dropout option adds dropout after all but last recurrent layer, so non-zero dropout expects num_layers greater than 1, but got dropout=0.2 and num_layers=1
  warnings.warn(
2025-12-19 11:34:44,905 - INFO - 継続予測IRLシステムを初期化しました
2025-12-19 11:34:44,905 - INFO - 訓練データ正例率: 95.9% (93/97)
2025-12-19 11:34:44,905 - INFO - Focal Loss パラメータ更新: alpha=0.400, gamma=1.000
2025-12-19 11:34:44,905 - INFO - 正例率 95.9% に基づき自動調整: バランス重視（正例率≥60%・軽い正例優先)
2025-12-19 11:34:44,905 - INFO - IRLモデルを訓練...
2025-12-19 11:34:44,905 - INFO - ============================================================
2025-12-19 11:34:44,905 - INFO - 時系列IRL訓練開始
2025-12-19 11:34:44,905 - INFO - 軌跡数: 97
2025-12-19 11:34:44,905 - INFO - エポック数: 20
2025-12-19 11:34:44,905 - INFO - ============================================================
2025-12-19 11:34:45,104 - INFO - エポック 0: 平均損失 = 1.1151
2025-12-19 11:34:47,082 - INFO - エポック 10: 平均損失 = 0.8838
2025-12-19 11:34:48,812 - INFO - 時系列IRL訓練完了
2025-12-19 11:34:48,812 - INFO - 訓練データ上で最適閾値を決定...
2025-12-19 11:34:48,990 - INFO - 最適閾値: 0.0638
2025-12-19 11:34:48,990 - INFO - 訓練データ性能: Precision=0.959, Recall=1.000, F1=0.979
2025-12-19 11:34:48,991 - INFO - モデルを保存: outputs/chromium_50projects_irl/train_3-6m/irl_model.pt
2025-12-19 11:34:48,992 - INFO - 最適閾値を保存: outputs/chromium_50projects_irl/train_3-6m/optimal_threshold.json
2025-12-19 11:34:48,992 - INFO - 評価用軌跡を抽出...
2025-12-19 11:34:48,992 - INFO - ================================================================================
2025-12-19 11:34:48,992 - INFO - 評価用軌跡抽出を開始（スナップショット特徴量用）
2025-12-19 11:34:48,992 - INFO - Cutoff日: 2021-07-01 00:00:00
2025-12-19 11:34:48,992 - INFO - 履歴ウィンドウ: 3ヶ月
2025-12-19 11:34:48,992 - INFO - 将来窓: 24～27ヶ月
2025-12-19 11:34:48,992 - INFO - 拡張ラベル期間: 24～12ヶ月
2025-12-19 11:34:48,992 - INFO - プロジェクト: 全プロジェクト
2025-12-19 11:34:48,992 - INFO - 継続判定: この期間で承諾=1、この期間で拒否=0、依頼なし→拡張期間チェック、評価時は拡張期間にも依頼なしで除外（予測の母集団に入れない）
2025-12-19 11:34:48,992 - INFO - ================================================================================
2025-12-19 11:34:48,992 - INFO - 履歴期間: 2021-04-01 00:00:00 ～ 2021-07-01 00:00:00
2025-12-19 11:34:48,992 - INFO - 評価期間: 2023-07-01 00:00:00 ～ 2023-10-01 00:00:00
2025-12-19 11:34:48,993 - INFO - 履歴期間内のレビュアー数: 123
2025-12-19 11:34:49,087 - INFO - ================================================================================
2025-12-19 11:34:49,087 - INFO - 評価用軌跡抽出完了: 53サンプル
2025-12-19 11:34:49,087 - INFO -   スキップ（最小依頼数未満）: 0
2025-12-19 11:34:49,087 - INFO -   スキップ（訓練期間末尾まで依頼なし）: 70
2025-12-19 11:34:49,087 - INFO -   正例（この期間で承諾あり）: 44 (83.0%)
2025-12-19 11:34:49,087 - INFO -   負例（この期間で承諾なし）: 9 (17.0%)
2025-12-19 11:34:49,087 - INFO -     - 依頼あり→拒否（重み=1.0）: 9
2025-12-19 11:34:49,087 - INFO - ================================================================================
2025-12-19 11:34:49,087 - INFO - 予測を実行...
2025-12-19 11:34:49,229 - INFO - ================================================================================
2025-12-19 11:34:49,229 - INFO - 評価結果 (3-6m → 6-9m):
2025-12-19 11:34:49,229 - INFO -   AUC-ROC: 0.3182
2025-12-19 11:34:49,229 - INFO -   AUC-PR: 0.7236
2025-12-19 11:34:49,229 - INFO -   Precision: 0.8302
2025-12-19 11:34:49,229 - INFO -   Recall: 1.0000
2025-12-19 11:34:49,229 - INFO -   F1 Score: 0.9072
2025-12-19 11:34:49,229 - INFO - ================================================================================
2025-12-19 11:34:49,230 - INFO - 結果を保存: outputs/chromium_50projects_irl/train_3-6m/eval_6-9m
2025-12-19 11:34:49,232 - INFO - 
【7/10】パターン実行中...
2025-12-19 11:34:49,232 - INFO - ================================================================================
2025-12-19 11:34:49,232 - INFO - パターン: 3-6m → 9-12m
2025-12-19 11:34:49,232 - INFO - 訓練期間: 2021-04-01 00:00:00 ～ 2021-07-01 00:00:00
2025-12-19 11:34:49,232 - INFO - 評価期間: 2023-10-01 00:00:00 ～ 2024-01-01 00:00:00
2025-12-19 11:34:49,232 - INFO - ================================================================================
2025-12-19 11:34:49,232 - INFO - レビュー依頼データを読み込み: data/chromium_50proj_2021_2024_feat_clean.csv
2025-12-19 11:34:49,301 - INFO - 総レビュー依頼数: 16121
2025-12-19 11:34:49,302 - INFO - 承諾数: 12139 (75.3%)
2025-12-19 11:34:49,302 - INFO - 拒否数: 3982 (24.7%)
2025-12-19 11:34:49,302 - INFO - 将来窓設定: 0～30ヶ月
2025-12-19 11:34:49,302 - INFO - 訓練用軌跡を抽出...
2025-12-19 11:34:49,302 - INFO - ================================================================================
2025-12-19 11:34:49,302 - INFO - レビュー承諾予測用軌跡抽出を開始（データリークなし版）
2025-12-19 11:34:49,302 - INFO - 訓練期間全体: 2021-04-01 00:00:00 ～ 2021-07-01 00:00:00
2025-12-19 11:34:49,302 - INFO - 将来窓: 0～30ヶ月
2025-12-19 11:34:49,302 - INFO - 拡張ラベル期間: 0～12ヶ月
2025-12-19 11:34:49,302 - INFO - プロジェクト: 全プロジェクト
2025-12-19 11:34:49,302 - INFO - ラベル定義: この期間で承諾=1、この期間で拒否=0、依頼なし→拡張期間チェック、訓練時は拡張期間にも依頼なしで除外
2025-12-19 11:34:49,302 - INFO - データリーク防止: 訓練期間内でラベル計算
2025-12-19 11:34:49,302 - INFO - ================================================================================
2025-12-19 11:34:49,302 - INFO - 特徴量計算期間（訓練全体）: 2021-04-01 00:00:00 ～ 2021-07-01 00:00:00
2025-12-19 11:34:49,302 - INFO - 全体ラベル期間（train_end時点から）: 2021-07-01 00:00:00 ～ 2024-01-01 00:00:00
2025-12-19 11:34:49,304 - INFO - 特徴量計算期間内のレビュアー数: 123
2025-12-19 11:34:49,668 - INFO - ================================================================================
2025-12-19 11:34:49,668 - INFO - 軌跡抽出完了: 106サンプル（レビュアー）
2025-12-19 11:34:49,668 - INFO -   スキップ（最小依頼数未満）: 0
2025-12-19 11:34:49,668 - INFO -   スキップ（訓練期間末尾まで依頼なし）: 17
2025-12-19 11:34:49,668 - INFO -   正例（この期間で承諾あり）: 104 (98.1%)
2025-12-19 11:34:49,668 - INFO -   負例（この期間で承諾なし）: 2 (1.9%)
2025-12-19 11:34:49,668 - INFO -     - 依頼あり→拒否（重み=1.0）: 2
2025-12-19 11:34:49,668 - INFO -   総ステップ数: 212
2025-12-19 11:34:49,668 - INFO -   継続ステップ率: 61.3% (130/212)
2025-12-19 11:34:49,668 - INFO - ================================================================================
/Users/kazuki-h/research/multiproject_research/.venv/lib/python3.13/site-packages/torch/nn/modules/rnn.py:123: UserWarning: dropout option adds dropout after all but last recurrent layer, so non-zero dropout expects num_layers greater than 1, but got dropout=0.2 and num_layers=1
  warnings.warn(
2025-12-19 11:34:49,669 - INFO - 継続予測IRLシステムを初期化しました
2025-12-19 11:34:49,669 - INFO - 訓練データ正例率: 98.1% (104/106)
2025-12-19 11:34:49,669 - INFO - Focal Loss パラメータ更新: alpha=0.400, gamma=1.000
2025-12-19 11:34:49,669 - INFO - 正例率 98.1% に基づき自動調整: バランス重視（正例率≥60%・軽い正例優先)
2025-12-19 11:34:49,670 - INFO - IRLモデルを訓練...
2025-12-19 11:34:49,670 - INFO - ============================================================
2025-12-19 11:34:49,670 - INFO - 時系列IRL訓練開始
2025-12-19 11:34:49,670 - INFO - 軌跡数: 106
2025-12-19 11:34:49,670 - INFO - エポック数: 20
2025-12-19 11:34:49,670 - INFO - ============================================================
2025-12-19 11:34:49,839 - INFO - エポック 0: 平均損失 = 1.1467
2025-12-19 11:34:51,608 - INFO - エポック 10: 平均損失 = 0.8923
2025-12-19 11:34:53,453 - INFO - 時系列IRL訓練完了
2025-12-19 11:34:53,453 - INFO - 訓練データ上で最適閾値を決定...
2025-12-19 11:34:53,648 - INFO - 最適閾値: 0.1235
2025-12-19 11:34:53,648 - INFO - 訓練データ性能: Precision=0.981, Recall=1.000, F1=0.990
2025-12-19 11:34:53,649 - INFO - モデルを保存: outputs/chromium_50projects_irl/train_3-6m/irl_model.pt
2025-12-19 11:34:53,649 - INFO - 最適閾値を保存: outputs/chromium_50projects_irl/train_3-6m/optimal_threshold.json
2025-12-19 11:34:53,649 - INFO - 評価用軌跡を抽出...
2025-12-19 11:34:53,649 - INFO - ================================================================================
2025-12-19 11:34:53,649 - INFO - 評価用軌跡抽出を開始（スナップショット特徴量用）
2025-12-19 11:34:53,649 - INFO - Cutoff日: 2021-07-01 00:00:00
2025-12-19 11:34:53,649 - INFO - 履歴ウィンドウ: 3ヶ月
2025-12-19 11:34:53,649 - INFO - 将来窓: 27～30ヶ月
2025-12-19 11:34:53,649 - INFO - 拡張ラベル期間: 27～12ヶ月
2025-12-19 11:34:53,649 - INFO - プロジェクト: 全プロジェクト
2025-12-19 11:34:53,649 - INFO - 継続判定: この期間で承諾=1、この期間で拒否=0、依頼なし→拡張期間チェック、評価時は拡張期間にも依頼なしで除外（予測の母集団に入れない）
2025-12-19 11:34:53,649 - INFO - ================================================================================
2025-12-19 11:34:53,649 - INFO - 履歴期間: 2021-04-01 00:00:00 ～ 2021-07-01 00:00:00
2025-12-19 11:34:53,649 - INFO - 評価期間: 2023-10-01 00:00:00 ～ 2024-01-01 00:00:00
2025-12-19 11:34:53,651 - INFO - 履歴期間内のレビュアー数: 123
2025-12-19 11:34:53,760 - INFO - ================================================================================
2025-12-19 11:34:53,760 - INFO - 評価用軌跡抽出完了: 65サンプル
2025-12-19 11:34:53,760 - INFO -   スキップ（最小依頼数未満）: 0
2025-12-19 11:34:53,760 - INFO -   スキップ（訓練期間末尾まで依頼なし）: 58
2025-12-19 11:34:53,760 - INFO -   正例（この期間で承諾あり）: 63 (96.9%)
2025-12-19 11:34:53,760 - INFO -   負例（この期間で承諾なし）: 2 (3.1%)
2025-12-19 11:34:53,760 - INFO -     - 依頼あり→拒否（重み=1.0）: 2
2025-12-19 11:34:53,760 - INFO - ================================================================================
2025-12-19 11:34:53,761 - INFO - 予測を実行...
2025-12-19 11:34:53,891 - INFO - ================================================================================
2025-12-19 11:34:53,891 - INFO - 評価結果 (3-6m → 9-12m):
2025-12-19 11:34:53,891 - INFO -   AUC-ROC: 0.2143
2025-12-19 11:34:53,891 - INFO -   AUC-PR: 0.9502
2025-12-19 11:34:53,891 - INFO -   Precision: 0.9692
2025-12-19 11:34:53,891 - INFO -   Recall: 1.0000
2025-12-19 11:34:53,891 - INFO -   F1 Score: 0.9844
2025-12-19 11:34:53,891 - INFO - ================================================================================
2025-12-19 11:34:53,893 - INFO - 結果を保存: outputs/chromium_50projects_irl/train_3-6m/eval_9-12m
2025-12-19 11:34:53,895 - INFO - 
【8/10】パターン実行中...
2025-12-19 11:34:53,895 - INFO - ================================================================================
2025-12-19 11:34:53,895 - INFO - パターン: 6-9m → 6-9m
2025-12-19 11:34:53,895 - INFO - 訓練期間: 2021-07-01 00:00:00 ～ 2021-10-01 00:00:00
2025-12-19 11:34:53,895 - INFO - 評価期間: 2023-07-01 00:00:00 ～ 2023-10-01 00:00:00
2025-12-19 11:34:53,895 - INFO - ================================================================================
2025-12-19 11:34:53,895 - INFO - レビュー依頼データを読み込み: data/chromium_50proj_2021_2024_feat_clean.csv
2025-12-19 11:34:53,972 - INFO - 総レビュー依頼数: 16121
2025-12-19 11:34:53,972 - INFO - 承諾数: 12139 (75.3%)
2025-12-19 11:34:53,972 - INFO - 拒否数: 3982 (24.7%)
2025-12-19 11:34:53,972 - INFO - 将来窓設定: 0～24ヶ月
2025-12-19 11:34:53,972 - INFO - 訓練用軌跡を抽出...
2025-12-19 11:34:53,972 - INFO - ================================================================================
2025-12-19 11:34:53,972 - INFO - レビュー承諾予測用軌跡抽出を開始（データリークなし版）
2025-12-19 11:34:53,972 - INFO - 訓練期間全体: 2021-07-01 00:00:00 ～ 2021-10-01 00:00:00
2025-12-19 11:34:53,972 - INFO - 将来窓: 0～24ヶ月
2025-12-19 11:34:53,972 - INFO - 拡張ラベル期間: 0～12ヶ月
2025-12-19 11:34:53,972 - INFO - プロジェクト: 全プロジェクト
2025-12-19 11:34:53,972 - INFO - ラベル定義: この期間で承諾=1、この期間で拒否=0、依頼なし→拡張期間チェック、訓練時は拡張期間にも依頼なしで除外
2025-12-19 11:34:53,972 - INFO - データリーク防止: 訓練期間内でラベル計算
2025-12-19 11:34:53,972 - INFO - ================================================================================
2025-12-19 11:34:53,972 - INFO - 特徴量計算期間（訓練全体）: 2021-07-01 00:00:00 ～ 2021-10-01 00:00:00
2025-12-19 11:34:53,972 - INFO - 全体ラベル期間（train_end時点から）: 2021-10-01 00:00:00 ～ 2023-10-01 00:00:00
2025-12-19 11:34:53,974 - INFO - 特徴量計算期間内のレビュアー数: 114
2025-12-19 11:34:54,283 - INFO - ================================================================================
2025-12-19 11:34:54,283 - INFO - 軌跡抽出完了: 91サンプル（レビュアー）
2025-12-19 11:34:54,283 - INFO -   スキップ（最小依頼数未満）: 0
2025-12-19 11:34:54,283 - INFO -   スキップ（訓練期間末尾まで依頼なし）: 23
2025-12-19 11:34:54,283 - INFO -   正例（この期間で承諾あり）: 84 (92.3%)
2025-12-19 11:34:54,283 - INFO -   負例（この期間で承諾なし）: 7 (7.7%)
2025-12-19 11:34:54,283 - INFO -     - 依頼あり→拒否（重み=1.0）: 7
2025-12-19 11:34:54,283 - INFO -   総ステップ数: 182
2025-12-19 11:34:54,283 - INFO -   継続ステップ率: 56.6% (103/182)
2025-12-19 11:34:54,283 - INFO - ================================================================================
/Users/kazuki-h/research/multiproject_research/.venv/lib/python3.13/site-packages/torch/nn/modules/rnn.py:123: UserWarning: dropout option adds dropout after all but last recurrent layer, so non-zero dropout expects num_layers greater than 1, but got dropout=0.2 and num_layers=1
  warnings.warn(
2025-12-19 11:34:54,285 - INFO - 継続予測IRLシステムを初期化しました
2025-12-19 11:34:54,285 - INFO - 訓練データ正例率: 92.3% (84/91)
2025-12-19 11:34:54,285 - INFO - Focal Loss パラメータ更新: alpha=0.400, gamma=1.000
2025-12-19 11:34:54,285 - INFO - 正例率 92.3% に基づき自動調整: バランス重視（正例率≥60%・軽い正例優先)
2025-12-19 11:34:54,285 - INFO - IRLモデルを訓練...
2025-12-19 11:34:54,285 - INFO - ============================================================
2025-12-19 11:34:54,285 - INFO - 時系列IRL訓練開始
2025-12-19 11:34:54,285 - INFO - 軌跡数: 91
2025-12-19 11:34:54,285 - INFO - エポック数: 20
2025-12-19 11:34:54,285 - INFO - ============================================================
2025-12-19 11:34:54,466 - INFO - エポック 0: 平均損失 = 1.1644
2025-12-19 11:34:56,033 - INFO - エポック 10: 平均損失 = 0.9919
2025-12-19 11:34:57,390 - INFO - 時系列IRL訓練完了
2025-12-19 11:34:57,390 - INFO - 訓練データ上で最適閾値を決定...
2025-12-19 11:34:57,519 - INFO - 最適閾値: 0.0159
2025-12-19 11:34:57,519 - INFO - 訓練データ性能: Precision=0.923, Recall=1.000, F1=0.960
2025-12-19 11:34:57,520 - INFO - モデルを保存: outputs/chromium_50projects_irl/train_6-9m/irl_model.pt
2025-12-19 11:34:57,520 - INFO - 最適閾値を保存: outputs/chromium_50projects_irl/train_6-9m/optimal_threshold.json
2025-12-19 11:34:57,520 - INFO - 評価用軌跡を抽出...
2025-12-19 11:34:57,520 - INFO - ================================================================================
2025-12-19 11:34:57,520 - INFO - 評価用軌跡抽出を開始（スナップショット特徴量用）
2025-12-19 11:34:57,520 - INFO - Cutoff日: 2021-10-01 00:00:00
2025-12-19 11:34:57,520 - INFO - 履歴ウィンドウ: 3ヶ月
2025-12-19 11:34:57,520 - INFO - 将来窓: 21～24ヶ月
2025-12-19 11:34:57,520 - INFO - 拡張ラベル期間: 21～12ヶ月
2025-12-19 11:34:57,520 - INFO - プロジェクト: 全プロジェクト
2025-12-19 11:34:57,520 - INFO - 継続判定: この期間で承諾=1、この期間で拒否=0、依頼なし→拡張期間チェック、評価時は拡張期間にも依頼なしで除外（予測の母集団に入れない）
2025-12-19 11:34:57,520 - INFO - ================================================================================
2025-12-19 11:34:57,520 - INFO - 履歴期間: 2021-07-01 00:00:00 ～ 2021-10-01 00:00:00
2025-12-19 11:34:57,520 - INFO - 評価期間: 2023-07-01 00:00:00 ～ 2023-10-01 00:00:00
2025-12-19 11:34:57,522 - INFO - 履歴期間内のレビュアー数: 114
2025-12-19 11:34:57,634 - INFO - ================================================================================
2025-12-19 11:34:57,634 - INFO - 評価用軌跡抽出完了: 51サンプル
2025-12-19 11:34:57,634 - INFO -   スキップ（最小依頼数未満）: 0
2025-12-19 11:34:57,634 - INFO -   スキップ（訓練期間末尾まで依頼なし）: 63
2025-12-19 11:34:57,634 - INFO -   正例（この期間で承諾あり）: 46 (90.2%)
2025-12-19 11:34:57,634 - INFO -   負例（この期間で承諾なし）: 5 (9.8%)
2025-12-19 11:34:57,634 - INFO -     - 依頼あり→拒否（重み=1.0）: 5
2025-12-19 11:34:57,634 - INFO - ================================================================================
2025-12-19 11:34:57,634 - INFO - 予測を実行...
2025-12-19 11:34:57,795 - INFO - ================================================================================
2025-12-19 11:34:57,795 - INFO - 評価結果 (6-9m → 6-9m):
2025-12-19 11:34:57,795 - INFO -   AUC-ROC: 0.5652
2025-12-19 11:34:57,795 - INFO -   AUC-PR: 0.9378
2025-12-19 11:34:57,795 - INFO -   Precision: 0.9020
2025-12-19 11:34:57,795 - INFO -   Recall: 1.0000
2025-12-19 11:34:57,795 - INFO -   F1 Score: 0.9485
2025-12-19 11:34:57,795 - INFO - ================================================================================
2025-12-19 11:34:57,797 - INFO - 結果を保存: outputs/chromium_50projects_irl/train_6-9m/eval_6-9m
2025-12-19 11:34:57,798 - INFO - 
【9/10】パターン実行中...
2025-12-19 11:34:57,799 - INFO - ================================================================================
2025-12-19 11:34:57,799 - INFO - パターン: 6-9m → 9-12m
2025-12-19 11:34:57,799 - INFO - 訓練期間: 2021-07-01 00:00:00 ～ 2021-10-01 00:00:00
2025-12-19 11:34:57,799 - INFO - 評価期間: 2023-10-01 00:00:00 ～ 2024-01-01 00:00:00
2025-12-19 11:34:57,799 - INFO - ================================================================================
2025-12-19 11:34:57,799 - INFO - レビュー依頼データを読み込み: data/chromium_50proj_2021_2024_feat_clean.csv
2025-12-19 11:34:57,894 - INFO - 総レビュー依頼数: 16121
2025-12-19 11:34:57,894 - INFO - 承諾数: 12139 (75.3%)
2025-12-19 11:34:57,894 - INFO - 拒否数: 3982 (24.7%)
2025-12-19 11:34:57,894 - INFO - 将来窓設定: 0～27ヶ月
2025-12-19 11:34:57,894 - INFO - 訓練用軌跡を抽出...
2025-12-19 11:34:57,894 - INFO - ================================================================================
2025-12-19 11:34:57,894 - INFO - レビュー承諾予測用軌跡抽出を開始（データリークなし版）
2025-12-19 11:34:57,894 - INFO - 訓練期間全体: 2021-07-01 00:00:00 ～ 2021-10-01 00:00:00
2025-12-19 11:34:57,894 - INFO - 将来窓: 0～27ヶ月
2025-12-19 11:34:57,894 - INFO - 拡張ラベル期間: 0～12ヶ月
2025-12-19 11:34:57,894 - INFO - プロジェクト: 全プロジェクト
2025-12-19 11:34:57,894 - INFO - ラベル定義: この期間で承諾=1、この期間で拒否=0、依頼なし→拡張期間チェック、訓練時は拡張期間にも依頼なしで除外
2025-12-19 11:34:57,894 - INFO - データリーク防止: 訓練期間内でラベル計算
2025-12-19 11:34:57,895 - INFO - ================================================================================
2025-12-19 11:34:57,895 - INFO - 特徴量計算期間（訓練全体）: 2021-07-01 00:00:00 ～ 2021-10-01 00:00:00
2025-12-19 11:34:57,895 - INFO - 全体ラベル期間（train_end時点から）: 2021-10-01 00:00:00 ～ 2024-01-01 00:00:00
2025-12-19 11:34:57,899 - INFO - 特徴量計算期間内のレビュアー数: 114
2025-12-19 11:34:58,300 - INFO - ================================================================================
2025-12-19 11:34:58,300 - INFO - 軌跡抽出完了: 94サンプル（レビュアー）
2025-12-19 11:34:58,300 - INFO -   スキップ（最小依頼数未満）: 0
2025-12-19 11:34:58,300 - INFO -   スキップ（訓練期間末尾まで依頼なし）: 20
2025-12-19 11:34:58,300 - INFO -   正例（この期間で承諾あり）: 87 (92.6%)
2025-12-19 11:34:58,300 - INFO -   負例（この期間で承諾なし）: 7 (7.4%)
2025-12-19 11:34:58,300 - INFO -     - 依頼あり→拒否（重み=1.0）: 7
2025-12-19 11:34:58,300 - INFO -   総ステップ数: 188
2025-12-19 11:34:58,300 - INFO -   継続ステップ率: 58.0% (109/188)
2025-12-19 11:34:58,300 - INFO - ================================================================================
/Users/kazuki-h/research/multiproject_research/.venv/lib/python3.13/site-packages/torch/nn/modules/rnn.py:123: UserWarning: dropout option adds dropout after all but last recurrent layer, so non-zero dropout expects num_layers greater than 1, but got dropout=0.2 and num_layers=1
  warnings.warn(
2025-12-19 11:34:58,302 - INFO - 継続予測IRLシステムを初期化しました
2025-12-19 11:34:58,302 - INFO - 訓練データ正例率: 92.6% (87/94)
2025-12-19 11:34:58,302 - INFO - Focal Loss パラメータ更新: alpha=0.400, gamma=1.000
2025-12-19 11:34:58,302 - INFO - 正例率 92.6% に基づき自動調整: バランス重視（正例率≥60%・軽い正例優先)
2025-12-19 11:34:58,302 - INFO - IRLモデルを訓練...
2025-12-19 11:34:58,302 - INFO - ============================================================
2025-12-19 11:34:58,302 - INFO - 時系列IRL訓練開始
2025-12-19 11:34:58,302 - INFO - 軌跡数: 94
2025-12-19 11:34:58,302 - INFO - エポック数: 20
2025-12-19 11:34:58,302 - INFO - ============================================================
2025-12-19 11:34:58,465 - INFO - エポック 0: 平均損失 = 1.1837
2025-12-19 11:35:00,259 - INFO - エポック 10: 平均損失 = 1.0026
2025-12-19 11:35:01,555 - INFO - 時系列IRL訓練完了
2025-12-19 11:35:01,555 - INFO - 訓練データ上で最適閾値を決定...
2025-12-19 11:35:01,696 - INFO - 最適閾値: 0.0438
2025-12-19 11:35:01,697 - INFO - 訓練データ性能: Precision=0.926, Recall=1.000, F1=0.961
2025-12-19 11:35:01,698 - INFO - モデルを保存: outputs/chromium_50projects_irl/train_6-9m/irl_model.pt
2025-12-19 11:35:01,698 - INFO - 最適閾値を保存: outputs/chromium_50projects_irl/train_6-9m/optimal_threshold.json
2025-12-19 11:35:01,698 - INFO - 評価用軌跡を抽出...
2025-12-19 11:35:01,698 - INFO - ================================================================================
2025-12-19 11:35:01,698 - INFO - 評価用軌跡抽出を開始（スナップショット特徴量用）
2025-12-19 11:35:01,698 - INFO - Cutoff日: 2021-10-01 00:00:00
2025-12-19 11:35:01,698 - INFO - 履歴ウィンドウ: 3ヶ月
2025-12-19 11:35:01,698 - INFO - 将来窓: 24～27ヶ月
2025-12-19 11:35:01,698 - INFO - 拡張ラベル期間: 24～12ヶ月
2025-12-19 11:35:01,698 - INFO - プロジェクト: 全プロジェクト
2025-12-19 11:35:01,698 - INFO - 継続判定: この期間で承諾=1、この期間で拒否=0、依頼なし→拡張期間チェック、評価時は拡張期間にも依頼なしで除外（予測の母集団に入れない）
2025-12-19 11:35:01,698 - INFO - ================================================================================
2025-12-19 11:35:01,698 - INFO - 履歴期間: 2021-07-01 00:00:00 ～ 2021-10-01 00:00:00
2025-12-19 11:35:01,698 - INFO - 評価期間: 2023-10-01 00:00:00 ～ 2024-01-01 00:00:00
2025-12-19 11:35:01,700 - INFO - 履歴期間内のレビュアー数: 114
2025-12-19 11:35:01,797 - INFO - ================================================================================
2025-12-19 11:35:01,798 - INFO - 評価用軌跡抽出完了: 56サンプル
2025-12-19 11:35:01,798 - INFO -   スキップ（最小依頼数未満）: 0
2025-12-19 11:35:01,798 - INFO -   スキップ（訓練期間末尾まで依頼なし）: 58
2025-12-19 11:35:01,798 - INFO -   正例（この期間で承諾あり）: 53 (94.6%)
2025-12-19 11:35:01,798 - INFO -   負例（この期間で承諾なし）: 3 (5.4%)
2025-12-19 11:35:01,798 - INFO -     - 依頼あり→拒否（重み=1.0）: 3
2025-12-19 11:35:01,798 - INFO - ================================================================================
2025-12-19 11:35:01,798 - INFO - 予測を実行...
2025-12-19 11:35:01,941 - INFO - ================================================================================
2025-12-19 11:35:01,941 - INFO - 評価結果 (6-9m → 9-12m):
2025-12-19 11:35:01,941 - INFO -   AUC-ROC: 0.4717
2025-12-19 11:35:01,941 - INFO -   AUC-PR: 0.9568
2025-12-19 11:35:01,941 - INFO -   Precision: 0.9464
2025-12-19 11:35:01,941 - INFO -   Recall: 1.0000
2025-12-19 11:35:01,941 - INFO -   F1 Score: 0.9725
2025-12-19 11:35:01,941 - INFO - ================================================================================
2025-12-19 11:35:01,942 - INFO - 結果を保存: outputs/chromium_50projects_irl/train_6-9m/eval_9-12m
2025-12-19 11:35:01,944 - INFO - 
【10/10】パターン実行中...
2025-12-19 11:35:01,944 - INFO - ================================================================================
2025-12-19 11:35:01,944 - INFO - パターン: 9-12m → 9-12m
2025-12-19 11:35:01,944 - INFO - 訓練期間: 2021-10-01 00:00:00 ～ 2022-01-01 00:00:00
2025-12-19 11:35:01,944 - INFO - 評価期間: 2023-10-01 00:00:00 ～ 2024-01-01 00:00:00
2025-12-19 11:35:01,944 - INFO - ================================================================================
2025-12-19 11:35:01,944 - INFO - レビュー依頼データを読み込み: data/chromium_50proj_2021_2024_feat_clean.csv
2025-12-19 11:35:02,015 - INFO - 総レビュー依頼数: 16121
2025-12-19 11:35:02,015 - INFO - 承諾数: 12139 (75.3%)
2025-12-19 11:35:02,015 - INFO - 拒否数: 3982 (24.7%)
2025-12-19 11:35:02,015 - INFO - 将来窓設定: 0～24ヶ月
2025-12-19 11:35:02,015 - INFO - 訓練用軌跡を抽出...
2025-12-19 11:35:02,015 - INFO - ================================================================================
2025-12-19 11:35:02,015 - INFO - レビュー承諾予測用軌跡抽出を開始（データリークなし版）
2025-12-19 11:35:02,015 - INFO - 訓練期間全体: 2021-10-01 00:00:00 ～ 2022-01-01 00:00:00
2025-12-19 11:35:02,015 - INFO - 将来窓: 0～24ヶ月
2025-12-19 11:35:02,015 - INFO - 拡張ラベル期間: 0～12ヶ月
2025-12-19 11:35:02,015 - INFO - プロジェクト: 全プロジェクト
2025-12-19 11:35:02,015 - INFO - ラベル定義: この期間で承諾=1、この期間で拒否=0、依頼なし→拡張期間チェック、訓練時は拡張期間にも依頼なしで除外
2025-12-19 11:35:02,015 - INFO - データリーク防止: 訓練期間内でラベル計算
2025-12-19 11:35:02,015 - INFO - ================================================================================
2025-12-19 11:35:02,015 - INFO - 特徴量計算期間（訓練全体）: 2021-10-01 00:00:00 ～ 2022-01-01 00:00:00
2025-12-19 11:35:02,015 - INFO - 全体ラベル期間（train_end時点から）: 2022-01-01 00:00:00 ～ 2024-01-01 00:00:00
2025-12-19 11:35:02,017 - INFO - 特徴量計算期間内のレビュアー数: 116
2025-12-19 11:35:02,356 - INFO - ================================================================================
2025-12-19 11:35:02,356 - INFO - 軌跡抽出完了: 98サンプル（レビュアー）
2025-12-19 11:35:02,356 - INFO -   スキップ（最小依頼数未満）: 0
2025-12-19 11:35:02,356 - INFO -   スキップ（訓練期間末尾まで依頼なし）: 18
2025-12-19 11:35:02,356 - INFO -   正例（この期間で承諾あり）: 93 (94.9%)
2025-12-19 11:35:02,356 - INFO -   負例（この期間で承諾なし）: 5 (5.1%)
2025-12-19 11:35:02,356 - INFO -     - 依頼あり→拒否（重み=1.0）: 5
2025-12-19 11:35:02,356 - INFO -   総ステップ数: 196
2025-12-19 11:35:02,356 - INFO -   継続ステップ率: 59.2% (116/196)
2025-12-19 11:35:02,356 - INFO - ================================================================================
/Users/kazuki-h/research/multiproject_research/.venv/lib/python3.13/site-packages/torch/nn/modules/rnn.py:123: UserWarning: dropout option adds dropout after all but last recurrent layer, so non-zero dropout expects num_layers greater than 1, but got dropout=0.2 and num_layers=1
  warnings.warn(
2025-12-19 11:35:02,358 - INFO - 継続予測IRLシステムを初期化しました
2025-12-19 11:35:02,358 - INFO - 訓練データ正例率: 94.9% (93/98)
2025-12-19 11:35:02,358 - INFO - Focal Loss パラメータ更新: alpha=0.400, gamma=1.000
2025-12-19 11:35:02,358 - INFO - 正例率 94.9% に基づき自動調整: バランス重視（正例率≥60%・軽い正例優先)
2025-12-19 11:35:02,358 - INFO - IRLモデルを訓練...
2025-12-19 11:35:02,358 - INFO - ============================================================
2025-12-19 11:35:02,358 - INFO - 時系列IRL訓練開始
2025-12-19 11:35:02,358 - INFO - 軌跡数: 98
2025-12-19 11:35:02,358 - INFO - エポック数: 20
2025-12-19 11:35:02,358 - INFO - ============================================================
2025-12-19 11:35:02,522 - INFO - エポック 0: 平均損失 = 1.2084
2025-12-19 11:35:04,148 - INFO - エポック 10: 平均損失 = 0.9273
2025-12-19 11:35:05,684 - INFO - 時系列IRL訓練完了
2025-12-19 11:35:05,684 - INFO - 訓練データ上で最適閾値を決定...
2025-12-19 11:35:05,828 - INFO - 最適閾値: 0.1548
2025-12-19 11:35:05,828 - INFO - 訓練データ性能: Precision=0.949, Recall=1.000, F1=0.974
2025-12-19 11:35:05,830 - INFO - モデルを保存: outputs/chromium_50projects_irl/train_9-12m/irl_model.pt
2025-12-19 11:35:05,830 - INFO - 最適閾値を保存: outputs/chromium_50projects_irl/train_9-12m/optimal_threshold.json
2025-12-19 11:35:05,830 - INFO - 評価用軌跡を抽出...
2025-12-19 11:35:05,830 - INFO - ================================================================================
2025-12-19 11:35:05,830 - INFO - 評価用軌跡抽出を開始（スナップショット特徴量用）
2025-12-19 11:35:05,830 - INFO - Cutoff日: 2022-01-01 00:00:00
2025-12-19 11:35:05,830 - INFO - 履歴ウィンドウ: 3ヶ月
2025-12-19 11:35:05,830 - INFO - 将来窓: 21～24ヶ月
2025-12-19 11:35:05,830 - INFO - 拡張ラベル期間: 21～12ヶ月
2025-12-19 11:35:05,830 - INFO - プロジェクト: 全プロジェクト
2025-12-19 11:35:05,830 - INFO - 継続判定: この期間で承諾=1、この期間で拒否=0、依頼なし→拡張期間チェック、評価時は拡張期間にも依頼なしで除外（予測の母集団に入れない）
2025-12-19 11:35:05,830 - INFO - ================================================================================
2025-12-19 11:35:05,830 - INFO - 履歴期間: 2021-10-01 00:00:00 ～ 2022-01-01 00:00:00
2025-12-19 11:35:05,830 - INFO - 評価期間: 2023-10-01 00:00:00 ～ 2024-01-01 00:00:00
2025-12-19 11:35:05,832 - INFO - 履歴期間内のレビュアー数: 116
2025-12-19 11:35:05,936 - INFO - ================================================================================
2025-12-19 11:35:05,936 - INFO - 評価用軌跡抽出完了: 63サンプル
2025-12-19 11:35:05,936 - INFO -   スキップ（最小依頼数未満）: 0
2025-12-19 11:35:05,936 - INFO -   スキップ（訓練期間末尾まで依頼なし）: 53
2025-12-19 11:35:05,936 - INFO -   正例（この期間で承諾あり）: 60 (95.2%)
2025-12-19 11:35:05,936 - INFO -   負例（この期間で承諾なし）: 3 (4.8%)
2025-12-19 11:35:05,936 - INFO -     - 依頼あり→拒否（重み=1.0）: 3
2025-12-19 11:35:05,936 - INFO - ================================================================================
2025-12-19 11:35:05,936 - INFO - 予測を実行...
2025-12-19 11:35:06,061 - INFO - ================================================================================
2025-12-19 11:35:06,061 - INFO - 評価結果 (9-12m → 9-12m):
2025-12-19 11:35:06,061 - INFO -   AUC-ROC: 0.2944
2025-12-19 11:35:06,061 - INFO -   AUC-PR: 0.9438
2025-12-19 11:35:06,061 - INFO -   Precision: 0.9524
2025-12-19 11:35:06,061 - INFO -   Recall: 1.0000
2025-12-19 11:35:06,061 - INFO -   F1 Score: 0.9756
2025-12-19 11:35:06,061 - INFO - ================================================================================
2025-12-19 11:35:06,062 - INFO - 結果を保存: outputs/chromium_50projects_irl/train_9-12m/eval_9-12m
2025-12-19 11:35:06,064 - INFO - ================================================================================
2025-12-19 11:35:06,065 - INFO - メトリクスマトリクスを作成中...
2025-12-19 11:35:06,065 - INFO - ================================================================================
2025-12-19 11:35:06,068 - INFO - 保存: outputs/chromium_50projects_irl/matrix_AUC_ROC.csv
2025-12-19 11:35:06,070 - INFO - 
           0-3m  3-6m      6-9m     9-12m
0-3m   0.279167   NaN  0.457792  0.614754
3-6m        NaN   NaN  0.318182  0.214286
6-9m        NaN   NaN  0.565217  0.471698
9-12m       NaN   NaN       NaN  0.294444
2025-12-19 11:35:06,071 - INFO - 保存: outputs/chromium_50projects_irl/matrix_AUC_PR.csv
2025-12-19 11:35:06,072 - INFO - 
           0-3m  3-6m      6-9m     9-12m
0-3m   0.857881   1.0  0.837178  0.969608
3-6m        NaN   1.0  0.723562  0.950226
6-9m        NaN   NaN  0.937784  0.956771
9-12m       NaN   NaN       NaN  0.943769
2025-12-19 11:35:06,072 - INFO - 保存: outputs/chromium_50projects_irl/matrix_PRECISION.csv
2025-12-19 11:35:06,073 - INFO - 
          0-3m  3-6m      6-9m     9-12m
0-3m   0.90566   1.0  0.862745  0.938462
3-6m       NaN   1.0  0.830189  0.969231
6-9m       NaN   NaN  0.901961  0.946429
9-12m      NaN   NaN       NaN  0.952381
2025-12-19 11:35:06,073 - INFO - 保存: outputs/chromium_50projects_irl/matrix_RECALL.csv
2025-12-19 11:35:06,075 - INFO - 
       0-3m  3-6m  6-9m  9-12m
0-3m    1.0   1.0   1.0    1.0
3-6m    NaN   1.0   1.0    1.0
6-9m    NaN   NaN   1.0    1.0
9-12m   NaN   NaN   NaN    1.0
2025-12-19 11:35:06,075 - INFO - 保存: outputs/chromium_50projects_irl/matrix_f1_score.csv
2025-12-19 11:35:06,076 - INFO - 
           0-3m  3-6m      6-9m     9-12m
0-3m   0.950495   1.0  0.926316  0.968254
3-6m        NaN   1.0  0.907216  0.984375
6-9m        NaN   NaN  0.948454  0.972477
9-12m       NaN   NaN       NaN  0.975610
2025-12-19 11:35:06,076 - INFO - ================================================================================
2025-12-19 11:35:06,076 - INFO - マトリクス作成完了
2025-12-19 11:35:06,076 - INFO - ================================================================================
2025-12-19 11:35:06,076 - INFO - ================================================================================
2025-12-19 11:35:06,076 - INFO - 全パターンの訓練・評価が完了しました
2025-12-19 11:35:06,076 - INFO - 結果: outputs/chromium_50projects_irl
2025-12-19 11:35:06,076 - INFO - ================================================================================
