2025-12-19 11:34:16,589 - INFO - 訓練期間ベース: 2021-01-01 00:00:00
2025-12-19 11:34:16,590 - INFO - 評価期間ベース: 2023-01-01 00:00:00
2025-12-19 11:34:16,590 - INFO - 生成されたパターン数: 10
2025-12-19 11:34:16,590 - INFO -   0-3m → 0-3m
2025-12-19 11:34:16,590 - INFO -   0-3m → 3-6m
2025-12-19 11:34:16,590 - INFO -   0-3m → 6-9m
2025-12-19 11:34:16,590 - INFO -   0-3m → 9-12m
2025-12-19 11:34:16,590 - INFO -   3-6m → 3-6m
2025-12-19 11:34:16,590 - INFO -   3-6m → 6-9m
2025-12-19 11:34:16,590 - INFO -   3-6m → 9-12m
2025-12-19 11:34:16,590 - INFO -   6-9m → 6-9m
2025-12-19 11:34:16,590 - INFO -   6-9m → 9-12m
2025-12-19 11:34:16,590 - INFO -   9-12m → 9-12m
2025-12-19 11:34:16,590 - INFO - ================================================================================
2025-12-19 11:34:16,590 - INFO - 全10パターンの訓練・評価を開始
2025-12-19 11:34:16,590 - INFO - ================================================================================
2025-12-19 11:34:16,590 - INFO - 
【1/10】パターン実行中...
2025-12-19 11:34:16,590 - INFO - ================================================================================
2025-12-19 11:34:16,590 - INFO - パターン: 0-3m → 0-3m
2025-12-19 11:34:16,590 - INFO - 訓練期間: 2021-01-01 00:00:00 ～ 2021-04-01 00:00:00
2025-12-19 11:34:16,590 - INFO - 評価期間: 2023-01-01 00:00:00 ～ 2023-04-01 00:00:00
2025-12-19 11:34:16,590 - INFO - ================================================================================
2025-12-19 11:34:17,707 - INFO - レビュー依頼データを読み込み: data/android_50proj_2021_2024_feat_clean.csv
2025-12-19 11:34:17,921 - INFO - 総レビュー依頼数: 46064
2025-12-19 11:34:17,922 - INFO - 承諾数: 29031 (63.0%)
2025-12-19 11:34:17,922 - INFO - 拒否数: 17033 (37.0%)
2025-12-19 11:34:17,922 - INFO - 将来窓設定: 0～24ヶ月
2025-12-19 11:34:17,922 - INFO - 訓練用軌跡を抽出...
2025-12-19 11:34:17,922 - INFO - ================================================================================
2025-12-19 11:34:17,922 - INFO - レビュー承諾予測用軌跡抽出を開始（データリークなし版）
2025-12-19 11:34:17,922 - INFO - 訓練期間全体: 2021-01-01 00:00:00 ～ 2021-04-01 00:00:00
2025-12-19 11:34:17,922 - INFO - 将来窓: 0～24ヶ月
2025-12-19 11:34:17,922 - INFO - 拡張ラベル期間: 0～12ヶ月
2025-12-19 11:34:17,922 - INFO - プロジェクト: 全プロジェクト
2025-12-19 11:34:17,922 - INFO - ラベル定義: この期間で承諾=1、この期間で拒否=0、依頼なし→拡張期間チェック、訓練時は拡張期間にも依頼なしで除外
2025-12-19 11:34:17,922 - INFO - データリーク防止: 訓練期間内でラベル計算
2025-12-19 11:34:17,922 - INFO - ================================================================================
2025-12-19 11:34:17,922 - INFO - 特徴量計算期間（訓練全体）: 2021-01-01 00:00:00 ～ 2021-04-01 00:00:00
2025-12-19 11:34:17,922 - INFO - 全体ラベル期間（train_end時点から）: 2021-04-01 00:00:00 ～ 2023-04-01 00:00:00
2025-12-19 11:34:17,928 - INFO - 特徴量計算期間内のレビュアー数: 241
2025-12-19 11:34:19,300 - INFO - ================================================================================
2025-12-19 11:34:19,300 - INFO - 軌跡抽出完了: 194サンプル（レビュアー）
2025-12-19 11:34:19,300 - INFO -   スキップ（最小依頼数未満）: 0
2025-12-19 11:34:19,300 - INFO -   スキップ（訓練期間末尾まで依頼なし）: 47
2025-12-19 11:34:19,300 - INFO -   正例（この期間で承諾あり）: 173 (89.2%)
2025-12-19 11:34:19,300 - INFO -   負例（この期間で承諾なし）: 21 (10.8%)
2025-12-19 11:34:19,300 - INFO -     - 依頼あり→拒否（重み=1.0）: 21
2025-12-19 11:34:19,300 - INFO -   総ステップ数: 388
2025-12-19 11:34:19,300 - INFO -   継続ステップ率: 54.6% (212/388)
2025-12-19 11:34:19,300 - INFO - ================================================================================
/Users/kazuki-h/research/multiproject_research/.venv/lib/python3.13/site-packages/torch/nn/modules/rnn.py:123: UserWarning: dropout option adds dropout after all but last recurrent layer, so non-zero dropout expects num_layers greater than 1, but got dropout=0.2 and num_layers=1
  warnings.warn(
2025-12-19 11:34:19,756 - INFO - 継続予測IRLシステムを初期化しました
2025-12-19 11:34:19,756 - INFO - 訓練データ正例率: 89.2% (173/194)
2025-12-19 11:34:19,756 - INFO - Focal Loss パラメータ更新: alpha=0.400, gamma=1.000
2025-12-19 11:34:19,756 - INFO - 正例率 89.2% に基づき自動調整: バランス重視（正例率≥60%・軽い正例優先)
2025-12-19 11:34:19,756 - INFO - IRLモデルを訓練...
2025-12-19 11:34:19,756 - INFO - ============================================================
2025-12-19 11:34:19,756 - INFO - 時系列IRL訓練開始
2025-12-19 11:34:19,756 - INFO - 軌跡数: 194
2025-12-19 11:34:19,756 - INFO - エポック数: 20
2025-12-19 11:34:19,756 - INFO - ============================================================
2025-12-19 11:34:20,226 - INFO - エポック 0: 平均損失 = 1.1652
2025-12-19 11:34:23,933 - INFO - エポック 10: 平均損失 = 0.8700
2025-12-19 11:34:27,244 - INFO - 時系列IRL訓練完了
2025-12-19 11:34:27,245 - INFO - 訓練データ上で最適閾値を決定...
2025-12-19 11:34:27,699 - INFO - 最適閾値: 0.1057
2025-12-19 11:34:27,699 - INFO - 訓練データ性能: Precision=0.892, Recall=1.000, F1=0.943
2025-12-19 11:34:27,701 - INFO - モデルを保存: outputs/android_50projects_irl/train_0-3m/irl_model.pt
2025-12-19 11:34:27,702 - INFO - 最適閾値を保存: outputs/android_50projects_irl/train_0-3m/optimal_threshold.json
2025-12-19 11:34:27,702 - INFO - 評価用軌跡を抽出...
2025-12-19 11:34:27,702 - INFO - ================================================================================
2025-12-19 11:34:27,702 - INFO - 評価用軌跡抽出を開始（スナップショット特徴量用）
2025-12-19 11:34:27,702 - INFO - Cutoff日: 2021-04-01 00:00:00
2025-12-19 11:34:27,702 - INFO - 履歴ウィンドウ: 3ヶ月
2025-12-19 11:34:27,702 - INFO - 将来窓: 21～24ヶ月
2025-12-19 11:34:27,702 - INFO - 拡張ラベル期間: 21～12ヶ月
2025-12-19 11:34:27,702 - INFO - プロジェクト: 全プロジェクト
2025-12-19 11:34:27,702 - INFO - 継続判定: この期間で承諾=1、この期間で拒否=0、依頼なし→拡張期間チェック、評価時は拡張期間にも依頼なしで除外（予測の母集団に入れない）
2025-12-19 11:34:27,702 - INFO - ================================================================================
2025-12-19 11:34:27,702 - INFO - 履歴期間: 2021-01-01 00:00:00 ～ 2021-04-01 00:00:00
2025-12-19 11:34:27,702 - INFO - 評価期間: 2023-01-01 00:00:00 ～ 2023-04-01 00:00:00
2025-12-19 11:34:27,704 - INFO - 履歴期間内のレビュアー数: 241
2025-12-19 11:34:27,960 - INFO - ================================================================================
2025-12-19 11:34:27,960 - INFO - 評価用軌跡抽出完了: 139サンプル
2025-12-19 11:34:27,960 - INFO -   スキップ（最小依頼数未満）: 0
2025-12-19 11:34:27,960 - INFO -   スキップ（訓練期間末尾まで依頼なし）: 102
2025-12-19 11:34:27,960 - INFO -   正例（この期間で承諾あり）: 121 (87.1%)
2025-12-19 11:34:27,960 - INFO -   負例（この期間で承諾なし）: 18 (12.9%)
2025-12-19 11:34:27,960 - INFO -     - 依頼あり→拒否（重み=1.0）: 18
2025-12-19 11:34:27,960 - INFO - ================================================================================
2025-12-19 11:34:27,961 - INFO - 予測を実行...
2025-12-19 11:34:28,354 - INFO - ================================================================================
2025-12-19 11:34:28,354 - INFO - 評価結果 (0-3m → 0-3m):
2025-12-19 11:34:28,354 - INFO -   AUC-ROC: 0.3935
2025-12-19 11:34:28,354 - INFO -   AUC-PR: 0.8602
2025-12-19 11:34:28,354 - INFO -   Precision: 0.8705
2025-12-19 11:34:28,354 - INFO -   Recall: 1.0000
2025-12-19 11:34:28,354 - INFO -   F1 Score: 0.9308
2025-12-19 11:34:28,354 - INFO - ================================================================================
2025-12-19 11:34:28,356 - INFO - 結果を保存: outputs/android_50projects_irl/train_0-3m/eval_0-3m
2025-12-19 11:34:28,360 - INFO - 
【2/10】パターン実行中...
2025-12-19 11:34:28,360 - INFO - ================================================================================
2025-12-19 11:34:28,360 - INFO - パターン: 0-3m → 3-6m
2025-12-19 11:34:28,360 - INFO - 訓練期間: 2021-01-01 00:00:00 ～ 2021-04-01 00:00:00
2025-12-19 11:34:28,360 - INFO - 評価期間: 2023-04-01 00:00:00 ～ 2023-07-01 00:00:00
2025-12-19 11:34:28,360 - INFO - ================================================================================
2025-12-19 11:34:28,360 - INFO - レビュー依頼データを読み込み: data/android_50proj_2021_2024_feat_clean.csv
2025-12-19 11:34:28,565 - INFO - 総レビュー依頼数: 46064
2025-12-19 11:34:28,566 - INFO - 承諾数: 29031 (63.0%)
2025-12-19 11:34:28,566 - INFO - 拒否数: 17033 (37.0%)
2025-12-19 11:34:28,566 - INFO - 将来窓設定: 0～27ヶ月
2025-12-19 11:34:28,566 - INFO - 訓練用軌跡を抽出...
2025-12-19 11:34:28,566 - INFO - ================================================================================
2025-12-19 11:34:28,566 - INFO - レビュー承諾予測用軌跡抽出を開始（データリークなし版）
2025-12-19 11:34:28,566 - INFO - 訓練期間全体: 2021-01-01 00:00:00 ～ 2021-04-01 00:00:00
2025-12-19 11:34:28,566 - INFO - 将来窓: 0～27ヶ月
2025-12-19 11:34:28,566 - INFO - 拡張ラベル期間: 0～12ヶ月
2025-12-19 11:34:28,566 - INFO - プロジェクト: 全プロジェクト
2025-12-19 11:34:28,566 - INFO - ラベル定義: この期間で承諾=1、この期間で拒否=0、依頼なし→拡張期間チェック、訓練時は拡張期間にも依頼なしで除外
2025-12-19 11:34:28,566 - INFO - データリーク防止: 訓練期間内でラベル計算
2025-12-19 11:34:28,566 - INFO - ================================================================================
2025-12-19 11:34:28,566 - INFO - 特徴量計算期間（訓練全体）: 2021-01-01 00:00:00 ～ 2021-04-01 00:00:00
2025-12-19 11:34:28,566 - INFO - 全体ラベル期間（train_end時点から）: 2021-04-01 00:00:00 ～ 2023-07-01 00:00:00
2025-12-19 11:34:28,571 - INFO - 特徴量計算期間内のレビュアー数: 241
2025-12-19 11:34:29,789 - INFO - ================================================================================
2025-12-19 11:34:29,789 - INFO - 軌跡抽出完了: 195サンプル（レビュアー）
2025-12-19 11:34:29,789 - INFO -   スキップ（最小依頼数未満）: 0
2025-12-19 11:34:29,789 - INFO -   スキップ（訓練期間末尾まで依頼なし）: 46
2025-12-19 11:34:29,789 - INFO -   正例（この期間で承諾あり）: 175 (89.7%)
2025-12-19 11:34:29,789 - INFO -   負例（この期間で承諾なし）: 20 (10.3%)
2025-12-19 11:34:29,789 - INFO -     - 依頼あり→拒否（重み=1.0）: 20
2025-12-19 11:34:29,789 - INFO -   総ステップ数: 390
2025-12-19 11:34:29,789 - INFO -   継続ステップ率: 54.4% (212/390)
2025-12-19 11:34:29,789 - INFO - ================================================================================
/Users/kazuki-h/research/multiproject_research/.venv/lib/python3.13/site-packages/torch/nn/modules/rnn.py:123: UserWarning: dropout option adds dropout after all but last recurrent layer, so non-zero dropout expects num_layers greater than 1, but got dropout=0.2 and num_layers=1
  warnings.warn(
2025-12-19 11:34:29,791 - INFO - 継続予測IRLシステムを初期化しました
2025-12-19 11:34:29,791 - INFO - 訓練データ正例率: 89.7% (175/195)
2025-12-19 11:34:29,791 - INFO - Focal Loss パラメータ更新: alpha=0.400, gamma=1.000
2025-12-19 11:34:29,791 - INFO - 正例率 89.7% に基づき自動調整: バランス重視（正例率≥60%・軽い正例優先)
2025-12-19 11:34:29,791 - INFO - IRLモデルを訓練...
2025-12-19 11:34:29,791 - INFO - ============================================================
2025-12-19 11:34:29,791 - INFO - 時系列IRL訓練開始
2025-12-19 11:34:29,791 - INFO - 軌跡数: 195
2025-12-19 11:34:29,791 - INFO - エポック数: 20
2025-12-19 11:34:29,791 - INFO - ============================================================
2025-12-19 11:34:30,157 - INFO - エポック 0: 平均損失 = 1.1658
2025-12-19 11:34:34,632 - INFO - エポック 10: 平均損失 = 0.8554
2025-12-19 11:34:38,196 - INFO - 時系列IRL訓練完了
2025-12-19 11:34:38,196 - INFO - 訓練データ上で最適閾値を決定...
2025-12-19 11:34:38,669 - INFO - 最適閾値: 0.1327
2025-12-19 11:34:38,669 - INFO - 訓練データ性能: Precision=0.897, Recall=1.000, F1=0.946
2025-12-19 11:34:38,670 - INFO - モデルを保存: outputs/android_50projects_irl/train_0-3m/irl_model.pt
2025-12-19 11:34:38,671 - INFO - 最適閾値を保存: outputs/android_50projects_irl/train_0-3m/optimal_threshold.json
2025-12-19 11:34:38,671 - INFO - 評価用軌跡を抽出...
2025-12-19 11:34:38,671 - INFO - ================================================================================
2025-12-19 11:34:38,671 - INFO - 評価用軌跡抽出を開始（スナップショット特徴量用）
2025-12-19 11:34:38,671 - INFO - Cutoff日: 2021-04-01 00:00:00
2025-12-19 11:34:38,671 - INFO - 履歴ウィンドウ: 3ヶ月
2025-12-19 11:34:38,671 - INFO - 将来窓: 24～27ヶ月
2025-12-19 11:34:38,671 - INFO - 拡張ラベル期間: 24～12ヶ月
2025-12-19 11:34:38,671 - INFO - プロジェクト: 全プロジェクト
2025-12-19 11:34:38,671 - INFO - 継続判定: この期間で承諾=1、この期間で拒否=0、依頼なし→拡張期間チェック、評価時は拡張期間にも依頼なしで除外（予測の母集団に入れない）
2025-12-19 11:34:38,671 - INFO - ================================================================================
2025-12-19 11:34:38,671 - INFO - 履歴期間: 2021-01-01 00:00:00 ～ 2021-04-01 00:00:00
2025-12-19 11:34:38,671 - INFO - 評価期間: 2023-04-01 00:00:00 ～ 2023-07-01 00:00:00
2025-12-19 11:34:38,673 - INFO - 履歴期間内のレビュアー数: 241
2025-12-19 11:34:38,931 - INFO - ================================================================================
2025-12-19 11:34:38,931 - INFO - 評価用軌跡抽出完了: 123サンプル
2025-12-19 11:34:38,931 - INFO -   スキップ（最小依頼数未満）: 0
2025-12-19 11:34:38,931 - INFO -   スキップ（訓練期間末尾まで依頼なし）: 118
2025-12-19 11:34:38,931 - INFO -   正例（この期間で承諾あり）: 106 (86.2%)
2025-12-19 11:34:38,931 - INFO -   負例（この期間で承諾なし）: 17 (13.8%)
2025-12-19 11:34:38,931 - INFO -     - 依頼あり→拒否（重み=1.0）: 17
2025-12-19 11:34:38,931 - INFO - ================================================================================
2025-12-19 11:34:38,931 - INFO - 予測を実行...
2025-12-19 11:34:39,314 - INFO - ================================================================================
2025-12-19 11:34:39,314 - INFO - 評価結果 (0-3m → 3-6m):
2025-12-19 11:34:39,314 - INFO -   AUC-ROC: 0.6410
2025-12-19 11:34:39,314 - INFO -   AUC-PR: 0.9279
2025-12-19 11:34:39,314 - INFO -   Precision: 0.8618
2025-12-19 11:34:39,314 - INFO -   Recall: 1.0000
2025-12-19 11:34:39,314 - INFO -   F1 Score: 0.9258
2025-12-19 11:34:39,314 - INFO - ================================================================================
2025-12-19 11:34:39,316 - INFO - 結果を保存: outputs/android_50projects_irl/train_0-3m/eval_3-6m
2025-12-19 11:34:39,319 - INFO - 
【3/10】パターン実行中...
2025-12-19 11:34:39,319 - INFO - ================================================================================
2025-12-19 11:34:39,319 - INFO - パターン: 0-3m → 6-9m
2025-12-19 11:34:39,319 - INFO - 訓練期間: 2021-01-01 00:00:00 ～ 2021-04-01 00:00:00
2025-12-19 11:34:39,319 - INFO - 評価期間: 2023-07-01 00:00:00 ～ 2023-10-01 00:00:00
2025-12-19 11:34:39,319 - INFO - ================================================================================
2025-12-19 11:34:39,319 - INFO - レビュー依頼データを読み込み: data/android_50proj_2021_2024_feat_clean.csv
2025-12-19 11:34:39,535 - INFO - 総レビュー依頼数: 46064
2025-12-19 11:34:39,536 - INFO - 承諾数: 29031 (63.0%)
2025-12-19 11:34:39,536 - INFO - 拒否数: 17033 (37.0%)
2025-12-19 11:34:39,536 - INFO - 将来窓設定: 0～30ヶ月
2025-12-19 11:34:39,536 - INFO - 訓練用軌跡を抽出...
2025-12-19 11:34:39,536 - INFO - ================================================================================
2025-12-19 11:34:39,536 - INFO - レビュー承諾予測用軌跡抽出を開始（データリークなし版）
2025-12-19 11:34:39,536 - INFO - 訓練期間全体: 2021-01-01 00:00:00 ～ 2021-04-01 00:00:00
2025-12-19 11:34:39,536 - INFO - 将来窓: 0～30ヶ月
2025-12-19 11:34:39,536 - INFO - 拡張ラベル期間: 0～12ヶ月
2025-12-19 11:34:39,536 - INFO - プロジェクト: 全プロジェクト
2025-12-19 11:34:39,536 - INFO - ラベル定義: この期間で承諾=1、この期間で拒否=0、依頼なし→拡張期間チェック、訓練時は拡張期間にも依頼なしで除外
2025-12-19 11:34:39,536 - INFO - データリーク防止: 訓練期間内でラベル計算
2025-12-19 11:34:39,536 - INFO - ================================================================================
2025-12-19 11:34:39,536 - INFO - 特徴量計算期間（訓練全体）: 2021-01-01 00:00:00 ～ 2021-04-01 00:00:00
2025-12-19 11:34:39,536 - INFO - 全体ラベル期間（train_end時点から）: 2021-04-01 00:00:00 ～ 2023-10-01 00:00:00
2025-12-19 11:34:39,541 - INFO - 特徴量計算期間内のレビュアー数: 241
2025-12-19 11:34:40,888 - INFO - ================================================================================
2025-12-19 11:34:40,888 - INFO - 軌跡抽出完了: 196サンプル（レビュアー）
2025-12-19 11:34:40,888 - INFO -   スキップ（最小依頼数未満）: 0
2025-12-19 11:34:40,888 - INFO -   スキップ（訓練期間末尾まで依頼なし）: 45
2025-12-19 11:34:40,888 - INFO -   正例（この期間で承諾あり）: 179 (91.3%)
2025-12-19 11:34:40,888 - INFO -   負例（この期間で承諾なし）: 17 (8.7%)
2025-12-19 11:34:40,888 - INFO -     - 依頼あり→拒否（重み=1.0）: 17
2025-12-19 11:34:40,888 - INFO -   総ステップ数: 392
2025-12-19 11:34:40,888 - INFO -   継続ステップ率: 54.1% (212/392)
2025-12-19 11:34:40,888 - INFO - ================================================================================
/Users/kazuki-h/research/multiproject_research/.venv/lib/python3.13/site-packages/torch/nn/modules/rnn.py:123: UserWarning: dropout option adds dropout after all but last recurrent layer, so non-zero dropout expects num_layers greater than 1, but got dropout=0.2 and num_layers=1
  warnings.warn(
2025-12-19 11:34:40,890 - INFO - 継続予測IRLシステムを初期化しました
2025-12-19 11:34:40,890 - INFO - 訓練データ正例率: 91.3% (179/196)
2025-12-19 11:34:40,890 - INFO - Focal Loss パラメータ更新: alpha=0.400, gamma=1.000
2025-12-19 11:34:40,890 - INFO - 正例率 91.3% に基づき自動調整: バランス重視（正例率≥60%・軽い正例優先)
2025-12-19 11:34:40,890 - INFO - IRLモデルを訓練...
2025-12-19 11:34:40,890 - INFO - ============================================================
2025-12-19 11:34:40,890 - INFO - 時系列IRL訓練開始
2025-12-19 11:34:40,890 - INFO - 軌跡数: 196
2025-12-19 11:34:40,890 - INFO - エポック数: 20
2025-12-19 11:34:40,890 - INFO - ============================================================
2025-12-19 11:34:41,311 - INFO - エポック 0: 平均損失 = 1.1696
2025-12-19 11:34:45,559 - INFO - エポック 10: 平均損失 = 0.8660
2025-12-19 11:34:49,169 - INFO - 時系列IRL訓練完了
2025-12-19 11:34:49,169 - INFO - 訓練データ上で最適閾値を決定...
2025-12-19 11:34:49,621 - INFO - 最適閾値: 0.0646
2025-12-19 11:34:49,622 - INFO - 訓練データ性能: Precision=0.913, Recall=1.000, F1=0.955
2025-12-19 11:34:49,623 - INFO - モデルを保存: outputs/android_50projects_irl/train_0-3m/irl_model.pt
2025-12-19 11:34:49,623 - INFO - 最適閾値を保存: outputs/android_50projects_irl/train_0-3m/optimal_threshold.json
2025-12-19 11:34:49,623 - INFO - 評価用軌跡を抽出...
2025-12-19 11:34:49,623 - INFO - ================================================================================
2025-12-19 11:34:49,623 - INFO - 評価用軌跡抽出を開始（スナップショット特徴量用）
2025-12-19 11:34:49,623 - INFO - Cutoff日: 2021-04-01 00:00:00
2025-12-19 11:34:49,623 - INFO - 履歴ウィンドウ: 3ヶ月
2025-12-19 11:34:49,623 - INFO - 将来窓: 27～30ヶ月
2025-12-19 11:34:49,623 - INFO - 拡張ラベル期間: 27～12ヶ月
2025-12-19 11:34:49,623 - INFO - プロジェクト: 全プロジェクト
2025-12-19 11:34:49,623 - INFO - 継続判定: この期間で承諾=1、この期間で拒否=0、依頼なし→拡張期間チェック、評価時は拡張期間にも依頼なしで除外（予測の母集団に入れない）
2025-12-19 11:34:49,623 - INFO - ================================================================================
2025-12-19 11:34:49,623 - INFO - 履歴期間: 2021-01-01 00:00:00 ～ 2021-04-01 00:00:00
2025-12-19 11:34:49,623 - INFO - 評価期間: 2023-07-01 00:00:00 ～ 2023-10-01 00:00:00
2025-12-19 11:34:49,625 - INFO - 履歴期間内のレビュアー数: 241
2025-12-19 11:34:49,849 - INFO - ================================================================================
2025-12-19 11:34:49,849 - INFO - 評価用軌跡抽出完了: 120サンプル
2025-12-19 11:34:49,849 - INFO -   スキップ（最小依頼数未満）: 0
2025-12-19 11:34:49,849 - INFO -   スキップ（訓練期間末尾まで依頼なし）: 121
2025-12-19 11:34:49,849 - INFO -   正例（この期間で承諾あり）: 102 (85.0%)
2025-12-19 11:34:49,849 - INFO -   負例（この期間で承諾なし）: 18 (15.0%)
2025-12-19 11:34:49,849 - INFO -     - 依頼あり→拒否（重み=1.0）: 18
2025-12-19 11:34:49,849 - INFO - ================================================================================
2025-12-19 11:34:49,849 - INFO - 予測を実行...
2025-12-19 11:34:50,261 - INFO - ================================================================================
2025-12-19 11:34:50,261 - INFO - 評価結果 (0-3m → 6-9m):
2025-12-19 11:34:50,261 - INFO -   AUC-ROC: 0.3851
2025-12-19 11:34:50,261 - INFO -   AUC-PR: 0.8293
2025-12-19 11:34:50,261 - INFO -   Precision: 0.8500
2025-12-19 11:34:50,261 - INFO -   Recall: 1.0000
2025-12-19 11:34:50,261 - INFO -   F1 Score: 0.9189
2025-12-19 11:34:50,261 - INFO - ================================================================================
2025-12-19 11:34:50,262 - INFO - 結果を保存: outputs/android_50projects_irl/train_0-3m/eval_6-9m
2025-12-19 11:34:50,265 - INFO - 
【4/10】パターン実行中...
2025-12-19 11:34:50,265 - INFO - ================================================================================
2025-12-19 11:34:50,265 - INFO - パターン: 0-3m → 9-12m
2025-12-19 11:34:50,265 - INFO - 訓練期間: 2021-01-01 00:00:00 ～ 2021-04-01 00:00:00
2025-12-19 11:34:50,265 - INFO - 評価期間: 2023-10-01 00:00:00 ～ 2024-01-01 00:00:00
2025-12-19 11:34:50,266 - INFO - ================================================================================
2025-12-19 11:34:50,266 - INFO - レビュー依頼データを読み込み: data/android_50proj_2021_2024_feat_clean.csv
2025-12-19 11:34:50,453 - INFO - 総レビュー依頼数: 46064
2025-12-19 11:34:50,453 - INFO - 承諾数: 29031 (63.0%)
2025-12-19 11:34:50,453 - INFO - 拒否数: 17033 (37.0%)
2025-12-19 11:34:50,453 - INFO - 将来窓設定: 0～33ヶ月
2025-12-19 11:34:50,453 - INFO - 訓練用軌跡を抽出...
2025-12-19 11:34:50,453 - INFO - ================================================================================
2025-12-19 11:34:50,453 - INFO - レビュー承諾予測用軌跡抽出を開始（データリークなし版）
2025-12-19 11:34:50,453 - INFO - 訓練期間全体: 2021-01-01 00:00:00 ～ 2021-04-01 00:00:00
2025-12-19 11:34:50,453 - INFO - 将来窓: 0～33ヶ月
2025-12-19 11:34:50,453 - INFO - 拡張ラベル期間: 0～12ヶ月
2025-12-19 11:34:50,453 - INFO - プロジェクト: 全プロジェクト
2025-12-19 11:34:50,453 - INFO - ラベル定義: この期間で承諾=1、この期間で拒否=0、依頼なし→拡張期間チェック、訓練時は拡張期間にも依頼なしで除外
2025-12-19 11:34:50,453 - INFO - データリーク防止: 訓練期間内でラベル計算
2025-12-19 11:34:50,453 - INFO - ================================================================================
2025-12-19 11:34:50,453 - INFO - 特徴量計算期間（訓練全体）: 2021-01-01 00:00:00 ～ 2021-04-01 00:00:00
2025-12-19 11:34:50,453 - INFO - 全体ラベル期間（train_end時点から）: 2021-04-01 00:00:00 ～ 2024-01-01 00:00:00
2025-12-19 11:34:50,458 - INFO - 特徴量計算期間内のレビュアー数: 241
2025-12-19 11:34:51,683 - INFO - ================================================================================
2025-12-19 11:34:51,683 - INFO - 軌跡抽出完了: 196サンプル（レビュアー）
2025-12-19 11:34:51,683 - INFO -   スキップ（最小依頼数未満）: 0
2025-12-19 11:34:51,683 - INFO -   スキップ（訓練期間末尾まで依頼なし）: 45
2025-12-19 11:34:51,683 - INFO -   正例（この期間で承諾あり）: 179 (91.3%)
2025-12-19 11:34:51,683 - INFO -   負例（この期間で承諾なし）: 17 (8.7%)
2025-12-19 11:34:51,683 - INFO -     - 依頼あり→拒否（重み=1.0）: 17
2025-12-19 11:34:51,683 - INFO -   総ステップ数: 392
2025-12-19 11:34:51,683 - INFO -   継続ステップ率: 54.1% (212/392)
2025-12-19 11:34:51,683 - INFO - ================================================================================
/Users/kazuki-h/research/multiproject_research/.venv/lib/python3.13/site-packages/torch/nn/modules/rnn.py:123: UserWarning: dropout option adds dropout after all but last recurrent layer, so non-zero dropout expects num_layers greater than 1, but got dropout=0.2 and num_layers=1
  warnings.warn(
2025-12-19 11:34:51,685 - INFO - 継続予測IRLシステムを初期化しました
2025-12-19 11:34:51,685 - INFO - 訓練データ正例率: 91.3% (179/196)
2025-12-19 11:34:51,685 - INFO - Focal Loss パラメータ更新: alpha=0.400, gamma=1.000
2025-12-19 11:34:51,685 - INFO - 正例率 91.3% に基づき自動調整: バランス重視（正例率≥60%・軽い正例優先)
2025-12-19 11:34:51,685 - INFO - IRLモデルを訓練...
2025-12-19 11:34:51,685 - INFO - ============================================================
2025-12-19 11:34:51,685 - INFO - 時系列IRL訓練開始
2025-12-19 11:34:51,685 - INFO - 軌跡数: 196
2025-12-19 11:34:51,685 - INFO - エポック数: 20
2025-12-19 11:34:51,685 - INFO - ============================================================
2025-12-19 11:34:52,076 - INFO - エポック 0: 平均損失 = 1.1691
2025-12-19 11:34:55,932 - INFO - エポック 10: 平均損失 = 0.8666
2025-12-19 11:34:59,564 - INFO - 時系列IRL訓練完了
2025-12-19 11:34:59,564 - INFO - 訓練データ上で最適閾値を決定...
2025-12-19 11:35:00,042 - INFO - 最適閾値: 0.1332
2025-12-19 11:35:00,042 - INFO - 訓練データ性能: Precision=0.913, Recall=1.000, F1=0.955
2025-12-19 11:35:00,043 - INFO - モデルを保存: outputs/android_50projects_irl/train_0-3m/irl_model.pt
2025-12-19 11:35:00,044 - INFO - 最適閾値を保存: outputs/android_50projects_irl/train_0-3m/optimal_threshold.json
2025-12-19 11:35:00,044 - INFO - 評価用軌跡を抽出...
2025-12-19 11:35:00,044 - INFO - ================================================================================
2025-12-19 11:35:00,044 - INFO - 評価用軌跡抽出を開始（スナップショット特徴量用）
2025-12-19 11:35:00,044 - INFO - Cutoff日: 2021-04-01 00:00:00
2025-12-19 11:35:00,044 - INFO - 履歴ウィンドウ: 3ヶ月
2025-12-19 11:35:00,044 - INFO - 将来窓: 30～33ヶ月
2025-12-19 11:35:00,044 - INFO - 拡張ラベル期間: 30～12ヶ月
2025-12-19 11:35:00,044 - INFO - プロジェクト: 全プロジェクト
2025-12-19 11:35:00,044 - INFO - 継続判定: この期間で承諾=1、この期間で拒否=0、依頼なし→拡張期間チェック、評価時は拡張期間にも依頼なしで除外（予測の母集団に入れない）
2025-12-19 11:35:00,044 - INFO - ================================================================================
2025-12-19 11:35:00,044 - INFO - 履歴期間: 2021-01-01 00:00:00 ～ 2021-04-01 00:00:00
2025-12-19 11:35:00,044 - INFO - 評価期間: 2023-10-01 00:00:00 ～ 2024-01-01 00:00:00
2025-12-19 11:35:00,046 - INFO - 履歴期間内のレビュアー数: 241
2025-12-19 11:35:00,253 - INFO - ================================================================================
2025-12-19 11:35:00,253 - INFO - 評価用軌跡抽出完了: 105サンプル
2025-12-19 11:35:00,253 - INFO -   スキップ（最小依頼数未満）: 0
2025-12-19 11:35:00,253 - INFO -   スキップ（訓練期間末尾まで依頼なし）: 136
2025-12-19 11:35:00,253 - INFO -   正例（この期間で承諾あり）: 87 (82.9%)
2025-12-19 11:35:00,253 - INFO -   負例（この期間で承諾なし）: 18 (17.1%)
2025-12-19 11:35:00,253 - INFO -     - 依頼あり→拒否（重み=1.0）: 18
2025-12-19 11:35:00,253 - INFO - ================================================================================
2025-12-19 11:35:00,253 - INFO - 予測を実行...
2025-12-19 11:35:00,612 - INFO - ================================================================================
2025-12-19 11:35:00,612 - INFO - 評価結果 (0-3m → 9-12m):
2025-12-19 11:35:00,613 - INFO -   AUC-ROC: 0.6079
2025-12-19 11:35:00,613 - INFO -   AUC-PR: 0.9056
2025-12-19 11:35:00,613 - INFO -   Precision: 0.8286
2025-12-19 11:35:00,613 - INFO -   Recall: 1.0000
2025-12-19 11:35:00,613 - INFO -   F1 Score: 0.9062
2025-12-19 11:35:00,613 - INFO - ================================================================================
2025-12-19 11:35:00,614 - INFO - 結果を保存: outputs/android_50projects_irl/train_0-3m/eval_9-12m
2025-12-19 11:35:00,617 - INFO - 
【5/10】パターン実行中...
2025-12-19 11:35:00,618 - INFO - ================================================================================
2025-12-19 11:35:00,618 - INFO - パターン: 3-6m → 3-6m
2025-12-19 11:35:00,618 - INFO - 訓練期間: 2021-04-01 00:00:00 ～ 2021-07-01 00:00:00
2025-12-19 11:35:00,618 - INFO - 評価期間: 2023-04-01 00:00:00 ～ 2023-07-01 00:00:00
2025-12-19 11:35:00,618 - INFO - ================================================================================
2025-12-19 11:35:00,618 - INFO - レビュー依頼データを読み込み: data/android_50proj_2021_2024_feat_clean.csv
2025-12-19 11:35:00,817 - INFO - 総レビュー依頼数: 46064
2025-12-19 11:35:00,818 - INFO - 承諾数: 29031 (63.0%)
2025-12-19 11:35:00,818 - INFO - 拒否数: 17033 (37.0%)
2025-12-19 11:35:00,818 - INFO - 将来窓設定: 0～24ヶ月
2025-12-19 11:35:00,818 - INFO - 訓練用軌跡を抽出...
2025-12-19 11:35:00,818 - INFO - ================================================================================
2025-12-19 11:35:00,818 - INFO - レビュー承諾予測用軌跡抽出を開始（データリークなし版）
2025-12-19 11:35:00,818 - INFO - 訓練期間全体: 2021-04-01 00:00:00 ～ 2021-07-01 00:00:00
2025-12-19 11:35:00,818 - INFO - 将来窓: 0～24ヶ月
2025-12-19 11:35:00,818 - INFO - 拡張ラベル期間: 0～12ヶ月
2025-12-19 11:35:00,818 - INFO - プロジェクト: 全プロジェクト
2025-12-19 11:35:00,818 - INFO - ラベル定義: この期間で承諾=1、この期間で拒否=0、依頼なし→拡張期間チェック、訓練時は拡張期間にも依頼なしで除外
2025-12-19 11:35:00,818 - INFO - データリーク防止: 訓練期間内でラベル計算
2025-12-19 11:35:00,818 - INFO - ================================================================================
2025-12-19 11:35:00,818 - INFO - 特徴量計算期間（訓練全体）: 2021-04-01 00:00:00 ～ 2021-07-01 00:00:00
2025-12-19 11:35:00,818 - INFO - 全体ラベル期間（train_end時点から）: 2021-07-01 00:00:00 ～ 2023-07-01 00:00:00
2025-12-19 11:35:00,823 - INFO - 特徴量計算期間内のレビュアー数: 246
2025-12-19 11:35:01,983 - INFO - ================================================================================
2025-12-19 11:35:01,983 - INFO - 軌跡抽出完了: 193サンプル（レビュアー）
2025-12-19 11:35:01,983 - INFO -   スキップ（最小依頼数未満）: 0
2025-12-19 11:35:01,983 - INFO -   スキップ（訓練期間末尾まで依頼なし）: 53
2025-12-19 11:35:01,983 - INFO -   正例（この期間で承諾あり）: 170 (88.1%)
2025-12-19 11:35:01,983 - INFO -   負例（この期間で承諾なし）: 23 (11.9%)
2025-12-19 11:35:01,983 - INFO -     - 依頼あり→拒否（重み=1.0）: 23
2025-12-19 11:35:01,983 - INFO -   総ステップ数: 386
2025-12-19 11:35:01,983 - INFO -   継続ステップ率: 48.2% (186/386)
2025-12-19 11:35:01,983 - INFO - ================================================================================
/Users/kazuki-h/research/multiproject_research/.venv/lib/python3.13/site-packages/torch/nn/modules/rnn.py:123: UserWarning: dropout option adds dropout after all but last recurrent layer, so non-zero dropout expects num_layers greater than 1, but got dropout=0.2 and num_layers=1
  warnings.warn(
2025-12-19 11:35:01,985 - INFO - 継続予測IRLシステムを初期化しました
2025-12-19 11:35:01,985 - INFO - 訓練データ正例率: 88.1% (170/193)
2025-12-19 11:35:01,985 - INFO - Focal Loss パラメータ更新: alpha=0.400, gamma=1.000
2025-12-19 11:35:01,985 - INFO - 正例率 88.1% に基づき自動調整: バランス重視（正例率≥60%・軽い正例優先)
2025-12-19 11:35:01,985 - INFO - IRLモデルを訓練...
2025-12-19 11:35:01,985 - INFO - ============================================================
2025-12-19 11:35:01,985 - INFO - 時系列IRL訓練開始
2025-12-19 11:35:01,985 - INFO - 軌跡数: 193
2025-12-19 11:35:01,985 - INFO - エポック数: 20
2025-12-19 11:35:01,985 - INFO - ============================================================
2025-12-19 11:35:02,311 - INFO - エポック 0: 平均損失 = 1.1912
2025-12-19 11:35:05,851 - INFO - エポック 10: 平均損失 = 0.7173
2025-12-19 11:35:08,759 - INFO - 時系列IRL訓練完了
2025-12-19 11:35:08,760 - INFO - 訓練データ上で最適閾値を決定...
2025-12-19 11:35:09,128 - INFO - 最適閾値: 0.1466
2025-12-19 11:35:09,129 - INFO - 訓練データ性能: Precision=0.881, Recall=1.000, F1=0.937
2025-12-19 11:35:09,130 - INFO - モデルを保存: outputs/android_50projects_irl/train_3-6m/irl_model.pt
2025-12-19 11:35:09,130 - INFO - 最適閾値を保存: outputs/android_50projects_irl/train_3-6m/optimal_threshold.json
2025-12-19 11:35:09,130 - INFO - 評価用軌跡を抽出...
2025-12-19 11:35:09,130 - INFO - ================================================================================
2025-12-19 11:35:09,130 - INFO - 評価用軌跡抽出を開始（スナップショット特徴量用）
2025-12-19 11:35:09,130 - INFO - Cutoff日: 2021-07-01 00:00:00
2025-12-19 11:35:09,130 - INFO - 履歴ウィンドウ: 3ヶ月
2025-12-19 11:35:09,130 - INFO - 将来窓: 21～24ヶ月
2025-12-19 11:35:09,130 - INFO - 拡張ラベル期間: 21～12ヶ月
2025-12-19 11:35:09,130 - INFO - プロジェクト: 全プロジェクト
2025-12-19 11:35:09,130 - INFO - 継続判定: この期間で承諾=1、この期間で拒否=0、依頼なし→拡張期間チェック、評価時は拡張期間にも依頼なしで除外（予測の母集団に入れない）
2025-12-19 11:35:09,130 - INFO - ================================================================================
2025-12-19 11:35:09,130 - INFO - 履歴期間: 2021-04-01 00:00:00 ～ 2021-07-01 00:00:00
2025-12-19 11:35:09,130 - INFO - 評価期間: 2023-04-01 00:00:00 ～ 2023-07-01 00:00:00
2025-12-19 11:35:09,132 - INFO - 履歴期間内のレビュアー数: 246
2025-12-19 11:35:09,341 - INFO - ================================================================================
2025-12-19 11:35:09,341 - INFO - 評価用軌跡抽出完了: 125サンプル
2025-12-19 11:35:09,341 - INFO -   スキップ（最小依頼数未満）: 0
2025-12-19 11:35:09,341 - INFO -   スキップ（訓練期間末尾まで依頼なし）: 121
2025-12-19 11:35:09,341 - INFO -   正例（この期間で承諾あり）: 108 (86.4%)
2025-12-19 11:35:09,341 - INFO -   負例（この期間で承諾なし）: 17 (13.6%)
2025-12-19 11:35:09,341 - INFO -     - 依頼あり→拒否（重み=1.0）: 17
2025-12-19 11:35:09,341 - INFO - ================================================================================
2025-12-19 11:35:09,341 - INFO - 予測を実行...
2025-12-19 11:35:09,628 - INFO - ================================================================================
2025-12-19 11:35:09,628 - INFO - 評価結果 (3-6m → 3-6m):
2025-12-19 11:35:09,628 - INFO -   AUC-ROC: 0.6939
2025-12-19 11:35:09,628 - INFO -   AUC-PR: 0.9384
2025-12-19 11:35:09,628 - INFO -   Precision: 0.8640
2025-12-19 11:35:09,628 - INFO -   Recall: 1.0000
2025-12-19 11:35:09,628 - INFO -   F1 Score: 0.9270
2025-12-19 11:35:09,628 - INFO - ================================================================================
2025-12-19 11:35:09,630 - INFO - 結果を保存: outputs/android_50projects_irl/train_3-6m/eval_3-6m
2025-12-19 11:35:09,632 - INFO - 
【6/10】パターン実行中...
2025-12-19 11:35:09,633 - INFO - ================================================================================
2025-12-19 11:35:09,633 - INFO - パターン: 3-6m → 6-9m
2025-12-19 11:35:09,633 - INFO - 訓練期間: 2021-04-01 00:00:00 ～ 2021-07-01 00:00:00
2025-12-19 11:35:09,633 - INFO - 評価期間: 2023-07-01 00:00:00 ～ 2023-10-01 00:00:00
2025-12-19 11:35:09,633 - INFO - ================================================================================
2025-12-19 11:35:09,633 - INFO - レビュー依頼データを読み込み: data/android_50proj_2021_2024_feat_clean.csv
2025-12-19 11:35:09,805 - INFO - 総レビュー依頼数: 46064
2025-12-19 11:35:09,805 - INFO - 承諾数: 29031 (63.0%)
2025-12-19 11:35:09,805 - INFO - 拒否数: 17033 (37.0%)
2025-12-19 11:35:09,805 - INFO - 将来窓設定: 0～27ヶ月
2025-12-19 11:35:09,805 - INFO - 訓練用軌跡を抽出...
2025-12-19 11:35:09,805 - INFO - ================================================================================
2025-12-19 11:35:09,805 - INFO - レビュー承諾予測用軌跡抽出を開始（データリークなし版）
2025-12-19 11:35:09,805 - INFO - 訓練期間全体: 2021-04-01 00:00:00 ～ 2021-07-01 00:00:00
2025-12-19 11:35:09,805 - INFO - 将来窓: 0～27ヶ月
2025-12-19 11:35:09,805 - INFO - 拡張ラベル期間: 0～12ヶ月
2025-12-19 11:35:09,805 - INFO - プロジェクト: 全プロジェクト
2025-12-19 11:35:09,806 - INFO - ラベル定義: この期間で承諾=1、この期間で拒否=0、依頼なし→拡張期間チェック、訓練時は拡張期間にも依頼なしで除外
2025-12-19 11:35:09,806 - INFO - データリーク防止: 訓練期間内でラベル計算
2025-12-19 11:35:09,806 - INFO - ================================================================================
2025-12-19 11:35:09,806 - INFO - 特徴量計算期間（訓練全体）: 2021-04-01 00:00:00 ～ 2021-07-01 00:00:00
2025-12-19 11:35:09,806 - INFO - 全体ラベル期間（train_end時点から）: 2021-07-01 00:00:00 ～ 2023-10-01 00:00:00
2025-12-19 11:35:09,811 - INFO - 特徴量計算期間内のレビュアー数: 246
2025-12-19 11:35:10,865 - INFO - ================================================================================
2025-12-19 11:35:10,865 - INFO - 軌跡抽出完了: 195サンプル（レビュアー）
2025-12-19 11:35:10,865 - INFO -   スキップ（最小依頼数未満）: 0
2025-12-19 11:35:10,865 - INFO -   スキップ（訓練期間末尾まで依頼なし）: 51
2025-12-19 11:35:10,865 - INFO -   正例（この期間で承諾あり）: 172 (88.2%)
2025-12-19 11:35:10,865 - INFO -   負例（この期間で承諾なし）: 23 (11.8%)
2025-12-19 11:35:10,865 - INFO -     - 依頼あり→拒否（重み=1.0）: 23
2025-12-19 11:35:10,865 - INFO -   総ステップ数: 390
2025-12-19 11:35:10,865 - INFO -   継続ステップ率: 47.7% (186/390)
2025-12-19 11:35:10,865 - INFO - ================================================================================
/Users/kazuki-h/research/multiproject_research/.venv/lib/python3.13/site-packages/torch/nn/modules/rnn.py:123: UserWarning: dropout option adds dropout after all but last recurrent layer, so non-zero dropout expects num_layers greater than 1, but got dropout=0.2 and num_layers=1
  warnings.warn(
2025-12-19 11:35:10,867 - INFO - 継続予測IRLシステムを初期化しました
2025-12-19 11:35:10,867 - INFO - 訓練データ正例率: 88.2% (172/195)
2025-12-19 11:35:10,867 - INFO - Focal Loss パラメータ更新: alpha=0.400, gamma=1.000
2025-12-19 11:35:10,867 - INFO - 正例率 88.2% に基づき自動調整: バランス重視（正例率≥60%・軽い正例優先)
2025-12-19 11:35:10,867 - INFO - IRLモデルを訓練...
2025-12-19 11:35:10,867 - INFO - ============================================================
2025-12-19 11:35:10,867 - INFO - 時系列IRL訓練開始
2025-12-19 11:35:10,867 - INFO - 軌跡数: 195
2025-12-19 11:35:10,867 - INFO - エポック数: 20
2025-12-19 11:35:10,867 - INFO - ============================================================
2025-12-19 11:35:11,171 - INFO - エポック 0: 平均損失 = 1.1784
2025-12-19 11:35:14,486 - INFO - エポック 10: 平均損失 = 0.7208
2025-12-19 11:35:17,584 - INFO - 時系列IRL訓練完了
2025-12-19 11:35:17,584 - INFO - 訓練データ上で最適閾値を決定...
2025-12-19 11:35:17,956 - INFO - 最適閾値: 0.1438
2025-12-19 11:35:17,956 - INFO - 訓練データ性能: Precision=0.882, Recall=1.000, F1=0.937
2025-12-19 11:35:17,958 - INFO - モデルを保存: outputs/android_50projects_irl/train_3-6m/irl_model.pt
2025-12-19 11:35:17,958 - INFO - 最適閾値を保存: outputs/android_50projects_irl/train_3-6m/optimal_threshold.json
2025-12-19 11:35:17,958 - INFO - 評価用軌跡を抽出...
2025-12-19 11:35:17,958 - INFO - ================================================================================
2025-12-19 11:35:17,958 - INFO - 評価用軌跡抽出を開始（スナップショット特徴量用）
2025-12-19 11:35:17,958 - INFO - Cutoff日: 2021-07-01 00:00:00
2025-12-19 11:35:17,958 - INFO - 履歴ウィンドウ: 3ヶ月
2025-12-19 11:35:17,958 - INFO - 将来窓: 24～27ヶ月
2025-12-19 11:35:17,958 - INFO - 拡張ラベル期間: 24～12ヶ月
2025-12-19 11:35:17,958 - INFO - プロジェクト: 全プロジェクト
2025-12-19 11:35:17,958 - INFO - 継続判定: この期間で承諾=1、この期間で拒否=0、依頼なし→拡張期間チェック、評価時は拡張期間にも依頼なしで除外（予測の母集団に入れない）
2025-12-19 11:35:17,958 - INFO - ================================================================================
2025-12-19 11:35:17,958 - INFO - 履歴期間: 2021-04-01 00:00:00 ～ 2021-07-01 00:00:00
2025-12-19 11:35:17,958 - INFO - 評価期間: 2023-07-01 00:00:00 ～ 2023-10-01 00:00:00
2025-12-19 11:35:17,960 - INFO - 履歴期間内のレビュアー数: 246
2025-12-19 11:35:18,162 - INFO - ================================================================================
2025-12-19 11:35:18,162 - INFO - 評価用軌跡抽出完了: 123サンプル
2025-12-19 11:35:18,162 - INFO -   スキップ（最小依頼数未満）: 0
2025-12-19 11:35:18,162 - INFO -   スキップ（訓練期間末尾まで依頼なし）: 123
2025-12-19 11:35:18,162 - INFO -   正例（この期間で承諾あり）: 105 (85.4%)
2025-12-19 11:35:18,163 - INFO -   負例（この期間で承諾なし）: 18 (14.6%)
2025-12-19 11:35:18,163 - INFO -     - 依頼あり→拒否（重み=1.0）: 18
2025-12-19 11:35:18,163 - INFO - ================================================================================
2025-12-19 11:35:18,163 - INFO - 予測を実行...
2025-12-19 11:35:18,454 - INFO - ================================================================================
2025-12-19 11:35:18,454 - INFO - 評価結果 (3-6m → 6-9m):
2025-12-19 11:35:18,454 - INFO -   AUC-ROC: 0.6066
2025-12-19 11:35:18,454 - INFO -   AUC-PR: 0.8939
2025-12-19 11:35:18,454 - INFO -   Precision: 0.8537
2025-12-19 11:35:18,454 - INFO -   Recall: 1.0000
2025-12-19 11:35:18,454 - INFO -   F1 Score: 0.9211
2025-12-19 11:35:18,454 - INFO - ================================================================================
2025-12-19 11:35:18,455 - INFO - 結果を保存: outputs/android_50projects_irl/train_3-6m/eval_6-9m
2025-12-19 11:35:18,459 - INFO - 
【7/10】パターン実行中...
2025-12-19 11:35:18,459 - INFO - ================================================================================
2025-12-19 11:35:18,459 - INFO - パターン: 3-6m → 9-12m
2025-12-19 11:35:18,459 - INFO - 訓練期間: 2021-04-01 00:00:00 ～ 2021-07-01 00:00:00
2025-12-19 11:35:18,459 - INFO - 評価期間: 2023-10-01 00:00:00 ～ 2024-01-01 00:00:00
2025-12-19 11:35:18,459 - INFO - ================================================================================
2025-12-19 11:35:18,459 - INFO - レビュー依頼データを読み込み: data/android_50proj_2021_2024_feat_clean.csv
2025-12-19 11:35:18,619 - INFO - 総レビュー依頼数: 46064
2025-12-19 11:35:18,620 - INFO - 承諾数: 29031 (63.0%)
2025-12-19 11:35:18,620 - INFO - 拒否数: 17033 (37.0%)
2025-12-19 11:35:18,620 - INFO - 将来窓設定: 0～30ヶ月
2025-12-19 11:35:18,620 - INFO - 訓練用軌跡を抽出...
2025-12-19 11:35:18,620 - INFO - ================================================================================
2025-12-19 11:35:18,620 - INFO - レビュー承諾予測用軌跡抽出を開始（データリークなし版）
2025-12-19 11:35:18,620 - INFO - 訓練期間全体: 2021-04-01 00:00:00 ～ 2021-07-01 00:00:00
2025-12-19 11:35:18,620 - INFO - 将来窓: 0～30ヶ月
2025-12-19 11:35:18,620 - INFO - 拡張ラベル期間: 0～12ヶ月
2025-12-19 11:35:18,620 - INFO - プロジェクト: 全プロジェクト
2025-12-19 11:35:18,620 - INFO - ラベル定義: この期間で承諾=1、この期間で拒否=0、依頼なし→拡張期間チェック、訓練時は拡張期間にも依頼なしで除外
2025-12-19 11:35:18,620 - INFO - データリーク防止: 訓練期間内でラベル計算
2025-12-19 11:35:18,620 - INFO - ================================================================================
2025-12-19 11:35:18,620 - INFO - 特徴量計算期間（訓練全体）: 2021-04-01 00:00:00 ～ 2021-07-01 00:00:00
2025-12-19 11:35:18,620 - INFO - 全体ラベル期間（train_end時点から）: 2021-07-01 00:00:00 ～ 2024-01-01 00:00:00
2025-12-19 11:35:18,624 - INFO - 特徴量計算期間内のレビュアー数: 246
2025-12-19 11:35:19,940 - INFO - ================================================================================
2025-12-19 11:35:19,940 - INFO - 軌跡抽出完了: 196サンプル（レビュアー）
2025-12-19 11:35:19,940 - INFO -   スキップ（最小依頼数未満）: 0
2025-12-19 11:35:19,940 - INFO -   スキップ（訓練期間末尾まで依頼なし）: 50
2025-12-19 11:35:19,940 - INFO -   正例（この期間で承諾あり）: 174 (88.8%)
2025-12-19 11:35:19,941 - INFO -   負例（この期間で承諾なし）: 22 (11.2%)
2025-12-19 11:35:19,941 - INFO -     - 依頼あり→拒否（重み=1.0）: 22
2025-12-19 11:35:19,941 - INFO -   総ステップ数: 392
2025-12-19 11:35:19,941 - INFO -   継続ステップ率: 47.4% (186/392)
2025-12-19 11:35:19,941 - INFO - ================================================================================
/Users/kazuki-h/research/multiproject_research/.venv/lib/python3.13/site-packages/torch/nn/modules/rnn.py:123: UserWarning: dropout option adds dropout after all but last recurrent layer, so non-zero dropout expects num_layers greater than 1, but got dropout=0.2 and num_layers=1
  warnings.warn(
2025-12-19 11:35:19,942 - INFO - 継続予測IRLシステムを初期化しました
2025-12-19 11:35:19,942 - INFO - 訓練データ正例率: 88.8% (174/196)
2025-12-19 11:35:19,942 - INFO - Focal Loss パラメータ更新: alpha=0.400, gamma=1.000
2025-12-19 11:35:19,942 - INFO - 正例率 88.8% に基づき自動調整: バランス重視（正例率≥60%・軽い正例優先)
2025-12-19 11:35:19,942 - INFO - IRLモデルを訓練...
2025-12-19 11:35:19,942 - INFO - ============================================================
2025-12-19 11:35:19,942 - INFO - 時系列IRL訓練開始
2025-12-19 11:35:19,942 - INFO - 軌跡数: 196
2025-12-19 11:35:19,942 - INFO - エポック数: 20
2025-12-19 11:35:19,942 - INFO - ============================================================
2025-12-19 11:35:20,276 - INFO - エポック 0: 平均損失 = 1.1708
2025-12-19 11:35:23,359 - INFO - エポック 10: 平均損失 = 0.7133
2025-12-19 11:35:26,150 - INFO - 時系列IRL訓練完了
2025-12-19 11:35:26,150 - INFO - 訓練データ上で最適閾値を決定...
2025-12-19 11:35:26,524 - INFO - 最適閾値: 0.1446
2025-12-19 11:35:26,524 - INFO - 訓練データ性能: Precision=0.888, Recall=1.000, F1=0.941
2025-12-19 11:35:26,525 - INFO - モデルを保存: outputs/android_50projects_irl/train_3-6m/irl_model.pt
2025-12-19 11:35:26,525 - INFO - 最適閾値を保存: outputs/android_50projects_irl/train_3-6m/optimal_threshold.json
2025-12-19 11:35:26,525 - INFO - 評価用軌跡を抽出...
2025-12-19 11:35:26,525 - INFO - ================================================================================
2025-12-19 11:35:26,525 - INFO - 評価用軌跡抽出を開始（スナップショット特徴量用）
2025-12-19 11:35:26,525 - INFO - Cutoff日: 2021-07-01 00:00:00
2025-12-19 11:35:26,525 - INFO - 履歴ウィンドウ: 3ヶ月
2025-12-19 11:35:26,525 - INFO - 将来窓: 27～30ヶ月
2025-12-19 11:35:26,525 - INFO - 拡張ラベル期間: 27～12ヶ月
2025-12-19 11:35:26,525 - INFO - プロジェクト: 全プロジェクト
2025-12-19 11:35:26,525 - INFO - 継続判定: この期間で承諾=1、この期間で拒否=0、依頼なし→拡張期間チェック、評価時は拡張期間にも依頼なしで除外（予測の母集団に入れない）
2025-12-19 11:35:26,525 - INFO - ================================================================================
2025-12-19 11:35:26,525 - INFO - 履歴期間: 2021-04-01 00:00:00 ～ 2021-07-01 00:00:00
2025-12-19 11:35:26,525 - INFO - 評価期間: 2023-10-01 00:00:00 ～ 2024-01-01 00:00:00
2025-12-19 11:35:26,527 - INFO - 履歴期間内のレビュアー数: 246
2025-12-19 11:35:26,715 - INFO - ================================================================================
2025-12-19 11:35:26,715 - INFO - 評価用軌跡抽出完了: 108サンプル
2025-12-19 11:35:26,715 - INFO -   スキップ（最小依頼数未満）: 0
2025-12-19 11:35:26,715 - INFO -   スキップ（訓練期間末尾まで依頼なし）: 138
2025-12-19 11:35:26,715 - INFO -   正例（この期間で承諾あり）: 91 (84.3%)
2025-12-19 11:35:26,715 - INFO -   負例（この期間で承諾なし）: 17 (15.7%)
2025-12-19 11:35:26,715 - INFO -     - 依頼あり→拒否（重み=1.0）: 17
2025-12-19 11:35:26,715 - INFO - ================================================================================
2025-12-19 11:35:26,715 - INFO - 予測を実行...
2025-12-19 11:35:26,995 - INFO - ================================================================================
2025-12-19 11:35:26,995 - INFO - 評価結果 (3-6m → 9-12m):
2025-12-19 11:35:26,995 - INFO -   AUC-ROC: 0.6988
2025-12-19 11:35:26,995 - INFO -   AUC-PR: 0.9229
2025-12-19 11:35:26,995 - INFO -   Precision: 0.8426
2025-12-19 11:35:26,995 - INFO -   Recall: 1.0000
2025-12-19 11:35:26,995 - INFO -   F1 Score: 0.9146
2025-12-19 11:35:26,995 - INFO - ================================================================================
2025-12-19 11:35:26,996 - INFO - 結果を保存: outputs/android_50projects_irl/train_3-6m/eval_9-12m
2025-12-19 11:35:26,999 - INFO - 
【8/10】パターン実行中...
2025-12-19 11:35:27,000 - INFO - ================================================================================
2025-12-19 11:35:27,000 - INFO - パターン: 6-9m → 6-9m
2025-12-19 11:35:27,000 - INFO - 訓練期間: 2021-07-01 00:00:00 ～ 2021-10-01 00:00:00
2025-12-19 11:35:27,000 - INFO - 評価期間: 2023-07-01 00:00:00 ～ 2023-10-01 00:00:00
2025-12-19 11:35:27,000 - INFO - ================================================================================
2025-12-19 11:35:27,000 - INFO - レビュー依頼データを読み込み: data/android_50proj_2021_2024_feat_clean.csv
2025-12-19 11:35:27,166 - INFO - 総レビュー依頼数: 46064
2025-12-19 11:35:27,166 - INFO - 承諾数: 29031 (63.0%)
2025-12-19 11:35:27,167 - INFO - 拒否数: 17033 (37.0%)
2025-12-19 11:35:27,167 - INFO - 将来窓設定: 0～24ヶ月
2025-12-19 11:35:27,167 - INFO - 訓練用軌跡を抽出...
2025-12-19 11:35:27,167 - INFO - ================================================================================
2025-12-19 11:35:27,167 - INFO - レビュー承諾予測用軌跡抽出を開始（データリークなし版）
2025-12-19 11:35:27,167 - INFO - 訓練期間全体: 2021-07-01 00:00:00 ～ 2021-10-01 00:00:00
2025-12-19 11:35:27,167 - INFO - 将来窓: 0～24ヶ月
2025-12-19 11:35:27,167 - INFO - 拡張ラベル期間: 0～12ヶ月
2025-12-19 11:35:27,167 - INFO - プロジェクト: 全プロジェクト
2025-12-19 11:35:27,167 - INFO - ラベル定義: この期間で承諾=1、この期間で拒否=0、依頼なし→拡張期間チェック、訓練時は拡張期間にも依頼なしで除外
2025-12-19 11:35:27,167 - INFO - データリーク防止: 訓練期間内でラベル計算
2025-12-19 11:35:27,167 - INFO - ================================================================================
2025-12-19 11:35:27,167 - INFO - 特徴量計算期間（訓練全体）: 2021-07-01 00:00:00 ～ 2021-10-01 00:00:00
2025-12-19 11:35:27,167 - INFO - 全体ラベル期間（train_end時点から）: 2021-10-01 00:00:00 ～ 2023-10-01 00:00:00
2025-12-19 11:35:27,171 - INFO - 特徴量計算期間内のレビュアー数: 215
2025-12-19 11:35:28,172 - INFO - ================================================================================
2025-12-19 11:35:28,172 - INFO - 軌跡抽出完了: 176サンプル（レビュアー）
2025-12-19 11:35:28,172 - INFO -   スキップ（最小依頼数未満）: 0
2025-12-19 11:35:28,172 - INFO -   スキップ（訓練期間末尾まで依頼なし）: 39
2025-12-19 11:35:28,172 - INFO -   正例（この期間で承諾あり）: 164 (93.2%)
2025-12-19 11:35:28,172 - INFO -   負例（この期間で承諾なし）: 12 (6.8%)
2025-12-19 11:35:28,172 - INFO -     - 依頼あり→拒否（重み=1.0）: 12
2025-12-19 11:35:28,172 - INFO -   総ステップ数: 352
2025-12-19 11:35:28,172 - INFO -   継続ステップ率: 56.2% (198/352)
2025-12-19 11:35:28,172 - INFO - ================================================================================
/Users/kazuki-h/research/multiproject_research/.venv/lib/python3.13/site-packages/torch/nn/modules/rnn.py:123: UserWarning: dropout option adds dropout after all but last recurrent layer, so non-zero dropout expects num_layers greater than 1, but got dropout=0.2 and num_layers=1
  warnings.warn(
2025-12-19 11:35:28,174 - INFO - 継続予測IRLシステムを初期化しました
2025-12-19 11:35:28,174 - INFO - 訓練データ正例率: 93.2% (164/176)
2025-12-19 11:35:28,174 - INFO - Focal Loss パラメータ更新: alpha=0.400, gamma=1.000
2025-12-19 11:35:28,174 - INFO - 正例率 93.2% に基づき自動調整: バランス重視（正例率≥60%・軽い正例優先)
2025-12-19 11:35:28,174 - INFO - IRLモデルを訓練...
2025-12-19 11:35:28,174 - INFO - ============================================================
2025-12-19 11:35:28,174 - INFO - 時系列IRL訓練開始
2025-12-19 11:35:28,174 - INFO - 軌跡数: 176
2025-12-19 11:35:28,174 - INFO - エポック数: 20
2025-12-19 11:35:28,174 - INFO - ============================================================
2025-12-19 11:35:28,447 - INFO - エポック 0: 平均損失 = 1.1535
2025-12-19 11:35:31,181 - INFO - エポック 10: 平均損失 = 0.9443
2025-12-19 11:35:33,789 - INFO - 時系列IRL訓練完了
2025-12-19 11:35:33,789 - INFO - 訓練データ上で最適閾値を決定...
2025-12-19 11:35:34,046 - INFO - 最適閾値: 0.2358
2025-12-19 11:35:34,046 - INFO - 訓練データ性能: Precision=0.932, Recall=1.000, F1=0.965
2025-12-19 11:35:34,047 - INFO - モデルを保存: outputs/android_50projects_irl/train_6-9m/irl_model.pt
2025-12-19 11:35:34,047 - INFO - 最適閾値を保存: outputs/android_50projects_irl/train_6-9m/optimal_threshold.json
2025-12-19 11:35:34,047 - INFO - 評価用軌跡を抽出...
2025-12-19 11:35:34,047 - INFO - ================================================================================
2025-12-19 11:35:34,047 - INFO - 評価用軌跡抽出を開始（スナップショット特徴量用）
2025-12-19 11:35:34,047 - INFO - Cutoff日: 2021-10-01 00:00:00
2025-12-19 11:35:34,047 - INFO - 履歴ウィンドウ: 3ヶ月
2025-12-19 11:35:34,047 - INFO - 将来窓: 21～24ヶ月
2025-12-19 11:35:34,047 - INFO - 拡張ラベル期間: 21～12ヶ月
2025-12-19 11:35:34,047 - INFO - プロジェクト: 全プロジェクト
2025-12-19 11:35:34,047 - INFO - 継続判定: この期間で承諾=1、この期間で拒否=0、依頼なし→拡張期間チェック、評価時は拡張期間にも依頼なしで除外（予測の母集団に入れない）
2025-12-19 11:35:34,047 - INFO - ================================================================================
2025-12-19 11:35:34,047 - INFO - 履歴期間: 2021-07-01 00:00:00 ～ 2021-10-01 00:00:00
2025-12-19 11:35:34,047 - INFO - 評価期間: 2023-07-01 00:00:00 ～ 2023-10-01 00:00:00
2025-12-19 11:35:34,049 - INFO - 履歴期間内のレビュアー数: 215
2025-12-19 11:35:34,240 - INFO - ================================================================================
2025-12-19 11:35:34,240 - INFO - 評価用軌跡抽出完了: 127サンプル
2025-12-19 11:35:34,240 - INFO -   スキップ（最小依頼数未満）: 0
2025-12-19 11:35:34,240 - INFO -   スキップ（訓練期間末尾まで依頼なし）: 88
2025-12-19 11:35:34,240 - INFO -   正例（この期間で承諾あり）: 113 (89.0%)
2025-12-19 11:35:34,240 - INFO -   負例（この期間で承諾なし）: 14 (11.0%)
2025-12-19 11:35:34,240 - INFO -     - 依頼あり→拒否（重み=1.0）: 14
2025-12-19 11:35:34,240 - INFO - ================================================================================
2025-12-19 11:35:34,240 - INFO - 予測を実行...
2025-12-19 11:35:34,459 - INFO - ================================================================================
2025-12-19 11:35:34,459 - INFO - 評価結果 (6-9m → 6-9m):
2025-12-19 11:35:34,459 - INFO -   AUC-ROC: 0.6713
2025-12-19 11:35:34,459 - INFO -   AUC-PR: 0.9471
2025-12-19 11:35:34,459 - INFO -   Precision: 0.8898
2025-12-19 11:35:34,459 - INFO -   Recall: 1.0000
2025-12-19 11:35:34,459 - INFO -   F1 Score: 0.9417
2025-12-19 11:35:34,459 - INFO - ================================================================================
2025-12-19 11:35:34,461 - INFO - 結果を保存: outputs/android_50projects_irl/train_6-9m/eval_6-9m
2025-12-19 11:35:34,464 - INFO - 
【9/10】パターン実行中...
2025-12-19 11:35:34,464 - INFO - ================================================================================
2025-12-19 11:35:34,464 - INFO - パターン: 6-9m → 9-12m
2025-12-19 11:35:34,464 - INFO - 訓練期間: 2021-07-01 00:00:00 ～ 2021-10-01 00:00:00
2025-12-19 11:35:34,464 - INFO - 評価期間: 2023-10-01 00:00:00 ～ 2024-01-01 00:00:00
2025-12-19 11:35:34,464 - INFO - ================================================================================
2025-12-19 11:35:34,464 - INFO - レビュー依頼データを読み込み: data/android_50proj_2021_2024_feat_clean.csv
2025-12-19 11:35:34,641 - INFO - 総レビュー依頼数: 46064
2025-12-19 11:35:34,641 - INFO - 承諾数: 29031 (63.0%)
2025-12-19 11:35:34,641 - INFO - 拒否数: 17033 (37.0%)
2025-12-19 11:35:34,641 - INFO - 将来窓設定: 0～27ヶ月
2025-12-19 11:35:34,641 - INFO - 訓練用軌跡を抽出...
2025-12-19 11:35:34,641 - INFO - ================================================================================
2025-12-19 11:35:34,641 - INFO - レビュー承諾予測用軌跡抽出を開始（データリークなし版）
2025-12-19 11:35:34,641 - INFO - 訓練期間全体: 2021-07-01 00:00:00 ～ 2021-10-01 00:00:00
2025-12-19 11:35:34,641 - INFO - 将来窓: 0～27ヶ月
2025-12-19 11:35:34,641 - INFO - 拡張ラベル期間: 0～12ヶ月
2025-12-19 11:35:34,641 - INFO - プロジェクト: 全プロジェクト
2025-12-19 11:35:34,641 - INFO - ラベル定義: この期間で承諾=1、この期間で拒否=0、依頼なし→拡張期間チェック、訓練時は拡張期間にも依頼なしで除外
2025-12-19 11:35:34,641 - INFO - データリーク防止: 訓練期間内でラベル計算
2025-12-19 11:35:34,641 - INFO - ================================================================================
2025-12-19 11:35:34,642 - INFO - 特徴量計算期間（訓練全体）: 2021-07-01 00:00:00 ～ 2021-10-01 00:00:00
2025-12-19 11:35:34,642 - INFO - 全体ラベル期間（train_end時点から）: 2021-10-01 00:00:00 ～ 2024-01-01 00:00:00
2025-12-19 11:35:34,646 - INFO - 特徴量計算期間内のレビュアー数: 215
2025-12-19 11:35:35,775 - INFO - ================================================================================
2025-12-19 11:35:35,776 - INFO - 軌跡抽出完了: 176サンプル（レビュアー）
2025-12-19 11:35:35,776 - INFO -   スキップ（最小依頼数未満）: 0
2025-12-19 11:35:35,776 - INFO -   スキップ（訓練期間末尾まで依頼なし）: 39
2025-12-19 11:35:35,776 - INFO -   正例（この期間で承諾あり）: 165 (93.8%)
2025-12-19 11:35:35,776 - INFO -   負例（この期間で承諾なし）: 11 (6.2%)
2025-12-19 11:35:35,776 - INFO -     - 依頼あり→拒否（重み=1.0）: 11
2025-12-19 11:35:35,776 - INFO -   総ステップ数: 352
2025-12-19 11:35:35,776 - INFO -   継続ステップ率: 56.2% (198/352)
2025-12-19 11:35:35,776 - INFO - ================================================================================
/Users/kazuki-h/research/multiproject_research/.venv/lib/python3.13/site-packages/torch/nn/modules/rnn.py:123: UserWarning: dropout option adds dropout after all but last recurrent layer, so non-zero dropout expects num_layers greater than 1, but got dropout=0.2 and num_layers=1
  warnings.warn(
2025-12-19 11:35:35,778 - INFO - 継続予測IRLシステムを初期化しました
2025-12-19 11:35:35,778 - INFO - 訓練データ正例率: 93.8% (165/176)
2025-12-19 11:35:35,778 - INFO - Focal Loss パラメータ更新: alpha=0.400, gamma=1.000
2025-12-19 11:35:35,778 - INFO - 正例率 93.8% に基づき自動調整: バランス重視（正例率≥60%・軽い正例優先)
2025-12-19 11:35:35,778 - INFO - IRLモデルを訓練...
2025-12-19 11:35:35,778 - INFO - ============================================================
2025-12-19 11:35:35,778 - INFO - 時系列IRL訓練開始
2025-12-19 11:35:35,778 - INFO - 軌跡数: 176
2025-12-19 11:35:35,778 - INFO - エポック数: 20
2025-12-19 11:35:35,778 - INFO - ============================================================
2025-12-19 11:35:36,056 - INFO - エポック 0: 平均損失 = 1.1582
2025-12-19 11:35:39,062 - INFO - エポック 10: 平均損失 = 0.9560
2025-12-19 11:35:41,604 - INFO - 時系列IRL訓練完了
2025-12-19 11:35:41,604 - INFO - 訓練データ上で最適閾値を決定...
2025-12-19 11:35:41,857 - INFO - 最適閾値: 0.1991
2025-12-19 11:35:41,857 - INFO - 訓練データ性能: Precision=0.938, Recall=1.000, F1=0.968
2025-12-19 11:35:41,858 - INFO - モデルを保存: outputs/android_50projects_irl/train_6-9m/irl_model.pt
2025-12-19 11:35:41,858 - INFO - 最適閾値を保存: outputs/android_50projects_irl/train_6-9m/optimal_threshold.json
2025-12-19 11:35:41,858 - INFO - 評価用軌跡を抽出...
2025-12-19 11:35:41,858 - INFO - ================================================================================
2025-12-19 11:35:41,858 - INFO - 評価用軌跡抽出を開始（スナップショット特徴量用）
2025-12-19 11:35:41,858 - INFO - Cutoff日: 2021-10-01 00:00:00
2025-12-19 11:35:41,858 - INFO - 履歴ウィンドウ: 3ヶ月
2025-12-19 11:35:41,858 - INFO - 将来窓: 24～27ヶ月
2025-12-19 11:35:41,858 - INFO - 拡張ラベル期間: 24～12ヶ月
2025-12-19 11:35:41,858 - INFO - プロジェクト: 全プロジェクト
2025-12-19 11:35:41,858 - INFO - 継続判定: この期間で承諾=1、この期間で拒否=0、依頼なし→拡張期間チェック、評価時は拡張期間にも依頼なしで除外（予測の母集団に入れない）
2025-12-19 11:35:41,859 - INFO - ================================================================================
2025-12-19 11:35:41,859 - INFO - 履歴期間: 2021-07-01 00:00:00 ～ 2021-10-01 00:00:00
2025-12-19 11:35:41,859 - INFO - 評価期間: 2023-10-01 00:00:00 ～ 2024-01-01 00:00:00
2025-12-19 11:35:41,860 - INFO - 履歴期間内のレビュアー数: 215
2025-12-19 11:35:42,037 - INFO - ================================================================================
2025-12-19 11:35:42,037 - INFO - 評価用軌跡抽出完了: 114サンプル
2025-12-19 11:35:42,037 - INFO -   スキップ（最小依頼数未満）: 0
2025-12-19 11:35:42,037 - INFO -   スキップ（訓練期間末尾まで依頼なし）: 101
2025-12-19 11:35:42,037 - INFO -   正例（この期間で承諾あり）: 102 (89.5%)
2025-12-19 11:35:42,037 - INFO -   負例（この期間で承諾なし）: 12 (10.5%)
2025-12-19 11:35:42,037 - INFO -     - 依頼あり→拒否（重み=1.0）: 12
2025-12-19 11:35:42,037 - INFO - ================================================================================
2025-12-19 11:35:42,037 - INFO - 予測を実行...
2025-12-19 11:35:42,238 - INFO - ================================================================================
2025-12-19 11:35:42,238 - INFO - 評価結果 (6-9m → 9-12m):
2025-12-19 11:35:42,238 - INFO -   AUC-ROC: 0.6699
2025-12-19 11:35:42,238 - INFO -   AUC-PR: 0.9529
2025-12-19 11:35:42,238 - INFO -   Precision: 0.8947
2025-12-19 11:35:42,238 - INFO -   Recall: 1.0000
2025-12-19 11:35:42,238 - INFO -   F1 Score: 0.9444
2025-12-19 11:35:42,238 - INFO - ================================================================================
2025-12-19 11:35:42,240 - INFO - 結果を保存: outputs/android_50projects_irl/train_6-9m/eval_9-12m
2025-12-19 11:35:42,242 - INFO - 
【10/10】パターン実行中...
2025-12-19 11:35:42,243 - INFO - ================================================================================
2025-12-19 11:35:42,243 - INFO - パターン: 9-12m → 9-12m
2025-12-19 11:35:42,243 - INFO - 訓練期間: 2021-10-01 00:00:00 ～ 2022-01-01 00:00:00
2025-12-19 11:35:42,243 - INFO - 評価期間: 2023-10-01 00:00:00 ～ 2024-01-01 00:00:00
2025-12-19 11:35:42,243 - INFO - ================================================================================
2025-12-19 11:35:42,243 - INFO - レビュー依頼データを読み込み: data/android_50proj_2021_2024_feat_clean.csv
2025-12-19 11:35:42,410 - INFO - 総レビュー依頼数: 46064
2025-12-19 11:35:42,411 - INFO - 承諾数: 29031 (63.0%)
2025-12-19 11:35:42,411 - INFO - 拒否数: 17033 (37.0%)
2025-12-19 11:35:42,411 - INFO - 将来窓設定: 0～24ヶ月
2025-12-19 11:35:42,411 - INFO - 訓練用軌跡を抽出...
2025-12-19 11:35:42,411 - INFO - ================================================================================
2025-12-19 11:35:42,411 - INFO - レビュー承諾予測用軌跡抽出を開始（データリークなし版）
2025-12-19 11:35:42,411 - INFO - 訓練期間全体: 2021-10-01 00:00:00 ～ 2022-01-01 00:00:00
2025-12-19 11:35:42,411 - INFO - 将来窓: 0～24ヶ月
2025-12-19 11:35:42,411 - INFO - 拡張ラベル期間: 0～12ヶ月
2025-12-19 11:35:42,411 - INFO - プロジェクト: 全プロジェクト
2025-12-19 11:35:42,411 - INFO - ラベル定義: この期間で承諾=1、この期間で拒否=0、依頼なし→拡張期間チェック、訓練時は拡張期間にも依頼なしで除外
2025-12-19 11:35:42,411 - INFO - データリーク防止: 訓練期間内でラベル計算
2025-12-19 11:35:42,411 - INFO - ================================================================================
2025-12-19 11:35:42,411 - INFO - 特徴量計算期間（訓練全体）: 2021-10-01 00:00:00 ～ 2022-01-01 00:00:00
2025-12-19 11:35:42,411 - INFO - 全体ラベル期間（train_end時点から）: 2022-01-01 00:00:00 ～ 2024-01-01 00:00:00
2025-12-19 11:35:42,417 - INFO - 特徴量計算期間内のレビュアー数: 325
2025-12-19 11:35:43,817 - INFO - ================================================================================
2025-12-19 11:35:43,817 - INFO - 軌跡抽出完了: 266サンプル（レビュアー）
2025-12-19 11:35:43,817 - INFO -   スキップ（最小依頼数未満）: 0
2025-12-19 11:35:43,817 - INFO -   スキップ（訓練期間末尾まで依頼なし）: 59
2025-12-19 11:35:43,817 - INFO -   正例（この期間で承諾あり）: 228 (85.7%)
2025-12-19 11:35:43,817 - INFO -   負例（この期間で承諾なし）: 38 (14.3%)
2025-12-19 11:35:43,817 - INFO -     - 依頼あり→拒否（重み=1.0）: 38
2025-12-19 11:35:43,817 - INFO -   総ステップ数: 532
2025-12-19 11:35:43,817 - INFO -   継続ステップ率: 40.8% (217/532)
2025-12-19 11:35:43,817 - INFO - ================================================================================
/Users/kazuki-h/research/multiproject_research/.venv/lib/python3.13/site-packages/torch/nn/modules/rnn.py:123: UserWarning: dropout option adds dropout after all but last recurrent layer, so non-zero dropout expects num_layers greater than 1, but got dropout=0.2 and num_layers=1
  warnings.warn(
2025-12-19 11:35:43,819 - INFO - 継続予測IRLシステムを初期化しました
2025-12-19 11:35:43,819 - INFO - 訓練データ正例率: 85.7% (228/266)
2025-12-19 11:35:43,819 - INFO - Focal Loss パラメータ更新: alpha=0.400, gamma=1.000
2025-12-19 11:35:43,819 - INFO - 正例率 85.7% に基づき自動調整: バランス重視（正例率≥60%・軽い正例優先)
2025-12-19 11:35:43,819 - INFO - IRLモデルを訓練...
2025-12-19 11:35:43,819 - INFO - ============================================================
2025-12-19 11:35:43,819 - INFO - 時系列IRL訓練開始
2025-12-19 11:35:43,819 - INFO - 軌跡数: 266
2025-12-19 11:35:43,819 - INFO - エポック数: 20
2025-12-19 11:35:43,819 - INFO - ============================================================
2025-12-19 11:35:44,363 - INFO - エポック 0: 平均損失 = 1.1519
2025-12-19 11:35:48,733 - INFO - エポック 10: 平均損失 = 0.8069
2025-12-19 11:35:52,461 - INFO - 時系列IRL訓練完了
2025-12-19 11:35:52,461 - INFO - 訓練データ上で最適閾値を決定...
2025-12-19 11:35:52,907 - INFO - 最適閾値: 0.1396
2025-12-19 11:35:52,907 - INFO - 訓練データ性能: Precision=0.857, Recall=1.000, F1=0.923
2025-12-19 11:35:52,908 - INFO - モデルを保存: outputs/android_50projects_irl/train_9-12m/irl_model.pt
2025-12-19 11:35:52,908 - INFO - 最適閾値を保存: outputs/android_50projects_irl/train_9-12m/optimal_threshold.json
2025-12-19 11:35:52,908 - INFO - 評価用軌跡を抽出...
2025-12-19 11:35:52,908 - INFO - ================================================================================
2025-12-19 11:35:52,908 - INFO - 評価用軌跡抽出を開始（スナップショット特徴量用）
2025-12-19 11:35:52,908 - INFO - Cutoff日: 2022-01-01 00:00:00
2025-12-19 11:35:52,908 - INFO - 履歴ウィンドウ: 3ヶ月
2025-12-19 11:35:52,908 - INFO - 将来窓: 21～24ヶ月
2025-12-19 11:35:52,908 - INFO - 拡張ラベル期間: 21～12ヶ月
2025-12-19 11:35:52,908 - INFO - プロジェクト: 全プロジェクト
2025-12-19 11:35:52,908 - INFO - 継続判定: この期間で承諾=1、この期間で拒否=0、依頼なし→拡張期間チェック、評価時は拡張期間にも依頼なしで除外（予測の母集団に入れない）
2025-12-19 11:35:52,908 - INFO - ================================================================================
2025-12-19 11:35:52,908 - INFO - 履歴期間: 2021-10-01 00:00:00 ～ 2022-01-01 00:00:00
2025-12-19 11:35:52,908 - INFO - 評価期間: 2023-10-01 00:00:00 ～ 2024-01-01 00:00:00
2025-12-19 11:35:52,910 - INFO - 履歴期間内のレビュアー数: 325
2025-12-19 11:35:53,184 - INFO - ================================================================================
2025-12-19 11:35:53,184 - INFO - 評価用軌跡抽出完了: 150サンプル
2025-12-19 11:35:53,184 - INFO -   スキップ（最小依頼数未満）: 0
2025-12-19 11:35:53,184 - INFO -   スキップ（訓練期間末尾まで依頼なし）: 175
2025-12-19 11:35:53,184 - INFO -   正例（この期間で承諾あり）: 126 (84.0%)
2025-12-19 11:35:53,184 - INFO -   負例（この期間で承諾なし）: 24 (16.0%)
2025-12-19 11:35:53,184 - INFO -     - 依頼あり→拒否（重み=1.0）: 24
2025-12-19 11:35:53,184 - INFO - ================================================================================
2025-12-19 11:35:53,184 - INFO - 予測を実行...
2025-12-19 11:35:53,566 - INFO - ================================================================================
2025-12-19 11:35:53,566 - INFO - 評価結果 (9-12m → 9-12m):
2025-12-19 11:35:53,566 - INFO -   AUC-ROC: 0.6706
2025-12-19 11:35:53,566 - INFO -   AUC-PR: 0.9289
2025-12-19 11:35:53,566 - INFO -   Precision: 0.8400
2025-12-19 11:35:53,566 - INFO -   Recall: 1.0000
2025-12-19 11:35:53,566 - INFO -   F1 Score: 0.9130
2025-12-19 11:35:53,566 - INFO - ================================================================================
2025-12-19 11:35:53,567 - INFO - 結果を保存: outputs/android_50projects_irl/train_9-12m/eval_9-12m
2025-12-19 11:35:53,571 - INFO - ================================================================================
2025-12-19 11:35:53,571 - INFO - メトリクスマトリクスを作成中...
2025-12-19 11:35:53,571 - INFO - ================================================================================
2025-12-19 11:35:53,574 - INFO - 保存: outputs/android_50projects_irl/matrix_AUC_ROC.csv
2025-12-19 11:35:53,576 - INFO - 
          0-3m      3-6m      6-9m     9-12m
0-3m   0.39348  0.640954  0.385076  0.607918
3-6m       NaN  0.693900  0.606614  0.698772
6-9m       NaN       NaN  0.671302  0.669935
9-12m      NaN       NaN       NaN  0.670635
2025-12-19 11:35:53,576 - INFO - 保存: outputs/android_50projects_irl/matrix_AUC_PR.csv
2025-12-19 11:35:53,577 - INFO - 
           0-3m      3-6m      6-9m     9-12m
0-3m   0.860206  0.927933  0.829298  0.905568
3-6m        NaN  0.938374  0.893894  0.922856
6-9m        NaN       NaN  0.947087  0.952865
9-12m       NaN       NaN       NaN  0.928904
2025-12-19 11:35:53,578 - INFO - 保存: outputs/android_50projects_irl/matrix_PRECISION.csv
2025-12-19 11:35:53,579 - INFO - 
           0-3m      3-6m      6-9m     9-12m
0-3m   0.870504  0.861789  0.850000  0.828571
3-6m        NaN  0.864000  0.853659  0.842593
6-9m        NaN       NaN  0.889764  0.894737
9-12m       NaN       NaN       NaN  0.840000
2025-12-19 11:35:53,579 - INFO - 保存: outputs/android_50projects_irl/matrix_RECALL.csv
2025-12-19 11:35:53,580 - INFO - 
       0-3m  3-6m  6-9m  9-12m
0-3m    1.0   1.0   1.0    1.0
3-6m    NaN   1.0   1.0    1.0
6-9m    NaN   NaN   1.0    1.0
9-12m   NaN   NaN   NaN    1.0
2025-12-19 11:35:53,580 - INFO - 保存: outputs/android_50projects_irl/matrix_f1_score.csv
2025-12-19 11:35:53,581 - INFO - 
           0-3m      3-6m      6-9m     9-12m
0-3m   0.930769  0.925764  0.918919  0.906250
3-6m        NaN  0.927039  0.921053  0.914573
6-9m        NaN       NaN  0.941667  0.944444
9-12m       NaN       NaN       NaN  0.913043
2025-12-19 11:35:53,581 - INFO - ================================================================================
2025-12-19 11:35:53,581 - INFO - マトリクス作成完了
2025-12-19 11:35:53,581 - INFO - ================================================================================
2025-12-19 11:35:53,581 - INFO - ================================================================================
2025-12-19 11:35:53,581 - INFO - 全パターンの訓練・評価が完了しました
2025-12-19 11:35:53,581 - INFO - 結果: outputs/android_50projects_irl
2025-12-19 11:35:53,581 - INFO - ================================================================================
