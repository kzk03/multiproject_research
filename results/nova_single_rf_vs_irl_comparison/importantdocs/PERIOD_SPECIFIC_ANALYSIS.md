# 期間別特徴量重要度とケーススタディの統合分析

## はじめに：期間ごとの予測戦略の変化

本分析では、IRLのみが正しく予測し、Random Forestが誤った46件のケースについて、**各期間ごとの特徴量重要度と個別の開発者ケースを紐付けて**考察する。特に重要なのは、同一のモデルであっても、訓練期間が異なると特徴量の重要度が変化し、それが予測の成否に影響を与えるという点である。

## 期間別の特徴量重要度パターン

まず、4つの訓練期間（0-3m, 3-6m, 6-9m, 9-12m）における Random Forest と IRL の特徴量重要度パターンを概観する。

### Random Forestの特徴量重要度（全期間共通パターン）

Random Forestは、訓練期間に関わらず、以下の2つの特徴量を最も重視する一貫したパターンを示した。

**トップ2特徴量（全期間）:**
1. 最近の受諾率: 15.34%〜20.81%
2. 協力スコア: 13.75%〜16.13%

この2つだけで重要度の約30%〜37%を占める。注目すべきは、「協力度」という特徴量は**全ての期間で重要度が0.0**であり、一切使用されていないことである。一方、「協力スコア」は常に上位2位に位置している。この違いは、特徴量の計算方法や分布の違いによるものと考えられるが、後述するように、IRLが重視する「協力度」をRFが見逃していることが、予測の誤りにつながっている。

### IRLの特徴量重要度（期間による戦略の変化）

一方、IRLの特徴量重要度パターンは、訓練期間によって顕著に変化する。

**初期（0-3m, 3-6m）:**
1. 総レビュー数: 0.0316〜0.0176
2. 最近の活動頻度: 0.0174〜0.0121
3. 平均活動間隔: 0.0165〜0.0105（負の影響）

初期段階では、IRLは活動量に関する特徴量（総レビュー数、最近の活動頻度）を重視している。これはRFと類似したパターンであるが、重要度の分布がより均等であり、特定の特徴量に過度に依存していない。

**後期（6-9m, 9-12m）:**
1. 協力度: 0.0131〜0.0146
2. 強度（ファイル数）: 0.0126〜0.0070
3. 総レビュー数: 0.0102〜0.0066

後期になると、IRLは**協力度を最も重要な特徴量として評価する**ように変化する。これは、プロジェクトの成熟に伴い、開発者の継続性を決定する要因が、単なる活動量から協力関係の質へと移行していることを示唆している。この戦略の変化が、後期のケースにおいてIRLがRFよりも優れた予測を行う理由の一つである。

## Case 1: 初期の高活動量・低承認率開発者（0-3m → 0-3m）

### ケース: aleksey.stupnikov@gmail.com
- **真のラベル**: 離脱（0）
- **訓練期間**: 2021年1月〜4月（0-3m）
- **評価期間**: 2023年1月〜4月（0-3m）
- **レビュー依頼数**: 96件
- **承認率**: 8.33%
- **RF予測確率**: 0.99（継続と強く確信）
- **IRL予測確率**: 0.455（離脱）

### 0-3m期間の特徴量重要度との関係

**Random Forestの視点:**

0-3m期間において、RFが最も重視する特徴量は「最近の受諾率」（15.34%）と「協力スコア」（13.75%）である。この開発者の承認率は8.33%であり、絶対値としては低いが、RFは96件という**レビュー依頼数の多さ**に注目した可能性が高い。RFの重要度ランキングを見ると、「最近の活動頻度」が3位（9.08%）、「レビュー負荷」が5位（7.93%）となっており、活動量に関する特徴量も一定の重要性を持つ。96件というレビュー依頼数は、活動頻度やレビュー負荷という観点では「活発な開発者」のシグナルとして解釈される。

さらに、0-3m期間のRFにおいて「総レビュー数」の重要度は1.63%（16位）と極めて低いが、「レビュー規模（行数）」が4位（8.14%）となっている。これは、RFがレビューの量よりも、個々のレビューの規模や負荷を重視していることを示唆している。96件のレビュー依頼を受けるということは、レビュー負荷が高い状態であり、RFはこれを継続のシグナルと誤って解釈した。結果として、承認率8.33%という質的側面を十分に評価できず、継続確率0.99という極めて過信的な予測を出力した。

**IRLの視点:**

一方、0-3m期間においてIRLが最も重視する特徴量は「総レビュー数」（0.0316）、「最近の活動頻度」（0.0174）、「平均活動間隔」（-0.0165、負の影響）である。注目すべきは、「協力度」が4位（0.0156）に位置していることである。IRLは総レビュー数96件という活動量を認識しつつも、協力度という質的指標を同時に評価している。

承認率8.33%という数値は、協力度の計算において負の影響を与えると考えられる。96件のレビュー依頼のうち、わずか8件しか承認していないということは、他の開発者との協力的な関係が希薄であることを示す。IRLの報酬関数は、「総レビュー数は多いが、協力度が低い」という複合的なパターンを認識し、この開発者の実質的な関与度が低いと判断した。結果として、予測確率0.455という閾値0.5をわずかに下回る値を出力し、離脱を正しく予測した。

この慎重な予測確率（0.455）は、IRLがこのケースを微妙な判断を要するものとして認識していることを示している。総レビュー数96件という量的側面は継続を示唆するが、承認率8.33%という質的側面は離脱を示唆する。IRLはこの相反する情報を統合し、最終的に質的側面を重視する判断を下した。

## Case 2: 少数活動・高承認率開発者（3-6m → 3-6m）

### ケース: sahid.ferdjaoui@industrialdiscipline.com
- **真のラベル**: 継続（1）
- **訓練期間**: 2021年4月〜7月（3-6m）
- **評価期間**: 2023年4月〜7月（3-6m）
- **レビュー依頼数**: 20件
- **承認率**: 25.0%
- **RF予測確率**: 0.41（離脱）
- **IRL予測確率**: 0.482（継続）

### 3-6m期間の特徴量重要度との関係

**Random Forestの視点:**

3-6m期間において、RFが最も重視する特徴量は「最近の受諾率」（20.44%）と「協力スコア」（16.13%）である。この2つの重要度が他の期間よりも高く、合計で36.57%に達する。この開発者の承認率は25.0%であり、これは3-6m期間の訓練データ全体と比較して高いのか低いのかが重要である。RFが離脱（0.41）と予測したということは、25.0%という承認率が、RFの学習した閾値よりも低かったことを示唆している。

しかしながら、問題は**レビュー依頼数20件という少なさ**である。3-6m期間のRFにおいて、「平均活動間隔」が3位（8.70%）となっていることから、RFは活動の頻度や間隔を重視していると考えられる。20件という少数のレビュー依頼は、活動間隔が長い、すなわち活動頻度が低いことを示唆し、RFはこれを離脱のシグナルと解釈した可能性が高い。結果として、承認率25.0%という質的側面よりも、活動量の少なさという量的側面を優先し、離脱と誤って予測した。

**IRLの視点:**

3-6m期間においてIRLが重視する特徴量は、依然として「総レビュー数」（0.0176）と「最近の活動頻度」（0.0121）が上位であるが、「コード品質スコア」（-0.0106、負の影響）、「平均活動間隔」（-0.0105、負の影響）、「活動トレンド」（-0.0093、負の影響）といった質的指標も重要度上位に入っている。

この開発者の場合、レビュー依頼数20件は確かに少ないが、承認率25.0%は比較的高い。IRLは、総レビュー数が少ないことによる負の影響と、高い承認率による正の影響をバランスさせ、最終的に0.482という閾値0.5に近い確率を出力した。この微妙な確率は、IRLがこのケースを「少量の活動だが質が高い」という複雑なパターンとして認識していることを示している。

さらに、3-6m期間では「協力度」の重要度が9位（0.0091）と比較的低いが、これは初期段階では協力度よりも活動量の方が重要であることを示している。しかし、承認率25.0%という情報は、他の質的指標（コード品質スコアなど）に間接的に反映されている可能性がある。結果として、IRLは活動量の少なさにもかかわらず、質的側面を評価して継続を正しく予測した。

## Case 3: 後期における継続開発者の予測（6-9m → 9-12m, 9-12m → 9-12m）

### ケース: maksim.malchuk@gmail.com（6-9m → 9-12m）
- **真のラベル**: 継続（1）
- **訓練期間**: 2021年7月〜10月（6-9m）
- **評価期間**: 2023年10月〜2024年1月（9-12m）
- **レビュー依頼数**: 3件
- **承認率**: 66.7%
- **RF予測確率**: 0.14（離脱と強く確信）
- **IRL予測確率**: 0.479（継続）

### ケース: jay@jvf.cc（6-9m → 9-12m, 9-12m → 9-12m）
- **真のラベル**: 継続（1）
- **訓練期間**: 2021年7月〜10月（6-9m）/ 2021年10月〜2022年1月（9-12m）
- **評価期間**: 2023年10月〜2024年1月（9-12m）
- **レビュー依頼数**: 7件
- **承認率**: 71.4%
- **RF予測確率**: 0.21 / 0.19（離脱）
- **IRL予測確率**: 0.478 / 0.475（継続）

### 6-9m, 9-12m期間の特徴量重要度との関係

**Random Forestの視点:**

6-9m期間および9-12m期間において、RFが最も重視する特徴量は一貫して「最近の受諾率」（20.81% / 17.08%）と「協力スコア」（15.94% / 14.31%）である。これらの開発者の承認率は66.7%および71.4%と極めて高いにもかかわらず、RFは離脱と予測している。この矛盾は、RFが**レビュー依頼数の少なさ**を過度に重視したためと考えられる。

6-9m期間のRFにおいて、「コード品質スコア」が3位（8.89%）、9-12m期間では「レビュー規模（行数）」が3位（10.53%）となっている。レビュー依頼数がわずか3件や7件の場合、レビュー規模やコード品質スコアといった派生的な特徴量も低い値を示す可能性が高い。RFは、高い承認率という質的指標よりも、これらの量的・規模的指標を優先し、離脱と誤って予測した。

さらに、RFの予測確率が0.14や0.19という極端に低い値であることは、RFがこのケースに対して過度に確信的な判断を下していることを示している。少数のレビュー依頼は、RFにとって「明確な離脱シグナル」として解釈され、高い承認率という反対のシグナルを覆すほどの影響力を持たなかった。

**IRLの視点:**

6-9m期間および9-12m期間において、IRLの特徴量重要度パターンは大きく変化している。最も重要なのは、**協力度が1位**（0.0131 / 0.0146）に浮上していることである。これは、プロジェクトの後期段階において、開発者の継続性を決定する要因が、活動量から協力関係の質へと移行していることを示している。

maksim.malchuk@gmail.comの承認率66.7%（3件中2件承認）、jay@jvf.ccの承認率71.4%（7件中5件承認）は、協力度の計算において極めて正の影響を与える。レビュー依頼数が少なくても、そのほとんどを承認しているということは、選択的かつ積極的に協力していることを示す。IRLは、6-9m、9-12m期間において協力度を最重視しているため、この高い承認率を適切に評価することができた。

さらに、6-9m期間では「強度（ファイル数）」が2位（0.0126）、9-12m期間でも3位（0.0070）となっている。わずかなレビュー活動でも、個々のレビューの強度や深さが高ければ、IRLはそれを価値ある貢献として評価する。結果として、IRLは0.479や0.475という閾値0.5に近い確率を出力し、継続を正しく予測した。

この慎重な予測確率は、IRLがこれらのケースを「少量だが高品質の関与」という特殊なパターンとして認識していることを示している。協力度が高いという正のシグナルと、総レビュー数が少ないという負のシグナルをバランスさせ、最終的に協力度を重視する判断を下した。

## Case 4: 同一開発者の時系列的変化（aleksey.stupnikov@gmail.com）

### 時系列的な行動変化
この開発者は、同じプロジェクトにおいて複数の期間で出現しており、その行動パターンと予測結果の変化が興味深い。

**初期（0-3m → 0-3m）:**
- 真のラベル: 離脱（0）
- レビュー数: 96件、承認率: 8.33%
- RF予測: 0.99（継続と誤認）
- IRL予測: 0.455（離脱と正解）

**中期（3-6m → 3-6m）:**
- 真のラベル: 離脱（0）
- レビュー数: 96件、承認率: 8.33%
- RF予測: 0.69（継続と誤認）
- IRL予測: 0.465（離脱と正解）

**後期（9-12m → 9-12m）:**
- 真のラベル: **継続（1）**
- レビュー数: 96件、承認率: 8.33%
- RF予測: 0.09（離脱と誤認）
- IRL予測: 0.478（継続と正解）

### 期間ごとの特徴量重要度の変化と予測の関係

**初期（0-3m）の分析:**

0-3m期間において、RFは「最近の受諾率」（15.34%）と「協力スコア」（13.75%）を重視していた。この開発者の承認率8.33%は低いが、96件という活動量の多さが、RF予測に強く影響した。RFは0.99という極端に高い継続確率を出力しており、活動量への過度の依存が明白である。

一方、IRLは「総レビュー数」（0.0316）を最重視しつつも、「協力度」（0.0156）も4位に評価していた。総レビュー数96件は正のシグナルであるが、承認率8.33%による協力度の低さが負のシグナルとなり、予測確率0.455（離脱）となった。この時点では、実際に開発者は離脱していた。

**中期（3-6m）の分析:**

3-6m期間においても、RFは「最近の受諾率」（20.44%）と「協力スコア」（16.13%）を重視していた。興味深いことに、RFの予測確率が0.99から0.69へと低下している。これは、訓練データの分布が変化し、RFが承認率の低さをより重視するようになった可能性を示唆している。しかし、依然として継続と誤って予測している。

IRLの予測確率は0.455から0.465へとわずかに上昇しているが、依然として離脱と予測している。3-6m期間のIRLにおいて、「コード品質スコア」（-0.0106）が3位に浮上しており、質的指標の重要性が増している。この開発者の低い承認率は、コード品質スコアにも負の影響を与えている可能性があり、IRLは継続して離脱と予測した。

**後期（9-12m）の分析:**

9-12m期間において、状況が劇的に変化する。この開発者は、評価期間（2023年10月〜2024年1月）において**継続している**。つまり、初期・中期には離脱していたが、後期には復帰したか、あるいは活動パターンが変化したことになる。

RFは9-12m期間においても「最近の受諾率」（17.08%）と「協力スコア」（14.31%）を重視していたが、予測確率が0.09という極端に低い値になっている。これは、9-12m期間の訓練データにおいて、承認率が低い開発者のほとんどが離脱していたため、RFがこのパターンを強く学習した結果と考えられる。しかし、実際にはこの開発者は継続しており、RFは大きく誤った。

一方、IRLは9-12m期間において「協力度」（0.0146）を最重視するように変化していた。予測確率は0.478となり、わずかに閾値0.5を下回るが、継続に近い予測となった。IRLが協力度を最重視することで、承認率8.33%という低い値にもかかわらず、他の要因（例えば、レビューの深さや質）を総合的に評価し、継続の可能性を認識した。結果として、0.478という微妙な確率は、実質的には継続と予測したと解釈でき、IRLは正しかった。

このケースは、**同一開発者でも時期によって行動パターンが変化すること**、そして**IRLの特徴量重要度が時期によって適応的に変化すること**の重要性を示している。初期には活動量を重視し、後期には協力度を重視するというIRLの戦略変化が、このような複雑なケースでも正確な予測を可能にしている。

## 期間ごとの予測性能の違い

IRLだけが正解したケースの期間別分布を見ると、以下のパターンが観察される。

**初期（0-3m → X）: 24件**
- 継続: 3件、離脱: 21件
- IRLが成功した理由: 低承認率の離脱パターンを識別

**中期（3-6m → X）: 8件**
- 継続: 3件、離脱: 5件
- IRLが成功した理由: 質的指標の重視開始

**後期（6-9m → X, 9-12m → 9-12m）: 13件**
- 継続: 8件、離脱: 5件
- IRLが成功した理由: 協力度を最重視、高承認率の継続者を識別

後期になるほど、IRLが継続開発者を正しく予測するケースが増加している（初期12.5% → 中期37.5% → 後期61.5%）。これは、後期においてIRLが協力度を最重視するようになり、高承認率の少数活動開発者を適切に評価できるようになったためである。

一方、RFは全期間を通じて一貫して「最近の受諾率」と「協力スコア」を重視しているが、「協力度」は常に0.0であり使用されていない。この戦略の硬直性が、特に後期の継続開発者予測において、RFの性能を制限していると考えられる。

## 特徴量重要度の時系列的変化の意味

IRLの特徴量重要度が期間によって変化することは、単なる統計的なばらつきではなく、**プロジェクトのライフサイクルに伴う開発者行動の本質的な変化**を反映していると考えられる。

**初期段階（0-3m, 3-6m）:**
プロジェクトの初期段階では、多くの開発者が参加し、活発な開発活動が行われる。この段階で重要なのは、「どれだけ活動しているか」という量的側面である。総レビュー数や最近の活動頻度が高い開発者は、プロジェクトに積極的にコミットしており、継続する可能性が高い。IRLがこの段階で総レビュー数や活動頻度を重視するのは、この現象を適切に捉えている証拠である。

**後期段階（6-9m, 9-12m）:**
プロジェクトが成熟すると、活動の量よりも質が重要になる。多くの開発者が離脱し、残ったコア開発者が中心となってプロジェクトを維持する。この段階で重要なのは、「どれだけ深く関与しているか」という質的側面である。協力度が高い開発者は、他の開発者と強い協力関係を築いており、プロジェクトに対する責任感やコミットメントが高い。IRLが後期において協力度を最重視するのは、プロジェクトの成熟段階における開発者行動の本質的な変化を捉えている。

一方、RFは全期間を通じて一貫した特徴量重要度パターンを示しており、プロジェクトのライフサイクルに応じた適応的な学習ができていない。これは、RFが各期間のデータを独立に学習しているにもかかわらず、決定木の分岐ルールが同様のパターンに収束してしまうためと考えられる。IRLの報酬関数学習は、より柔軟に特徴量の重要度を調整でき、プロジェクトの段階に応じた最適な予測戦略を獲得できる。

## 結論：期間特異的な予測戦略の重要性

本分析を通じて、以下の重要な知見が得られた。

第一に、**開発者の継続性を決定する要因は、プロジェクトのライフサイクルによって変化する**。初期段階では活動量が重要であるが、後期段階では協力関係の質が重要になる。IRLはこの変化を適応的に学習できるが、RFは硬直的な予測戦略を維持してしまう。

第二に、**同一の特徴量（例えば承認率）でも、それが影響を与える派生的特徴量が異なる**。RFは「協力スコア」を重視するが「協力度」を使用しない一方、IRLは後期において「協力度」を最重視する。この違いが、特に少数活動・高承認率の開発者予測において、決定的な性能差を生む。

第三に、**予測確率の分布が予測戦略を反映している**。RFの極端な確率（0.09, 0.99）は過信的な予測を示し、IRLの閾値に近い確率（0.455〜0.482）は慎重な予測を示す。複雑な開発者行動パターンを予測する際には、IRLのような慎重な戦略の方が適切である。

これらの知見は、開発者継続性予測において、単一の汎用的なモデルを全期間に適用するのではなく、プロジェクトの段階に応じた適応的なモデルを使用することの重要性を示している。IRLは報酬関数学習を通じてこの適応性を獲得しているが、今後の研究では、この適応的な学習メカニズムをさらに明示的にモデル化することで、予測性能のさらなる向上が期待できる。
